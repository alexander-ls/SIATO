!function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i,n=t(document);t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var i=t('meta[name="csrf-token"]').attr("content");i&&e.setRequestHeader("X-CSRF-Token",i)},fire:function(e,i,n){var o=t.Event(i);return e.trigger(o,n),o.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(n){var o,r,s,a,l,c,u,d;if(i.fire(n,"ajax:before")){if(a=n.data("cross-domain"),l=a===e?null:a,c=n.data("with-credentials")||null,u=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){o=n.attr("method"),r=n.attr("action"),s=n.serializeArray();var h=n.data("ujs:submit-button");h&&(s.push(h),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(o=n.data("method"),r=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(o=n.data("method")||"get",r=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):(o=n.data("method"),r=i.href(n),s=n.data("params")||null);d={type:o||"GET",data:s,dataType:u,beforeSend:function(t,o){return o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),i.fire(n,"ajax:beforeSend",[t,o])},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:l},c&&(d.xhrFields={withCredentials:c}),r&&(d.url=r);var p=i.ajax(d);return n.trigger("ajax:send",p),p}return!1},handleMethod:function(n){var o=i.href(n),r=n.data("method"),s=n.attr("target"),a=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),c=t('<form method="post" action="'+o+'"></form>'),u='<input name="_method" value="'+r+'" type="hidden" />';l!==e&&a!==e&&(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(u).appendTo("body"),c.submit()},disableFormElements:function(e){e.find(i.disableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with",e[i]()),e[i](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(i.enableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[i](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,n=t.data("confirm"),o=!1;return n?(i.fire(t,"confirm")&&(o=i.confirm(n),e=i.fire(t,"confirm:complete",[o])),o&&e):!0},blankInputs:function(e,i,n){var o,r,s=t(),a=i||"input,textarea",l=e.find(a);return l.each(function(){if(o=t(this),r=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):o.val(),!r==!n){if(o.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+o.attr("name")+'"]').length)return!0;s=s.add(o)}}),s.length?s:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},i.fire(n,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),n.delegate(i.linkClickSelector,"click.rails",function(n){var o=t(this),r=o.data("method"),s=o.data("params");if(!i.allowAction(o))return i.stopEverything(n);if(o.is(i.linkDisableSelector)&&i.disableElement(o),o.data("remote")!==e){if(!(!n.metaKey&&!n.ctrlKey||r&&"GET"!==r||s))return!0;var a=i.handleRemote(o);return a===!1?i.enableElement(o):a.error(function(){i.enableElement(o)}),!1}return o.data("method")?(i.handleMethod(o),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),n.delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var o=t(this),r=o.data("remote")!==e,s=i.blankInputs(o,i.requiredInputSelector),a=i.nonBlankInputs(o,i.fileInputSelector);if(!i.allowAction(o))return i.stopEverything(n);if(s&&o.attr("novalidate")==e&&i.fire(o,"ajax:aborted:required",[s]))return i.stopEverything(n);if(r){if(a){setTimeout(function(){i.disableFormElements(o)},13);var l=i.fire(o,"ajax:aborted:file",[a]);return l||setTimeout(function(){i.enableFormElements(o)},13),l}return i.handleRemote(o),!1}setTimeout(function(){i.disableFormElements(o)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var o=n.attr("name"),r=o?{name:o,value:n.val()}:null;n.closest("form").data("ujs:submit-button",r)}),n.delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&i.disableFormElements(t(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&i.enableFormElements(t(this))}),t(function(){var e=t("meta[name=csrf-token]").attr("content"),i=t("meta[name=csrf-param]").attr("content");t('form input[name="'+i+'"]').val(e)}))}(jQuery),/*!
 * jQuery Tools v1.2.6 - The missing UI library for the Web
 * 
 * tooltip/tooltip.js
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/
 * 
 */
function(t){function e(e,i,n){var o=n.relative?e.position().top:e.offset().top,r=n.relative?e.position().left:e.offset().left,s=n.position[0];o-=i.outerHeight()-n.offset[0],r+=e.outerWidth()+n.offset[1],/iPad/i.test(navigator.userAgent)&&(o-=t(window).scrollTop());var a=i.outerHeight()+e.outerHeight();"center"==s&&(o+=a/2),"bottom"==s&&(o+=a),s=n.position[1];var l=i.outerWidth()+e.outerWidth();return"center"==s&&(r-=l/2),"left"==s&&(r-=l),{top:o,left:r}}function i(i,o){var r,s,a=this,l=i.add(a),c=0,u=0,d=i.attr("title"),h=i.attr("data-tooltip"),p=n[o.effect],f=i.is(":input"),m=f&&i.is(":checkbox, :radio, select, :button, :submit"),v=i.attr("type"),b=o.events[v]||o.events[f?m?"widget":"input":"def"];if(!p)throw'Nonexistent effect "'+o.effect+'"';if(b=b.split(/,\s*/),2!=b.length)throw"Tooltip: bad events configuration for "+v;i.bind(b[0],function(t){clearTimeout(c),o.predelay?u=setTimeout(function(){a.show(t)},o.predelay):a.show(t)}).bind(b[1],function(t){clearTimeout(u),o.delay?c=setTimeout(function(){a.hide(t)},o.delay):a.hide(t)}),d&&o.cancelDefault&&(i.removeAttr("title"),i.data("title",d)),t.extend(a,{show:function(n){if(!r&&(h?r=t(h):o.tip?r=t(o.tip).eq(0):d?r=t(o.layout).addClass(o.tipClass).appendTo(document.body).hide().append(d):(r=i.next(),r.length||(r=i.parent().next())),!r.length))throw"Cannot find tooltip for "+i;if(a.isShown())return a;r.stop(!0,!0);var f=e(i,r,o);if(o.tip&&r.html(i.data("title")),n=t.Event(),n.type="onBeforeShow",l.trigger(n,[f]),n.isDefaultPrevented())return a;f=e(i,r,o),r.css({position:"absolute",top:f.top,left:f.left}),s=!0,p[0].call(a,function(){n.type="onShow",s="full",l.trigger(n)});var m=o.events.tooltip.split(/,\s*/);return r.data("__set")||(r.unbind(m[0]).bind(m[0],function(){clearTimeout(c),clearTimeout(u)}),m[1]&&!i.is("input:not(:checkbox, :radio), textarea")&&r.unbind(m[1]).bind(m[1],function(t){t.relatedTarget!=i[0]&&i.trigger(b[1].split(" ")[0])}),o.tip||r.data("__set",!0)),a},hide:function(e){return r&&a.isShown()?(e=t.Event(),e.type="onBeforeHide",l.trigger(e),e.isDefaultPrevented()?void 0:(s=!1,n[o.effect][1].call(a,function(){e.type="onHide",l.trigger(e)}),a)):a},isShown:function(t){return t?"full"==s:s},getConf:function(){return o},getTip:function(){return r},getTrigger:function(){return i}}),t.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(e,i){t.isFunction(o[i])&&t(a).bind(i,o[i]),a[i]=function(e){return e&&t(a).bind(i,e),a}})}t.tools=t.tools||{version:"v1.2.6"},t.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,fadeIE:!1,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(t,e,i){n[t]=[e,i]}};var n={toggle:[function(t){var e=this.getConf(),i=this.getTip(),n=e.opacity;1>n&&i.css({opacity:n}),i.show(),t.call()},function(t){this.getTip().hide(),t.call()}],fade:[function(e){var i=this.getConf();!t.browser.msie||i.fadeIE?this.getTip().fadeTo(i.fadeInSpeed,i.opacity,e):(this.getTip().show(),e())},function(e){var i=this.getConf();!t.browser.msie||i.fadeIE?this.getTip().fadeOut(i.fadeOutSpeed,e):(this.getTip().hide(),e())}]};t.fn.tooltip=function(e){var n=this.data("tooltip");return n?n:(e=t.extend(!0,{},t.tools.tooltip.conf,e),"string"==typeof e.position&&(e.position=e.position.split(/,?\s/)),this.each(function(){n=new i(t(this),e),t(this).data("tooltip",n)}),e.api?n:this)}}(jQuery),/*
 * jQuery UI Widget 1.8.23+amd
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t,e){if(t.cleanData){var i=t.cleanData;t.cleanData=function(e){for(var n,o=0;null!=(n=e[o]);o++)try{t(n).triggerHandler("remove")}catch(r){}i(e)}}else{var n=t.fn.remove;t.fn.remove=function(e,i){return this.each(function(){return i||(!e||t.filter(e,[this]).length)&&t("*",this).add([this]).each(function(){try{t(this).triggerHandler("remove")}catch(e){}}),n.call(t(this),e,i)})}}t.widget=function(e,i,n){var o,r=e.split(".")[0];e=e.split(".")[1],o=r+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][o]=function(i){return!!t.data(i,e)},t[r]=t[r]||{},t[r][e]=function(t,e){arguments.length&&this._createWidget(t,e)};var s=new i;s.options=t.extend(!0,{},s.options),t[r][e].prototype=t.extend(!0,s,{namespace:r,widgetName:e,widgetEventPrefix:t[r][e].prototype.widgetEventPrefix||e,widgetBaseClass:o},n),t.widget.bridge(e,t[r][e])},t.widget.bridge=function(i,n){t.fn[i]=function(o){var r="string"==typeof o,s=Array.prototype.slice.call(arguments,1),a=this;return o=!r&&s.length?t.extend.apply(null,[!0,o].concat(s)):o,r&&"_"===o.charAt(0)?a:(r?this.each(function(){var n=t.data(this,i),r=n&&t.isFunction(n[o])?n[o].apply(n,s):n;return r!==n&&r!==e?(a=r,!1):void 0}):this.each(function(){var e=t.data(this,i);e?e.option(o||{})._init():t.data(this,i,new n(o,this))}),a)}},t.Widget=function(t,e){arguments.length&&this._createWidget(t,e)},t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(e,i){t.data(i,this.widgetName,this),this.element=t(i),this.options=t.extend(!0,{},this.options,this._getCreateOptions(),e);var n=this;this.element.bind("remove."+this.widgetName,function(){n.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return t.metadata&&t.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(i,n){var o=i;if(0===arguments.length)return t.extend({},this.options);if("string"==typeof i){if(n===e)return this.options[i];o={},o[i]=n}return this._setOptions(o),this},_setOptions:function(e){var i=this;return t.each(e,function(t,e){i._setOption(t,e)}),this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&this.widget()[e?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",e),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(e,i,n){var o,r,s=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(o in r)o in i||(i[o]=r[o]);return this.element.trigger(i,n),!(t.isFunction(s)&&s.call(this.element[0],i,n)===!1||i.isDefaultPrevented())}}}),/*
 * jQuery Iframe Transport Plugin 1.5
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(window.jQuery)}(function(t){"use strict";var e=0;t.ajaxTransport("iframe",function(i){if(i.async&&("POST"===i.type||"GET"===i.type)){var n,o;return{send:function(r,s){n=t('<form style="display:none;"></form>'),n.attr("accept-charset",i.formAcceptCharset),o=t('<iframe src="javascript:false;" name="iframe-transport-'+(e+=1)+'"></iframe>').bind("load",function(){var e,r=t.isArray(i.paramName)?i.paramName:[i.paramName];o.unbind("load").bind("load",function(){var e;try{if(e=o.contents(),!e.length||!e[0].firstChild)throw new Error}catch(i){e=void 0}s(200,"success",{iframe:e}),t('<iframe src="javascript:false;"></iframe>').appendTo(n),n.remove()}),n.prop("target",o.prop("name")).prop("action",i.url).prop("method",i.type),i.formData&&t.each(i.formData,function(e,i){t('<input type="hidden"/>').prop("name",i.name).val(i.value).appendTo(n)}),i.fileInput&&i.fileInput.length&&"POST"===i.type&&(e=i.fileInput.clone(),i.fileInput.after(function(t){return e[t]}),i.paramName&&i.fileInput.each(function(e){t(this).prop("name",r[e]||i.paramName)}),n.append(i.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),n.submit(),e&&e.length&&i.fileInput.each(function(i,n){var o=t(e[i]);t(n).prop("name",o.prop("name")),o.replaceWith(n)})}),n.append(o).appendTo(document.body)},abort:function(){o&&o.unbind("load").prop("src","javascript".concat(":false;")),n&&n.remove()}}}}),t.ajaxSetup({converters:{"iframe text":function(e){return t(e[0].body).text()},"iframe json":function(e){return t.parseJSON(t(e[0].body).text())},"iframe html":function(e){return t(e[0].body).html()},"iframe script":function(e){return t.globalEval(t(e[0].body).text())}}})}),/*
 * jQuery File Upload Plugin 5.16.3
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],t):t(window.jQuery)}(function(t){"use strict";t.support.xhrFileUpload=!(!window.XMLHttpRequestUpload||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.widget("blueimp.fileupload",{options:{namespace:void 0,dropZone:t(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,formData:function(t){return t.serializeArray()},add:function(t,e){e.submit()},processData:!1,contentType:!1,cache:!1},_refreshOptionsList:["namespace","dropZone","fileInput","multipart","forceIframeTransport"],_BitrateTimer:function(){this.timestamp=+new Date,this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,i){var n=t-this.timestamp;return(!this.bitrate||!i||n>i)&&(this.bitrate=8*(e-this.loaded)*(1e3/n),this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){var i;return"function"==typeof e.formData?e.formData(e.form):t.isArray(e.formData)?e.formData:e.formData?(i=[],t.each(e.formData,function(t,e){i.push({name:t,value:e})}),i):[]},_getTotal:function(e){var i=0;return t.each(e,function(t,e){i+=e.size||1}),i},_onProgress:function(t,e){if(t.lengthComputable){var i,n,o=+new Date;if(e._time&&e.progressInterval&&o-e._time<e.progressInterval&&t.loaded!==t.total)return;e._time=o,i=e.total||this._getTotal(e.files),n=parseInt(t.loaded/t.total*(e.chunkSize||i),10)+(e.uploadedBytes||0),this._loaded+=n-(e.loaded||e.uploadedBytes||0),e.lengthComputable=!0,e.loaded=n,e.total=i,e.bitrate=e._bitrateTimer.getBitrate(o,n,e.bitrateInterval),this._trigger("progress",t,e),this._trigger("progressall",t,{lengthComputable:!0,loaded:this._loaded,total:this._total,bitrate:this._bitrateTimer.getBitrate(o,this._loaded,e.bitrateInterval)})}},_initProgressListener:function(e){var i=this,n=e.xhr?e.xhr():t.ajaxSettings.xhr();n.upload&&(t(n.upload).bind("progress",function(t){var n=t.originalEvent;t.lengthComputable=n.lengthComputable,t.loaded=n.loaded,t.total=n.total,i._onProgress(t,e)}),e.xhr=function(){return n})},_initXHRData:function(e){var i,n=e.files[0],o=e.multipart||!t.support.xhrFileUpload,r=e.paramName[0];(!o||e.blob)&&(e.headers=t.extend(e.headers,{"X-File-Name":n.name,"X-File-Type":n.type,"X-File-Size":n.size}),e.blob?o||(e.contentType="application/octet-stream",e.data=e.blob):(e.contentType=n.type,e.data=n)),o&&t.support.xhrFormDataFileUpload&&(e.postMessage?(i=this._getFormData(e),e.blob?i.push({name:r,value:e.blob}):t.each(e.files,function(t,n){i.push({name:e.paramName[t]||r,value:n})})):(e.formData instanceof FormData?i=e.formData:(i=new FormData,t.each(this._getFormData(e),function(t,e){i.append(e.name,e.value)})),e.blob?i.append(r,e.blob,n.name):t.each(e.files,function(t,n){n instanceof Blob&&i.append(e.paramName[t]||r,n,n.name)})),e.data=i),e.blob=null},_initIframeSettings:function(e){e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&t("<a></a>").prop("href",e.url).prop("host")!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t,"iframe")},_getParamName:function(e){var i=t(e.fileInput),n=e.paramName;return n?t.isArray(n)||(n=[n]):(n=[],i.each(function(){for(var e=t(this),i=e.prop("name")||"files[]",o=(e.prop("files")||[1]).length;o;)n.push(i),o-=1}),n.length||(n=[i.prop("name")||"files[]"])),n},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form"))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var i=t.extend({},this.options,e);return this._initFormSettings(i),this._initDataSettings(i),i},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,i,n){var o=t.Deferred(),r=o.promise();return i=i||this.options.context||r,e===!0?o.resolveWith(i,n):e===!1&&o.rejectWith(i,n),r.abort=o.promise,this._enhancePromise(r)},_chunkedUpload:function(e,i){var n,o,r,s,a=this,l=e.files[0],c=l.size,u=e.uploadedBytes=e.uploadedBytes||0,d=e.maxChunkSize||c,h=l.webkitSlice||l.mozSlice||l.slice;return this._isXHRUpload(e)&&h&&(u||c>d)&&!e.data?i?!0:u>=c?(l.error="uploadedBytes",this._getXHRPromise(!1,e.context,[null,"error",l.error])):(o=Math.ceil((c-u)/d),n=function(i){return i?n(i-=1).pipe(function(){var n=t.extend({},e);return n.blob=h.call(l,u+i*d,u+(i+1)*d),n.chunkIndex=i,n.chunksNumber=o,n.chunkSize=n.blob.size,a._initXHRData(n),a._initProgressListener(n),r=(t.ajax(n)||a._getXHRPromise(!1,n.context)).done(function(){n.loaded||a._onProgress(t.Event("progress",{lengthComputable:!0,loaded:n.chunkSize,total:n.chunkSize}),n),e.uploadedBytes=n.uploadedBytes+=n.chunkSize})}):a._getXHRPromise(!0,e.context)},s=n(o),s.abort=function(){return r.abort()},this._enhancePromise(s)):!1},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer),this._active+=1,this._loaded+=e.uploadedBytes||0,this._total+=this._getTotal(e.files)},_onDone:function(e,i,n,o){this._isXHRUpload(o)||this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:1,total:1}),o),o.result=e,o.textStatus=i,o.jqXHR=n,this._trigger("done",null,o)},_onFail:function(t,e,i,n){n.jqXHR=t,n.textStatus=e,n.errorThrown=i,this._trigger("fail",null,n),n.recalculateProgress&&(this._loaded-=n.loaded||n.uploadedBytes||0,this._total-=n.total||this._getTotal(n.files))},_onAlways:function(t,e,i,n){this._active-=1,n.textStatus=e,i&&i.always?(n.jqXHR=i,n.result=t):(n.jqXHR=t,n.errorThrown=i),this._trigger("always",null,n),0===this._active&&(this._trigger("stop"),this._loaded=this._total=0,this._bitrateTimer=null)},_onSend:function(e,i){var n,o,r,s=this,a=s._getAJAXSettings(i),l=function(i,o){return s._sending+=1,a._bitrateTimer=new s._BitrateTimer,n=n||(i!==!1&&s._trigger("send",e,a)!==!1&&(s._chunkedUpload(a)||t.ajax(a))||s._getXHRPromise(!1,a.context,o)).done(function(t,e,i){s._onDone(t,e,i,a)}).fail(function(t,e,i){s._onFail(t,e,i,a)}).always(function(t,e,i){if(s._sending-=1,s._onAlways(t,e,i,a),a.limitConcurrentUploads&&a.limitConcurrentUploads>s._sending)for(var n,o=s._slots.shift();o;){if(n=o.state?"pending"===o.state():!o.isRejected()){o.resolve();break}o=s._slots.shift()}})};return this._beforeSend(e,a),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=t.Deferred(),this._slots.push(o),r=o.pipe(l)):r=this._sequence=this._sequence.pipe(l,l),r.abort=function(){var t=[void 0,"abort","abort"];return n?n.abort():(o&&o.rejectWith(r,t),l(!1,t))},this._enhancePromise(r)):l()},_onAdd:function(e,i){var n,o,r,s,a=this,l=!0,c=t.extend({},this.options,i),u=c.limitMultiFileUploads,d=this._getParamName(c);if((c.singleFileUploads||u)&&this._isXHRUpload(c))if(!c.singleFileUploads&&u)for(r=[],n=[],s=0;s<i.files.length;s+=u)r.push(i.files.slice(s,s+u)),o=d.slice(s,s+u),o.length||(o=d),n.push(o);else n=d;else r=[i.files],n=[d];return i.originalFiles=i.files,t.each(r||i.files,function(o,s){var c=t.extend({},i);return c.files=r?s:[s],c.paramName=n[o],c.submit=function(){return c.jqXHR=this.jqXHR=a._trigger("submit",e,this)!==!1&&a._onSend(e,this),this.jqXHR},l=a._trigger("add",e,c)}),l},_replaceFileInput:function(e){var i=e.clone(!0);t("<form></form>").append(i)[0].reset(),e.after(i).detach(),t.cleanData(e.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,n){return n===e[0]?i[0]:n}),e[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(e,i){var n,o=this,r=t.Deferred(),s=function(){r.reject()};return i=i||"",e.isFile?e.file(function(t){t.relativePath=i,r.resolve(t)},s):e.isDirectory?(n=e.createReader(),n.readEntries(function(t){o._handleFileTreeEntries(t,i+e.name+"/").done(function(t){r.resolve(t)}).fail(s)},s)):s(),r.promise()},_handleFileTreeEntries:function(e,i){var n=this;return t.when.apply(t,t.map(e,function(t){return n._handleFileTreeEntry(t,i)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var i=e.items;return i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)?this._handleFileTreeEntries(t.map(i,function(t){return t.webkitGetAsEntry?t.webkitGetAsEntry():t.getAsEntry()})):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getFileInputFiles:function(e){e=t(e);var i,n,o=e.prop("webkitEntries")||e.prop("entries");if(o&&o.length)return this._handleFileTreeEntries(o);if(i=t.makeArray(e.prop("files")),!i.length){if(n=e.prop("value"),!n)return t.Deferred().reject([]).promise();i=[{name:n.replace(/^.*\\/,"")}]}return t.Deferred().resolve(i).promise()},_onChange:function(e){var i=e.data.fileupload,n={fileInput:t(e.target),form:t(e.target.form)};i._getFileInputFiles(n.fileInput).always(function(t){n.files=t,i.options.replaceFileInput&&i._replaceFileInput(n.fileInput),i._trigger("change",e,n)!==!1&&i._onAdd(e,n)})},_onPaste:function(e){var i=e.data.fileupload,n=e.originalEvent.clipboardData,o=n&&n.items||[],r={files:[]};return t.each(o,function(t,e){var i=e.getAsFile&&e.getAsFile();i&&r.files.push(i)}),i._trigger("paste",e,r)===!1||i._onAdd(e,r)===!1?!1:void 0},_onDrop:function(t){t.preventDefault();var e=t.data.fileupload,i=t.dataTransfer=t.originalEvent.dataTransfer,n={};e._getDroppedFiles(i).always(function(i){n.files=i,e._trigger("drop",t,n)!==!1&&e._onAdd(t,n)})},_onDragOver:function(t){var e=t.data.fileupload,i=t.dataTransfer=t.originalEvent.dataTransfer;return e._trigger("dragover",t)===!1?!1:(i&&(i.dropEffect="copy"),t.preventDefault(),void 0)},_initEventHandlers:function(){var t=this.options.namespace;this._isXHRUpload(this.options)&&this.options.dropZone.bind("dragover."+t,{fileupload:this},this._onDragOver).bind("drop."+t,{fileupload:this},this._onDrop).bind("paste."+t,{fileupload:this},this._onPaste),this.options.fileInput.bind("change."+t,{fileupload:this},this._onChange)},_destroyEventHandlers:function(){var t=this.options.namespace;this.options.dropZone.unbind("dragover."+t,this._onDragOver).unbind("drop."+t,this._onDrop).unbind("paste."+t,this._onPaste),this.options.fileInput.unbind("change."+t,this._onChange)},_setOption:function(e,i){var n=-1!==t.inArray(e,this._refreshOptionsList);n&&this._destroyEventHandlers(),t.Widget.prototype._setOption.call(this,e,i),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone))},_create:function(){var e=this.options;t.extend(e,t(this.element[0].cloneNode(!1)).data()),e.namespace=e.namespace||this.widgetName,this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=this._loaded=this._total=0,this._initEventHandlers()},destroy:function(){this._destroyEventHandlers(),t.Widget.prototype.destroy.call(this)},enable:function(){t.Widget.prototype.enable.call(this),this._initEventHandlers()},disable:function(){this._destroyEventHandlers(),t.Widget.prototype.disable.call(this)},add:function(e){var i=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,i._onAdd(null,e)}):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var i,n,o=this,r=t.Deferred(),s=r.promise();return s.abort=function(){return n=!0,i?i.abort():(r.reject(null,"abort","abort"),s)},this._getFileInputFiles(e.fileInput).always(function(t){n||(e.files=t,i=o._onSend(null,e).then(function(t,e,i){r.resolve(t,e,i)},function(t,e,i){r.reject(t,e,i)}))}),this._enhancePromise(s)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})}),/*
 * JavaScript Templates 2.1.0
 * https://github.com/blueimp/JavaScript-Templates
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 *
 * Inspired by John Resig's JavaScript Micro-Templating:
 * http://ejohn.org/blog/javascript-micro-templating/
 */
function(t){"use strict";var e=function(t,i){var n=/[^\w\-\.:]/.test(t)?new Function(e.arg+",tmpl","var _e=tmpl.encode"+e.helper+",_s='"+t.replace(e.regexp,e.func)+"';return _s;"):e.cache[t]=e.cache[t]||e(e.load(t));return i?n(i,e):function(t){return n(t,e)}};e.cache={},e.load=function(t){return document.getElementById(t).innerHTML},e.regexp=/([\s'\\])(?![^%]*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,e.func=function(t,e,i,n,o,r){return e?{"\n":"\\n","\r":"\\r","	":"\\t"," ":" "}[t]||"\\"+t:i?"="===i?"'+_e("+n+")+'":"'+("+n+"||'')+'":o?"';":r?"_s+='":void 0},e.encReg=/[<>&"'\x00]/g,e.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},e.encode=function(t){return String(t||"").replace(e.encReg,function(t){return e.encMap[t]||""})},e.arg="o",e.helper=",print=function(s,e){_s+=e&&(s||'')||_e(s);},include=function(s,d){_s+=tmpl(s,d);}","function"==typeof define&&define.amd?define(function(){return e}):t.tmpl=e}(this),function(t,e,i){function n(t,e){var i,n,s=t.keyCode,c=(e.data("dropkick"),e.find(".dk_options")),u=e.hasClass("dk_open"),d=e.find(".dk_option_current"),h=c.find("li").first(),p=c.find("li").last();switch(s){case f.enter:u?(o(d.find("a"),e),a(e)):l(e),t.preventDefault();break;case f.up:n=d.prev("li"),u?n.length?r(n,e):r(p,e):l(e),t.preventDefault();break;case f.down:u?(i=d.next("li").first(),i.length?r(i,e):r(h,e)):l(e),t.preventDefault()}}function o(t,e,i){var n,o,r;n=t.attr("data-dk-dropdown-value"),o=t.text(),r=e.data("dropkick"),$select=r.$select,$select.val(n),$select.trigger("change"),e.find(".dk_label").text(o),i=i||!1,r.settings.change&&!i&&r.settings.change.call($select,n,o)}function r(t,e){e.find(".dk_option_current").removeClass("dk_option_current"),t.addClass("dk_option_current"),s(e,t)}function s(t,e){var i=e.prevAll("li").outerHeight()*e.prevAll("li").length;t.find(".dk_options_inner").animate({scrollTop:i+"px"},0)}function a(t){t.removeClass("dk_open")}function l(t){t.data("dropkick"),t.find(".dk_options").css({top:t.find(".dk_toggle").outerHeight()-1}),t.toggleClass("dk_open")}function c(e,i){var n,o=e,r=[];if(o=o.replace("{{ id }}",i.id),o=o.replace("{{ label }}",i.label),o=o.replace("{{ tabindex }}",i.tabindex),i.options&&i.options.length)for(var s=0,a=i.options.length;a>s;s++){var l=t(i.options[s]),c="dk_option_current",d=v;d=d.replace("{{ value }}",l.val()),d=d.replace("{{ current }}",u(l.val())===i.value?c:""),d=d.replace("{{ text }}",l.text()),r[r.length]=d}return n=t(o),n.find(".dk_options_inner").html(r.join("")),n}function u(e){return t.trim(e).length>0?e:!1}var d=!1;t.browser.msie&&t.browser.version.substr(0,1)<7?d=!0:i.documentElement.className=i.documentElement.className+" dk_fouc";var h={},p=[],f={left:37,up:38,right:39,down:40,enter:13},m=['<div class="dk_container" id="dk_container_{{ id }}" tabindex="{{ tabindex }}">','<a class="dk_toggle">','<span class="dk_label">{{ label }}</span>',"</a>",'<div class="dk_options">','<ul class="dk_options_inner">',"</ul>","</div>","</div>"].join(""),v='<li class="{{ current }}"><a data-dk-dropdown-value="{{ value }}">{{ text }}</a></li>',b={startSpeed:1e3,theme:!1,change:!1};h.init=function(e){return e=t.extend({},b,e),this.each(function(){var i,n=t(this),o=n.find(":selected").first(),r=n.find("option"),s=n.data("dropkick")||{},a=n.attr("id")||n.attr("name"),l=e.width||n.outerWidth(),d=n.attr("tabindex")?n.attr("tabindex"):"",h=!1;return s.id?n:(s.settings=e,s.tabindex=d,s.id=a,s.$original=o,s.$select=n,s.value=u(n.val())||u(o.attr("value")),s.label=o.text(),s.options=r,h=c(m,s),h.find(".dk_toggle").css({width:l+"px"}),n.before(h),h=t("#dk_container_"+a).fadeIn(e.startSpeed),i=e.theme?e.theme:"default",h.addClass("dk_theme_"+i),s.theme=i,s.$dk=h,n.data("dropkick",s),h.data("dropkick",s),p[p.length]=n,h.bind("focus.dropkick",function(){h.addClass("dk_focus")}).bind("blur.dropkick",function(){h.removeClass("dk_open dk_focus")}),setTimeout(function(){n.hide()},0),void 0)})},h.theme=function(e){var i=t(this),n=i.data("dropkick"),o=n.$dk,r="dk_theme_"+n.theme;o.removeClass(r).addClass("dk_theme_"+e),n.theme=e},h.reset=function(){for(var t=0,e=p.length;e>t;t++){var i=p[t].data("dropkick"),n=i.$dk,s=n.find("li").first();n.find(".dk_label").text(i.label),n.find(".dk_options_inner").animate({scrollTop:0},0),r(s,n),o(s,n,!0)}},t.fn.dropkick=function(t){if(!d){if(h[t])return h[t].apply(this,Array.prototype.slice.call(arguments,1));if("object"==typeof t||!t)return h.init.apply(this,arguments)}},t(function(){t(".dk_toggle").live("click",function(i){var n=t(this).parents(".dk_container").first();return l(n),"ontouchstart"in e&&(n.addClass("dk_touch"),n.find(".dk_options_inner").addClass("scrollable vertical")),i.preventDefault(),!1}),t(".dk_options a").live(t.browser.msie?"mousedown":"click",function(e){var i=t(this),n=i.parents(".dk_container").first();return n.data("dropkick"),a(n),o(i,n),r(i.parent(),n),e.preventDefault(),!1}),t(i).bind("keydown.dk_nav",function(e){var i=t(".dk_container.dk_open"),o=t(".dk_container.dk_focus"),r=null;i.length?r=i:o.length&&!i.length&&(r=o),r&&n(e,r)})})}(jQuery,window,document);/*
  Endless Scroll plugin for jQuery

  v1.8.0

  Copyright (c) 2008-2012 Fred Wu

  Dual licensed under the MIT and GPL licenses:
    http://www.opensource.org/licenses/mit-license.php
    http://www.gnu.org/licenses/gpl.html
*/
var EndlessScroll;/*
	Redactor v7.7.1
	Updated: July 7, 2012
	
	http://redactorjs.com/
	
	Copyright (c) 2009-2012, Imperavi Ltd.
	License: http://redactorjs.com/license/
	
	Usage: $('#content').redactor();
*/
if(EndlessScroll=function(){function t(t,i){var n=this;this.options=$.extend({},e,i),this.pagesStack=[0],this.scrollDirection="next",this.firing=!0,this.fired=!1,this.fireSequence=0,this.pageSequence=0,this.nextSequence=1,this.prevSequence=-1,this.lastScrollTop=0,this.forceNoScroll=!1,this.insertLocation=this.options.insertAfter,this.didScroll=!1,this.isScrollable=!0,this.target=t,this.targetId="",this.content="",this.lastContent="dummy",this.innerWrap=$(".endless_scroll_inner_wrap",this.target),this.handleDeprecatedOptions(),this.setInsertPositionsWhenNecessary(),$(t).scroll(function(){return n.detectTarget(t),n.detectScrollDirection()})}var e;return t.name="EndlessScroll",e={pagesToKeep:null,inflowPixels:50,fireOnce:!0,fireDelay:150,loader:"Loading...",content:"",insertBefore:null,insertAfter:null,intervalFrequency:250,ceaseFireOnEmpty:!0,resetCounter:function(){return!1},callback:function(){return!0},ceaseFire:function(){return!1}},t.prototype.run=function(){var t=this;return setInterval(function(){return t.shouldTryFiring()&&!t.ceaseFireWhenNecessary()&&t.shouldBeFiring()?(t.resetFireSequenceWhenNecessary(),t.acknowledgeFiring(),t.insertLoader(),t.hasContent()&&(t.showContent(),t.fireCallback(),t.cleanUpPagesWhenNecessary(),t.delayFiringWhenNecessary()),t.removeLoader(),t.lastContent=t.content):void 0},this.options.intervalFrequency),this},t.prototype.noScroll=function(){this.forceNoScroll=!0},t.prototype.handleDeprecatedOptions=function(){return this.options.data&&(this.options.content=this.options.data),this.options.bottomPixels?this.options.inflowPixels=this.options.bottomPixels:void 0},t.prototype.setInsertPositionsWhenNecessary=function(){var t;return t=""+this.target.selector+" div.endless_scroll_inner_wrap",null===e.insertBefore&&(this.options.insertBefore=""+t+" div:first"),null===e.insertAfter?this.options.insertAfter=""+t+" div:last":void 0},t.prototype.detectTarget=function(t){return this.target=t,this.targetId=$(this.target).attr("id")},t.prototype.detectScrollDirection=function(){var t;return this.didScroll=!0,t=$(this.target).scrollTop(),this.scrollDirection=t>this.lastScrollTop?"next":"prev",this.lastScrollTop=t},t.prototype.shouldTryFiring=function(){var t;return t=this.didScroll&&this.firing===!0,t&&(this.didScroll=!1),"next"===this.scrollDirection&&this.forceNoScroll===!1?t:!1},t.prototype.ceaseFireWhenNecessary=function(){return this.options.ceaseFireOnEmpty===!0&&""===this.lastContent||this.options.ceaseFire.apply(this.target,[this.fireSequence,this.pageSequence,this.scrollDirection])?(this.firing=!1,!0):!1},t.prototype.wrapContainer=function(t){return 0===this.innerWrap.length?this.innerWrap=$(t).wrapInner('<div class="endless_scroll_content" data-page="0" />').wrapInner('<div class="endless_scroll_inner_wrap" />').find(".endless_scroll_inner_wrap"):void 0},t.prototype.scrollableAreaMargin=function(t,e){var i;switch(this.scrollDirection){case"next":i=t.height()-$(e).height()<=$(e).scrollTop()+this.options.inflowPixels,i&&e.scrollTop(t.height()-$(e).height()-this.options.inflowPixels);break;case"prev":i=$(e).scrollTop()<=this.options.inflowPixels,i&&e.scrollTop(this.options.inflowPixels)}return i},t.prototype.calculateScrollableCanvas=function(){return this.target[0]===document||this.target[0]===window?(this.wrapContainer("body"),this.isScrollable=this.scrollableAreaMargin($(document),$(window))):(this.wrapContainer(this.target),this.isScrollable=this.innerWrap.length>0&&this.scrollableAreaMargin(this.innerWrap,this.target))},t.prototype.shouldBeFiring=function(){return this.calculateScrollableCanvas(),this.isScrollable&&(this.options.fireOnce===!1||this.options.fireOnce===!0&&this.fired!==!0)},t.prototype.resetFireSequenceWhenNecessary=function(){return this.options.resetCounter.apply(this.target)===!0?this.fireSequence=0:void 0},t.prototype.acknowledgeFiring=function(){switch(this.fired=!0,this.fireSequence++,this.scrollDirection){case"next":return this.pageSequence=this.nextSequence++;case"prev":return this.pageSequence=this.prevSequence--}},t.prototype.insertContent=function(t){switch(this.scrollDirection){case"next":return $(this.options.insertAfter).after(t);case"prev":return $(this.options.insertBefore).before(t)}},t.prototype.insertLoader=function(){return this.insertContent('<div class="endless_scroll_loader_'+this.targetId+'      endless_scroll_loader">'+this.options.loader+"</div>")},t.prototype.removeLoader=function(){return $(".endless_scroll_loader_"+this.targetId).fadeOut(function(){return $(this).remove()})},t.prototype.hasContent=function(){return this.content="function"==typeof this.options.content?this.options.content.apply(this.target,[this.fireSequence,this.pageSequence,this.scrollDirection]):this.options.content,this.content!==!1},t.prototype.showContent=function(){return $("#endless_scroll_content_current").removeAttr("id"),this.insertContent('<div id="endless_scroll_content_current"      class="endless_scroll_content" data-page="'+this.pageSequence+'">'+this.content+"</div>")},t.prototype.fireCallback=function(){return this.options.callback.apply(this.target,[this.fireSequence,this.pageSequence,this.scrollDirection])},t.prototype.cleanUpPagesWhenNecessary=function(){var t;if(this.options.pagesToKeep>=1){switch(this.scrollDirection){case"next":this.pagesStack.push(this.pageSequence);break;case"prev":this.pagesStack.unshift(this.pageSequence)}if(this.pagesStack.length>this.options.pagesToKeep)switch(this.scrollDirection){case"next":t=this.prevSequence=this.pagesStack.shift();break;case"prev":t=this.nextSequence=this.pagesStack.pop()}return this.removePage(t),this.calculateScrollableCanvas()}},t.prototype.removePage=function(t){return $(".endless_scroll_content[data-page='"+t+"']",this.target).remove()},t.prototype.delayFiringWhenNecessary=function(){var t=this;return this.options.fireDelay>0?($("body").after('<div id="endless_scroll_marker"></div>'),$("#endless_scroll_marker").fadeTo(this.options.fireDelay,1,function(){return $("#endless_scroll_marker").remove(),t.fired=!1})):this.fired=!1},t}(),function(t){return t.fn.endlessScroll=function(t){return new EndlessScroll(this,t).run()}}(jQuery),function(t){/**
	 * jQuery ScrollTo (balupton edition)
	 * @version 1.0.1
	 * @date August 31, 2010
	 * @since 0.1.0, August 27, 2010
     * @package jquery-scrollto {@link http://balupton.com/projects/jquery-scrollto}
	 * @author Benjamin "balupton" Lupton {@link http://balupton.com}
	 * @copyright (c) 2010 Benjamin Arthur Lupton {@link http://balupton.com}
	 * @license MIT License {@link http://creativecommons.org/licenses/MIT/}
	 */
t.ScrollTo?window.console.warn("$.ScrollTo has already been defined..."):(t.ScrollTo={config:{duration:400,easing:"swing",callback:void 0,durationMode:"each"},configure:function(e){var i=t.ScrollTo;return t.extend(i.config,e||{}),this},scroll:function(e,i){var n=t.ScrollTo,o=e.pop(),r=o.$container,s=o.$target,a=t("<span/>").css({position:"absolute",top:"0px",left:"0px"}),l=r.css("position");r.css("position","relative"),a.appendTo(r);var c=a.offset().top,u=s.offset().top,d=u-c;a.remove(),r.css("position",l);var h=function(t){return 0===e.length?"function"==typeof i.callback&&i.callback.apply(this,[t]):n.scroll(e,i),!0};return r.animate({scrollTop:d+"px"},i.duration,i.easing,h),!0},fn:function(e){var i=t.ScrollTo,n=t(this);if(0===n.length)return this;var o=n.parent(),r=[];for(config=t.extend({},i.config,e);1===o.length&&!o.is("body")&&o.get(0)!==document;){var s=o.get(0);"visible"!==o.css("overflow-y")&&s.scrollHeight!==s.clientHeight&&(r.push({$container:o,$target:n}),n=o),o=o.parent()}return r.push({$container:t(t.browser.msie?"html":"body"),$target:n}),"all"===config.durationMode&&(config.duration/=r.length),i.scroll(r,config),this},construct:function(e){var i=t.ScrollTo;return t.fn.ScrollTo=i.fn,i.config=t.extend(i.config,e),this}},t.ScrollTo.construct())}(jQuery),function(t){var e={preloadImg:!0},i=function(e){var i=t(e.get(0).form),n=e.next();if(!n.is("label")&&(n=e.prev(),n.is("label"))){var o=e.attr("id");o&&(n=i.find('label[for="'+o+'"]'))}return n.is("label")?n.css("cursor","pointer"):!1},n=function(e){var i=t(".jqTransformSelectWrapper ul:visible");i.each(function(){var i=t(this).parents(".jqTransformSelectWrapper:first").find("select").get(0);e&&i.oLabel&&i.oLabel.get(0)==e.get(0)||t(this).hide()})},o=function(e){0===t(e.target).parents(".jqTransformSelectWrapper").length&&n(t(e.target))},r=function(){t(document).mousedown(o)},s=function(e){var i;t(".jqTransformSelectWrapper select",e).each(function(){i=this.selectedIndex<0?0:this.selectedIndex,t("ul",t(this).parent()).each(function(){t("a:eq("+i+")",this).click()})}),t("a.jqTransformCheckbox, a.jqTransformRadio",e).removeClass("jqTransformChecked"),t("input:checkbox, input:radio",e).each(function(){this.checked&&t("a",t(this).parent()).addClass("jqTransformChecked")})};t.fn.jqTransInputButton=function(){return this.each(function(){var e=t('<button id="'+this.id+'" name="'+this.name+'" type="'+this.type+'" class="'+this.className+' jqTransformButton"><span><span>'+t(this).attr("value")+"</span></span>").hover(function(){e.addClass("jqTransformButton_hover")},function(){e.removeClass("jqTransformButton_hover")}).mousedown(function(){e.addClass("jqTransformButton_click")}).mouseup(function(){e.removeClass("jqTransformButton_click")});t(this).replaceWith(e)})},t.fn.jqTransInputText=function(){return this.each(function(){var e=t(this);if(!e.hasClass("jqtranformdone")&&e.is("input")){e.addClass("jqtranformdone");var n=i(t(this));n&&n.bind("click",function(){e.focus()});var o=e.width();e.attr("size")&&(o=10*e.attr("size"),e.css("width",o)),e.addClass("jqTransformInput").wrap('<div class="jqTransformInputWrapper"><div class="jqTransformInputInner"><div></div></div></div>');var r=e.parent().parent().parent();r.css("width",o+10),e.focus(function(){r.addClass("jqTransformInputWrapper_focus")}).blur(function(){r.removeClass("jqTransformInputWrapper_focus")}).hover(function(){r.addClass("jqTransformInputWrapper_hover")},function(){r.removeClass("jqTransformInputWrapper_hover")}),t.browser.safari&&r.addClass("jqTransformSafari"),t.browser.safari&&e.css("width",r.width()+16),this.wrapper=r}})},t.fn.jqTransCheckBox=function(){return this.each(function(){if(!t(this).hasClass("jqTransformHidden")){var e=t(this),n=i(e);n&&n.click(function(){o.trigger("click")});var o=t('<a href="#" class="jqTransformCheckbox"></a>');e.addClass("jqTransformHidden").wrap('<span class="jqTransformCheckboxWrapper"></span>').parent().prepend(o),e.change(function(){return this.checked&&o.addClass("jqTransformChecked")||o.removeClass("jqTransformChecked"),!0}),o.click(function(){return e.attr("disabled")?!1:(e.trigger("click").trigger("change"),!1)}),this.checked&&o.addClass("jqTransformChecked")}})},t.fn.jqTransRadio=function(){return this.each(function(){if(!t(this).hasClass("jqTransformHidden")){var e=t(this),n=this;oLabel=i(e),oLabel&&oLabel.click(function(){o.trigger("click")});var o=t('<a href="#" class="jqTransformRadio" rel="'+this.name+'"></a>');e.addClass("jqTransformHidden").wrap('<span class="jqTransformRadioWrapper"></span>').parent().prepend(o),e.change(function(){return n.checked&&o.addClass("jqTransformChecked")||o.removeClass("jqTransformChecked"),!0}),o.click(function(){return e.attr("disabled")?!1:(e.trigger("click").trigger("change"),t('input[name="'+e.attr("name")+'"]',n.form).not(e).each(function(){"radio"==t(this).attr("type")&&t(this).trigger("change")}),!1)}),n.checked&&o.addClass("jqTransformChecked")}})},t.fn.jqTransTextarea=function(){return this.each(function(){var e=t(this);if(!e.hasClass("jqtransformdone")){e.addClass("jqtransformdone"),oLabel=i(e),oLabel&&oLabel.click(function(){e.focus()});var n='<table cellspacing="0" cellpadding="0" border="0" class="jqTransformTextarea">';n+='<tr><td id="jqTransformTextarea-tl"></td><td id="jqTransformTextarea-tm"></td><td id="jqTransformTextarea-tr"></td></tr>',n+='<tr><td id="jqTransformTextarea-ml">&nbsp;</td><td id="jqTransformTextarea-mm"><div></div></td><td id="jqTransformTextarea-mr">&nbsp;</td></tr>',n+='<tr><td id="jqTransformTextarea-bl"></td><td id="jqTransformTextarea-bm"></td><td id="jqTransformTextarea-br"></td></tr>',n+="</table>";var o=t(n).insertAfter(e).hover(function(){!o.hasClass("jqTransformTextarea-focus")&&o.addClass("jqTransformTextarea-hover")},function(){o.removeClass("jqTransformTextarea-hover")});e.focus(function(){o.removeClass("jqTransformTextarea-hover").addClass("jqTransformTextarea-focus")}).blur(function(){o.removeClass("jqTransformTextarea-focus")}).appendTo(t("#jqTransformTextarea-mm div",o)),this.oTable=o,t.browser.safari&&t("#jqTransformTextarea-mm",o).addClass("jqTransformSafariTextarea").find("div").css("height",e.height()).css("width",e.width())}})},t.fn.jqTransSelect=function(){return this.each(function(e){var o=t(this);if(!o.hasClass("jqTransformHidden")&&!o.attr("multiple")){var r=i(o),s=o.addClass("jqTransformHidden").wrap('<div class="jqTransformSelectWrapper"></div>').parent().css({zIndex:10-e});s.prepend('<div><span></span><a href="#" class="jqTransformSelectOpen"></a></div><ul></ul>');var a=t("ul",s).css("width",o.width()).hide();t("option",this).each(function(e){css_class="",""==t(this).html()&&(css_class+="hidden-option");var i=t('<li><a class="'+css_class+'" href="#" index="'+e+'">'+t(this).html()+"</a></li>");a.append(i)}),a.find("a").click(function(){return t("a.selected",s).removeClass("selected"),t(this).addClass("selected"),o[0].selectedIndex!=t(this).attr("index")&&o[0].onchange&&(o[0].selectedIndex=t(this).attr("index"),o[0].onchange()),o[0].selectedIndex=t(this).attr("index"),t("span:eq(0)",s).html(t(this).html()),a.hide(),t(o[0]).trigger("change"),!1}),t("a:eq("+this.selectedIndex+")",a).click(),t("span:first",s).click(function(){t("a.jqTransformSelectOpen",s).trigger("click")}),r&&r.click(function(){t("a.jqTransformSelectOpen",s).trigger("click")}),this.oLabel=r;var l=t("a.jqTransformSelectOpen",s).click(function(){return"none"==a.css("display")&&n(),o.attr("disabled")?!1:(a.slideToggle("fast",function(){var e=t("a.selected",a).offset().top-a.offset().top;a.animate({scrollTop:e})}),!1)}),c=o.outerWidth(),u=t("span:first",s),d=c>u.innerWidth()?c+l.outerWidth():s.width();s.css("width",d),a.css("width",d-2),u.css({width:c}),a.css({display:"block",visibility:"hidden"});var h=t("li",a).length*t("li:first",a).height();h<a.height()&&a.css({height:h,overflow:"hidden"}),a.css({display:"none",visibility:"visible"})}})},t.fn.jqTransform=function(i){return t.extend({},e,i),this.each(function(){var e=t(this);e.hasClass("jqtransformdone")||(e.addClass("jqtransformdone"),t('input:submit, input:reset, input[type="button"]',this).jqTransInputButton(),t("input:text, input:password",this).jqTransInputText(),t("input:checkbox",this).jqTransCheckBox(),t("input:radio",this).jqTransRadio(),t("textarea",this).jqTransTextarea(),t("select",this).jqTransSelect().length>0&&r(),e.bind("reset",function(){var t=function(){s(this)};window.setTimeout(t,10)}))})}}(jQuery),function(t,e){function i(t){var i,n,o,r;for(e.documentMode>7?(i=e.createElement("font"),i.setAttribute("data-html5shiv",t.nodeName.toLowerCase())):i=e.createElement("shiv:"+t.nodeName);t.firstChild;)i.appendChild(t.childNodes[0]);for(n=t.attributes,o=n.length,r=0;o>r;++r)n[r].specified&&i.setAttribute(n[r].nodeName,n[r].nodeValue);i.style.cssText=t.style.cssText,t.parentNode.replaceChild(i,t),i.originalElement=t}function n(t){for(var e=t.originalElement;t.childNodes.length;)e.appendChild(t.childNodes[0]);t.parentNode.replaceChild(e,t)}function o(t,e){e=e||"all";for(var i,n,r=-1,s=[],a=t.length;++r<a;)i=t[r],n=i.media||e,!i.disabled&&/print|all/.test(n)&&s.push(o(i.imports,n),i.cssText);return s.join("")}function r(i){for(var n=new RegExp("(^|[\\s,{}])("+t.html5.elements.join("|")+")","gi"),o=i.split("{"),r=o.length,s=-1;++s<r;)o[s]=o[s].split("}"),o[s][o[s].length-1]=e.documentMode>7?o[s][o[s].length-1].replace(n,'$1font[data-html5shiv="$2"]'):o[s][o[s].length-1].replace(n,"$1shiv\\:$2"),o[s]=o[s].join("}");return o.join("{")}var s=function(t){return t.innerHTML="<x-element></x-element>",1===t.childNodes.length}(e.createElement("a")),a=function(t,e,i){return e.appendChild(t),(i=(i?i(t):t.currentStyle).display)&&e.removeChild(t)&&"block"===i}(e.createElement("nav"),e.documentElement,t.getComputedStyle),l={elements:"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video".split(" "),shivDocument:function(t){if(t=t||e,!t.documentShived){t.documentShived=!0;var i=t.createElement,n=t.createDocumentFragment,o=t.getElementsByTagName("head")[0],r=function(t){i(t)};if(s||(l.elements.join(" ").replace(/\w+/g,r),t.createElement=function(t){var e=i(t);return e.canHaveChildren&&l.shivDocument(e.document),e},t.createDocumentFragment=function(){return l.shivDocument(n())}),!a&&o){var c=i("div");c.innerHTML=["x<style>","article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}","audio{display:none}","canvas,video{display:inline-block;*display:inline;*zoom:1}","[hidden]{display:none}audio[controls]{display:inline-block;*display:inline;*zoom:1}","mark{background:#FF0;color:#000}","</style>"].join(""),o.insertBefore(c.lastChild,o.firstChild)}return t}}};l.shivDocument(e),t.html5=l,!s&&t.attachEvent&&(t.attachEvent("onbeforeprint",function(){if(!t.html5.supportsXElement&&e.namespaces){e.namespaces.shiv||e.namespaces.add("shiv");for(var n,s=-1,a=new RegExp("^("+t.html5.elements.join("|")+")$","i"),l=e.getElementsByTagName("*"),c=l.length,u=r(o(function(t,e){for(var i=[],n=t.length;n;)i.unshift(t[--n]);for(n=e.length;n;)i.unshift(e[--n]);for(i.sort(function(t,e){return t.sourceIndex-e.sourceIndex}),n=i.length;n;)i[--n]=i[n].styleSheet;return i}(e.getElementsByTagName("style"),e.getElementsByTagName("link"))));++s<c;)n=l[s],a.test(n.nodeName)&&i(n);e.appendChild(e._shivedStyleSheet=e.createElement("style")).styleSheet.cssText=u}}),t.attachEvent("onafterprint",function(){if(!t.html5.supportsXElement&&e.namespaces){for(var i,o=-1,r=e.getElementsByTagName("*"),s=r.length;++o<s;)i=r[o],i.originalElement&&n(i);e._shivedStyleSheet&&e._shivedStyleSheet.parentNode.removeChild(e._shivedStyleSheet)}}))}(this,document),function(){var t;t=jQuery,Array.prototype.toSentence=function(){return 1===this.length?this[0]:2===this.length?""+this[0]+" and "+this[1]:""+this.slice(0,this.length-1).join(", ")+", and "+this.slice(-1)},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.numberWithCommas=function(){return this.replace(/\B(?=(\d{3})+(?!\d))/g,",")},window.parseDouble=function(t){return"string"==typeof t&&(t=t.match(/^-?\d*/)[0]),isNaN(parseInt(t))?0/0:1*t},t.fn.exists=function(){return this.length>0},t.fn.padYear=function(){return this.bind("change",function(){var e;return e=t(this).val(),2===e.length&&t(this).val("20"+e),1===e.length?t(this).val("200"+e):void 0})},t.fn.sticky=function(){return this.each(function(){var e=this;return this.thisEl=t(this),this.default_pos=this.thisEl.offset().top,this.window=t(window),this.window.scroll(function(){return e.window.scrollTop()>=e.default_pos?e.thisEl.css({position:"fixed",top:0,left:e.thisEl.offset().left}):e.thisEl.css({position:"static"})})})},t(function(){return t("input#card_expiry_year").padYear(),t(".change-area").sticky()})}.call(this),function(){var t;t=jQuery,t.fn.tabs=function(){var e,i;return e=t(this),this.group=e.data("tab-group"),i=t("#"+this.group+"-body > div"),i.hide(),t(this).data("initial-tab")?t(i[parseInt(t(this).data("initial-tab"))]).show():i.first().show(),t(this).find("li a").click(function(){var n;return n=parseInt(t(this).data("index")),isNaN(n)?void 0:(i.hide(),t(i.get(n)).show(),e.find(".active").removeClass("active"),t(this).parent("li").addClass("active"))})},window.switchToTab=function(e,i){var n;return n=t("#"+i+"-body > div"),n.hide(),t(n.get(e)).show(),t(".tabs").find(".active").removeClass("active"),t(t(".tabs").find("li").get(e)).addClass("active")},t.fn.dropDownMenu=function(){return t(this).each(function(){var e=this;return this.trigger=t("a.trigger"),this.trigger.bind("mouseover",function(){return clearTimeout(e.timer),t(e).show()}),this.trigger.bind("mouseout",function(){return e.timer=setTimeout(function(){return t(e).hide()},500)}),t(this).css({left:this.trigger.offset().left+this.trigger.width()-220,top:this.trigger.offset().top+this.trigger.height+25}),t(this).bind("mouseover",function(){return clearTimeout(e.timer)}),t(this).bind("mouseout",function(){return e.timer=setTimeout(function(){return t(e).hide()},500)})})},t(function(){var e;return t(".no-js").removeClass("no-js"),t(".long").each(function(){return t(this).css("font-size",.8*parseInt(t(this).css("font-size")))}),e=function(){return t(".clip").each(function(){var e;return e=t("<span></span>").text(t(this).text()).css({position:"absolute",visibility:"hidden",height:"auto",width:"auto",display:"block",fontSize:t(this).css("font-size")}),t("body").append(t(e)),t(e).outerWidth()>parseInt(t(this).data("clip-to"))&&t(this).text(t(this).text().split(" ").slice(0,-1).join(" ")),t(e).remove()})},e(),t.ajaxPrefilter(function(t,i,n){return n.complete(function(){return e()})}),window.bindClickables=function(){return t(".clickable").click(function(){return window.location=t(this).data("url")})},bindClickables(),t(".settings-page").length>0&&t(".field_with_errors").each(function(){var e;return e=parseInt(t(this).parents(".settings-page").data("index")),window.switchToTab(e,"settings")}),t(".dropdown").dropDownMenu(),t(".logged-out-page a.requires-auth").click(function(){return t.ajax("/login.js",{dataType:"html",data:{return_to:t(this).attr("href")},beforeSend:window.build_lightbox,complete:function(e){return show_lightbox(),t("#lightbox").html(e.responseText),window.resize_lightbox(350,285)}}),!1}),t("a.twitter-share-link, a.tweet").click(function(){return window.open(t(this).attr("href"),"tweet","width=600,height=400",!1),t(this).animate({opacity:.5},{duration:500,complete:function(){return t(this).find("span").css("background-image","url(/assets/tick-2f1fb38cb0468b88c7128f94ee7afe2f.png)")}}),!1})})}.call(this),function(){var t;t=jQuery,t.fn.enables=function(e){return this.each(function(){return t(this).bind("change",function(){return e.attr("disabled","checked"!==t(this).attr("checked"))}),e.attr("disabled","checked"!==t(this).attr("checked"))})},t.fn.multiStepForm=function(){var e,i=this;return this.thisEl=t(this),this.steps=this.thisEl.find(".step"),this.errors=t(".step-errors"),this.thisEl.data("steps",this.steps.length),e=parseInt(window.location.hash.substring(1,2)),t(".field_with_errors").length>0?this.thisEl.data("current-step",t(".field_with_errors").first().parents(".step").data("index")):this.thisEl.data("current-step",isNaN(e)?0:e-1),t(this.steps.hide().get(this.thisEl.data("current-step"))).show(),t(this.errors.hide().get(this.thisEl.data("current-step"))).show(),this.thisEl.find(".back-button").click(function(){var e;return e=i.thisEl.data("current-step")-1,i.thisEl.data("current-step",e),t("#action-bar").attr("class","action-bar action-bar-"+e),t(i.steps.hide().get(e)).show(),t(i.errors.hide().get(e)).show(),t("header").ScrollTo(),t(window).trigger("scroll"),!1}),this.thisEl.find(".next-button").click(function(){var e;return e=i.thisEl.data("current-step")+1,i.thisEl.data("current-step",e),t("#action-bar").attr("class","action-bar action-bar-"+e),t(i.steps.hide().get(e)).show(),t(i.errors.hide().get(e)).show(),t("header").ScrollTo(),t(window).trigger("scroll"),!1})},t(document).ready(function(){var e,i,n;return n=function(){return t(".free-paid-selector .active").removeClass("active"),t(".show-money-fields").addClass("active"),t("input#event_free").val("0"),t(".money-event-field").show(),t(".free-event-field").hide(),t("label[for=event_funding_ends_at]").text("When do you need to receive the funds by?"),t("#price-tiers .dk_toggle").css("width","75px")},i=function(){return t(".free-paid-selector .active").removeClass("active"),t(".show-free-fields").addClass("active"),t("input#event_free").val("1"),t(".money-event-field").hide(),t(".free-event-field").show(),t("label[for=event_funding_ends_at]").text("When do you need the signups by?")},t(".show-free-fields").click(i),t(".show-money-fields").click(n),"1"===t("input#event_free").val()?i():n(),t("input[data-max-length], textarea[data-max-length]").each(function(){var e;return e=parseInt(t(this).data("max-length")),t(this).attr("maxlength",e),t(this).bind("checklength",function(){var i,n,o;return n=t(this).val().length,e=parseInt(t(this).data("max-length")),i=e-n,e/3>i?t(this).next(".chars-remaining").length>0?(o=t(this).next(".chars-remaining"),o.text(""+(e-n)+" characters remaining"),o.css("left",""+(t(this).offset().left+(t(this).outerWidth()-o.outerWidth()))+"px")):(o=t('<span class="chars-remaining">'+(e-n)+" characters remaining</span>"),t(this).after(o.css("left",""+(t(this).offset().left+(t(this).outerWidth()-150))+"px"))):t(this).next(".chars-remaining").remove()}),t(this).focus(function(){return t(this).trigger("checklength")}),t(this).keyup(function(){return t(this).trigger("checklength")}),t(this).blur(function(){return t(this).next(".chars-remaining").remove()})}),e=function(){var e;return e=t("input[name=event\\[time_determination\\]]:checked"),t(".starts_at-field.active").removeClass("active"),t(".starts_at-field input, .starts_at-field select").attr("disabled",!0).each(function(){return t(this).data("name",t(this).attr("name")),t(this).attr("name",null)}),t(".starts_at-field."+e.val()+"-time").addClass("active").find("input, select").attr("disabled",!1).each(function(){return t(this).attr("name",t(this).data("name"))})},t("input[name=event\\[time_determination\\]]").change(e),e(),t("#user_accepted_terms").enables(t("input[type=submit]")),t("form").on("click",".remove_fields",function(e){return this.thisEl=t(this),this.thisEl.siblings("input[type=hidden]").val("1"),this.thisEl.siblings("input[type=text]").val(""),this.thisEl.closest(t(this).data("selector")||"div").hide(),e.preventDefault()}),t("form").on("click",".add_fields",function(e){var i;return i=new RegExp(t(this).data("id"),"g"),t(this).before(t(this).data("fields").replace(i,(new Date).getTime())),jQuery("form.transform select").dropkick(),bindPriceTierSelects(),e.preventDefault()}),t.fn.dropkick&&jQuery("form.transform select").dropkick(),t(".multi-step-form").multiStepForm(),t(".date").each(function(){var e;return this.thisEl=t(this),e=""+this.thisEl.attr("id")+"-alt",this.thisEl.after(t('<input type="hidden" class="alt-field" id="'+e+'" value="'+this.thisEl.val()+'" name="'+this.thisEl.attr("name")+'" />')),this.thisEl.attr("name",null),this.thisEl.val(t.datepicker.formatDate("d M, yy",t.datepicker.parseDate("yy-mm-dd",this.thisEl.val()))),this.thisEl.datepicker({minDate:0,maxDate:"+5y",dateFormat:"M d, yy",altFormat:"yy-mm-dd",altField:"#"+e}),!0}),t("#new_photo").exists()&&t("#new_photo").fileupload({dataType:"script",formData:function(e){return[{name:"new_photo",value:e.find("#new_photo").val()},{name:"authenticity_token",value:t('meta[name="csrf-token"]').attr("content")},{name:"ie",value:/MSIE/g.test(navigator.userAgent)}]},add:function(t,e){var i,n;return n=/(\.|\/)(gif|jpe?g|png)$/i,i=e.files[0],n.test(i.type)||n.test(i.name)?e.submit():alert(""+i.name+" is not a gif, jpeg, or png image file")},start:function(){var e;return e=t('<div class="form-photo form-photo-spinner">Uploading...</div>'),t("#photos").append(e)},stop:function(){return t(".form-photo-spinner").first().remove()}}),t("#event_goal").bind("change",function(){var e,i;return e=t(this).val(),e.length>0?(i=parseFloat(e),i-=5*(i/100),t("#goal-after-fee").text("$"+i.toFixed(2)+" after fee")):t("#goal-after-fee").text("")}),t(".start-date").bind("change",function(){var e;return e=t(this).closest("tbody").find(".end-date"),""===e.val()?e.datepicker("setDate",t(this).datepicker("getDate")):void 0}),jQuery("select#quantity").bind("change",function(){var e,i,n,o,r,s,a,l,c;if(o=parseInt(t(this).val())-1,e=t(".attendee-input").length,e>o){for(i=e-o,l=[],n=r=1;i>=1?i>=r:r>=i;n=i>=1?++r:--r)l.push(t(".attendee-input").last().remove());return l}if(o>e){for(i=o-e,c=[],n=s=0,a=i-1;a>=0?a>=s:s>=a;n=a>=0?++s:--s)c.push(t(".attendee-inputs").append(t(this).data("fields").replace(new RegExp("index","g"),n)));return c}}),window.bindPriceTierSelects=function(){return jQuery("select.price-tier-select").change(function(){return jQuery(this).siblings("input.currency").css("display","true"===jQuery(this).val()?"none":"inline"),!0})},bindPriceTierSelects(),jQuery("select.price-tier-select").each(function(){return jQuery(this).siblings("input.currency").css("display","true"===jQuery(this).val()?"none":"inline")}),t("body").on("focus","input.email, input.password, input.password-confirmation, input.full-name",function(){return t(this).removeClass(t(this).data("input-type")||t(this).attr("id")),t(this).blur(function(){return""===t(this).val()?t(this).addClass(t(this).data("input-type")||t(this).attr("id")):void 0})}),t("input[placeholder]").each(function(){return t(this).data("placeholder",t(this).attr("placeholder")),t(this).focus(function(){return t(this).attr("placeholder",null)}),t(this).blur(function(){return t(this).attr("placeholder",t(this).data("placeholder"))})}),t(".lt-ie10 input[placeholder]").each(function(){return t(this).val(t(this).data("placeholder")),t(this).focus(function(){return t(this).val()===t(this).data("placeholder")?t(this).val(""):void 0}),t(this).blur(function(){return""===t(this).val()?t(this).val(t(this).data("placeholder")):void 0})})})}.call(this),function(){var t;t=jQuery,t.fn.dependsOn=function(){var t,e,i;return t=arguments[0]||{},e=this,t.element.bind("change",function(){return"checkbox"===this.type?e.css("display",this.checked?"block":"none"):e.css("display",this.value===t.value?"block":"none")}),i=t.element,"checkbox"===i.attr("type")?e.css("display",i.attr("checked")?"block":"none"):e.css("display",i.val()===t.value?"block":"none")},t.fn.applyHighlighter=function(){return t(this).bind("mouseover",function(){return t(this).siblings().addClass("blur"),t(this).addClass("focus")}),t(this).bind("mouseout",function(){return t(this).siblings().removeClass("blur"),t(this).removeClass("focus")}),t(this)},t(document).ready(function(){var e,i,n,o,r,s,a;return t("a.email").click(function(){return t("#email-modal").removeClass("hidden")}),n=2,t(".about-event > *").length>n&&(t(".about-event").after('<p class="read-more-toggle"><a href="#">Ver Más Información</a></p>'),t(".read-more-toggle a").on("click",function(e){return e.preventDefault(),"Ver Menos Información"===t(this).text()?(t(this).text("Ver Más Información"),t(".about-event > *").each(function(e,i){return n>e?void 0:t(i).addClass("hidden")})):(t(this).text("Ver Menos Información"),t(".about-event > .hidden").removeClass("hidden"))}),t(".about-event > *").each(function(e,i){return n>e?void 0:t(i).addClass("hidden")})),t(".vote-now-button").click(function(e){var i,n,o;return t("body").hasClass("logged-in")?(t(this).animate({opacity:.5}),!0):(e.preventDefault(),i=t("#all-steps-cont").css("left"),n=i.split("px")[0]-1160,o=t(this).parents(".step"),slideLeft(n,o,t("#step2")),o.addClass("transparent"),!1)}),t(".vote-now-button").bind("ajax:success",function(e,i){var n=this;return i.id?(t("h2.votes-count").html(""+(i.event.current_capacity+1).toString().numberWithCommas()+" <span>VOTOS</span>"),t(".not-voted").fadeOut(function(){return t(".voted").fadeIn()})):i.confirm?t.ajax("/users/confirm?remote=1&pass_format=json",{success:function(e){var i,o,r;return t(".signup-form").html(e),i=t("#all-steps-cont").css("left"),o=i.split("px")[0]-1160,r=t(n).parents(".step"),slideLeft(o,r,t("#step2")),r.addClass("transparent"),t("form.confirm-form").bind("ajax:success",function(e,i){return i.errors?void 0:t.ajax("/events/"+t(n).data("event-id")+"/join.json",{success:s})})}}):void 0}),s=function(e){return t.get("/events/"+e.event.id+"/status",function(e){var i,n,o;return t("#step3 .vote").html(e),i=t("#all-steps-cont").css("left"),n=i.split("px")[0]-1160,o=t(this).parents(".step"),slideLeft(n,o,t("#step3")),o.addClass("transparent")})},r=function(e){var i,n,o;return e.id?(t("#confirmation-number").html("C&ograve;digo de Fan #: "+(e.promo_code?e.promo_code.code:"N/A")),i=t("#all-steps-cont").css("left"),n=i.split("px")[0]-1160,o=t(this).parents(".step"),slideLeft(n,o,t("#step3")),o.addClass("transparent")):void 0},t(".purchase-link").click(function(){var e,i,n,o;return e=parseFloat(t(this).data("unit-price")),t(".step .header h3").html(""+t(this).data("name")+" <span>$"+e.toFixed(2)+"</span>"),t("body").hasClass("logged-in")?t.ajax(t(this).attr("href"),{dataType:"json",success:function(e){var i,n,o,s,a,l,c=this;return e.id?(t("#confirmation-number").html("C&ograve;digo de Fan #: "+(e.promo_code?e.promo_code.code:"N/A")),o=t("#all-steps-cont").css("left"),a=o.split("px")[0]-1160,l=t(this).parents(".step"),slideLeft(a,l,t("#step3")),l.addClass("transparent")):e.confirm?t.ajax("/users/confirm?remote=1&pass_format=json",{success:function(e){return t(".signup-form").html(e),o=t("#all-steps-cont").css("left"),a=o.split("px")[0]-1160,l=t(c).parents(".step"),slideLeft(a,l,t("#step2")),l.addClass("transparent"),t("form.confirm-form").bind("ajax:success",function(e,i){return i.errors?void 0:t.ajax("/events/"+t(c).data("event-id")+"/join.json",{success:r})})}}):e.errors?(i=function(){var i,o;i=e.errors,o=[];for(n in i)s=i[n],t(".signup-form-attend form input#user_"+n).addClass("errored-field"),o.push(""+("base"===n?"":n)+" "+s[0]);return o}(),alert(""+i.join(", ")+".")):void 0}}):(i=t("#all-steps-cont").css("left"),n=i.split("px")[0]-1160,o=t(this).parents(".step"),slideLeft(n,o,t("#step2")),o.addClass("transparent")),!1}),t(".photoset").each(function(){var e;return t(".photoset div").length>0&&(e=t(this),e.find("div").hide().first().show(),t(".photoset-controls .carousel").data("page",0),t(".photoset-controls .carousel").find("a").click(function(){var i;return t(".photoset").find("div").each(function(){return"block"===t(this).css("display")?t(this).replaceWith(t(this).clone()):void 0}),i=t(this).data("index"),e.find("div").hide(),t(e.find("div").get(i)).show()}),t(".photoset-controls .carousel a").hide().slice(0,6).show(),t(".photoset-controls .carousel a").length>6)?(t(".photoset-controls").prepend(t('<a href="javascript:void(0);" class="control prev"><img src="/assets/arrow-left.png" /></a>')),t(".photoset-controls br.clear").before(t('<a href="javascript:void(0);" class="control next"><img src="/assets/arrow-right.png" /></a>')),t(".photoset-controls .prev").click(function(){var e,i;return i=parseInt(t(".photoset-controls .carousel").data("page")),i>0?(e=6*(i-1),t(".photoset-controls .carousel").data("page",i-1),t(".photoset-controls .carousel a").hide().slice(e,+(e+5)+1||9e9).show()):void 0}),t(".photoset-controls .next").click(function(){var e,i;return i=parseInt(t(".photoset-controls .carousel").data("page")),i+1<Math.ceil(t(".photoset-controls .carousel a").length/6)?(e=6*(i+1),t(".photoset-controls .carousel").data("page",i+1),t(".photoset-controls .carousel a").hide().slice(e,+(e+5)+1||9e9).show()):void 0})):void 0}),t(".show-qr-code").click(function(){return t(".qr-code").show()}),t(".share-list .email a").click(function(){return t("#share-email").toggle(),t("#have-another-idea").toggle()}),t("#events").length>0&&(o=!1,e=1,t(window).scroll(function(){var i;return!o&&t(window).scrollTop()>=t(document).height()-t(window).height()-100?(t("#loading").show(),o=!0,i=t("section#events").data("url")||"/events",t.ajax(""+i+".js?page="+(e+1),{success:function(){return e+=1},complete:function(){return o=!1,t("#loading").hide()}})):void 0})),t("#events").data("scroll",1),t(".flash").click(function(){return t(this).hasClass("do-not-hide")?void 0:t(this).remove()}),t(".attendee").applyHighlighter(),t(".profile-photo").each(function(){return t(this).attr("title")&&""!==t(this).attr("title")?t(this).tooltip({offset:[-3,0]}):void 0}),t("form#new_event").bind("submit",function(){var e;return e=t("form#new_event").find("input#event_goal"),e.val(e.val().replace("$",""))}),t("#event_ends_at_field").dependsOn({element:t("#specify_ends_at")}),t(".field_with_errors input, .field_with_errors textarea").bind("change",function(){return t(this).parent("div").removeClass("field_with_errors")}),t(".advanced-option input, .advanced-option select, .advanced-option textarea").each(function(e,i){return t(i).attr("disabled-name",t(i).attr("name")),t(i).removeAttr("name"),t(i).attr("disabled",!0)}),t("a.has-tooltip").tooltip({position:"center right",tipClass:"tooltip help-tooltip",events:{tooltip:"mouseover,mouseout"}}),t("ul.price-tiers li.has-tooltip").tooltip({position:"center left",tipClass:"tooltip help-tooltip ul-help-tooltip",events:{tooltip:"mouseover,mouseout"}}),t("#event_min_capacity, #event_max_capacity, input.has-tooltip").tooltip({offset:[-10,0],position:"top center",tipClass:"tooltip wide-tooltip"}),t("input.has-right-tooltip").tooltip({offset:[0,15],position:"center right",tipClass:"tooltip form-tooltip"}),t(".advanced-options-link").bind("click",function(){return t(this).hasClass("advanced-options-open")?(t(this).removeClass("advanced-options-open"),t(".advanced-option").hide(),t(".advanced-option input, .advanced-option select, .advanced-option textarea").each(function(e,i){return t(i).attr("disabled-name",t(i).attr("name")),t(i).removeAttr("name"),t(i).attr("disabled",!0)})):(t(this).addClass("advanced-options-open"),t(".advanced-option").show(),t(".advanced-option input, .advanced-option select, .advanced-option textarea").each(function(e,i){return t(i).removeAttr("disabled"),t(i).attr("name",t(i).attr("disabled-name")),t(i).removeAttr("disabled-name")}))}),t("input#facebook_friend_search").keyup(function(){var e;return e=t(this).val().toLowerCase(),e.length>0?t(".facebook-friends strong").each(function(){return t(this).text().toLowerCase().indexOf(e)>=0?t(this).parents("p").show():t(this).parents("p").hide()}):t(".facebook-friends p").show()}),t(".facebook-friends a").click(function(){var e;return e=""+t(this).attr("href")+"&message="+t("input#fb_message").val(),t(this).attr("href",e)}),a=function(){var e,i,n;return e=t(this).siblings("input"),e.is(":checked")?(e.attr("checked",!1),e.parent().removeClass("selected"),t("form .about-voting a").addClass("inactive")):(i=parseInt(t(".vote-options").data("max-votes")),t(".vote-options input:checked").length>=i?alert("Hay más votos"):(e.attr("checked",!0),e.parent().addClass("selected"),n=t(".vote-options input:checked").length,n>=i?t("form .about-voting a.inactive").removeClass("inactive"):void 0))},i=function(){var e;return t("body").hasClass("logged-in")?(e=parseInt(t(".vote-options").data("max-votes")),t(".vote-options").addClass("active"),t(".about-voting p").first().html("Seleccione <span>"+e+"</span> artistas y haga clic en:"),t("form .about-voting a").addClass("inactive")):t("header").ScrollTo({duration:200,callback:function(){return hideShow(".signup-modal")}})},t("form .vote-options li a").click(function(){return t(".vote-options").hasClass("active")||i(),t(".vote-options").hasClass("active")?a.bind(this)():void 0
}),t("form .about-voting a").click(function(){var e,n;return e=parseInt(t(".vote-options").data("max-votes")),t(".vote-options").hasClass("active")?(n=t(".vote-options input:checked").length,e>n?alert("Usted tiene "+(e-n)+" más votos"):t(this).parents("form").first().submit()):i()})})}.call(this),function(){window.setup_lightbox=function(){var t;return $("#overlay").exists()?void 0:($("#overlay").css("height",""+$(document.body).height()+"px"),t=$('<a id="close-lightbox" href="javascript:void(0);">x</a>').click(hide_lightbox),$(document.body).append($('<div id="overlay"></div><div id="lightbox"></div>')),$(document.body).append(t),$(window).resize(position_lightbox),$("#overlay").click(hide_lightbox),position_lightbox())},window.show_lightbox=function(){return $("#overlay").css("height",""+$(document.body).height()+"px"),$("#overlay, #lightbox, #close-lightbox").show()},window.position_lightbox=function(){var t,e,i;return t=$(window).height(),e=$(window).width(),i=e/2-$("#lightbox").outerWidth()/2,$("#lightbox").stop(!0,!0),$("#close-lightbox").stop(!0,!0),$("#overlay").css({width:e,height:t}),$("#lightbox").css({left:i}),$("#close-lightbox").css({top:parseInt($("#lightbox").css("top"),10)-15,left:i+($("#lightbox").outerWidth()-15)})},window.resize_lightbox=function(t,e){var i,n,o,r;return n=$(window).height(),o=$(window).width(),r=o/2-t/2,i=r+t+parseInt($("#lightbox").css("padding-left"))+parseInt($("#lightbox").css("padding-right")),$("#lightbox").animate({left:r,width:t,height:e}),$("#close-lightbox").animate({left:i-15})},window.hide_lightbox=function(){return $("#overlay, #lightbox, #close-lightbox").hide()},window.lightbox_loading=function(){var t;return t=$('<img src="/assets/spinner.gif">').css({"margin-top":$("#lightbox").height()/2-8,"margin-left":$("#lightbox").width()/2-8}),$("#lightbox").html(t)},window.build_lightbox=function(){return $("#lightbox").exists()?void 0:(setup_lightbox(),show_lightbox(),lightbox_loading(),$(window).resize(function(){var t,e,i;return(t=$("#lightbox div").first())&&(i=t.outerWidth(),e=t.outerHeight(),i!==$("#lightbox").outerWidth()||e!==$("#lightbox").outerHeight())?(window.resize_lightbox(i,e),window.position_lightbox()):void 0}))},$(function(){return $("body").on("click",".close-lightbox",window.hide_lightbox),$("body").on("click",".lightbox",function(){var t;return t=$(this).attr("href"),t.indexOf(".js")>=0||(t=""+$(this).attr("href")+".js"),$.ajax(t,{beforeSend:window.build_lightbox,data:$(this).data("params"),dataType:"html",complete:function(t){var e,i,n;return show_lightbox(),$("#lightbox").html(t.responseText),(e=$("#lightbox div").first())?(n=e.outerWidth(),i=e.outerHeight(),window.resize_lightbox(n,i)):void 0}}),!1})})}.call(this),function(){$(document).ready(function(){return window.update_total_due=function(){var t,e,i,n,o;return t=parseInt($("input#discount_code").data("discounted-amount")),o=$("#price_tier_id")?$("#price_tier_id"):$(".price-tiers input:radio:checked"),o.data("custom")?(i=parseFloat(o.siblings("label").find("input[type=text]").val()),e=i+3*(i/100)):(e=parseFloat(o.data("price")),i=parseFloat(o.data("price-without-fee"))),isNaN(t)?$(".fee-details").removeClass("strike"):($("#total-due span").html("$"+t.toFixed(2)+' <br /><span class="smaller">(with discount)</span>'),$(".fee-details").addClass("strike")),(!e||isNaN(e))&&(e=0),(!i||isNaN(i))&&(i=0),$("#quantity").length>0&&(n=parseInt($("#quantity").val()),e*=n,$("#quantity").length>0&&(i*=n)),e+=.99,$("#subtotal span").text("$"+i.toFixed(2)),$(".fee-details span").text("$"+(e-i).toFixed(2)),$("#total-due span").text("$"+e.toFixed(2))},window.send_stripe_request=function(){return $(".card-expiry-year").trigger("change"),!$("#payment_method_new").exists()||$("#payment_method_new").exists()&&"new"===$("input:radio[name=payment_method]:checked").val()?(Stripe.createToken({number:$(".card-number").val(),cvc:$(".card-cvc").val(),exp_month:$(".card-expiry-month").val(),exp_year:$(".card-expiry-year").val()},null,function(t,e){var i;return $("#payment-spinner").hide(),e.error?($(".payment-errors").show(),$(".payment-errors p").html(e.error.message)):(i=$("#payment-form"),i.append('<input type="hidden" name="payment_token" value="'+e.id+'" />'),i.get(0).submit())}),!1):!0},$("#apply-promo-code").click(function(t){var e;return t.preventDefault(),e=$("input#discount_code"),e.removeClass("valid-code").removeClass("invalid-code"),e.siblings("span").text(""),e.val(e.val().toUpperCase()),""!==e.val()?$.ajax(e.data("url"),{data:{discount_code:e.val()},success:function(t){return t.valid?($("input#discount_code").addClass("valid-code"),$("input#discount_code").siblings("span").text("Valid promo code! (100% discount)"),$("input#discount_code").data("discounted-amount",0)):t.error&&($("input#discount_code").addClass("invalid-code"),$("input#discount_code").siblings("span").text("Invalid promo code"),$("input#discount_code").data("discounted-amount",null)),update_total_due()}}):void 0}),$(".custom-amount-input, .price-tiers input:radio, select#quantity").change(update_total_due),update_total_due(),$(".price-tiers input[type='radio']").change(function(){return $(".price-tiers .active").removeClass("active"),"checked"===$(this).attr("checked")?$(this).parents("div").first().addClass("active"):void 0}),$(".price-tiers input:radio:checked").parents("div").first().addClass("active"),$(".payment-method input:radio").change(function(){return $(".payment-method.active").removeClass("active"),"checked"===$(this).attr("checked")?$(this).parents("div.payment-method").addClass("active"):void 0}),$(".payment-method").click(function(){return $(this).find("input[name=payment_method]").attr("checked",!0).trigger("change")}),$(".payment-method").find("input[type=text]").keydown(function(){return $(this).parents(".payment-method").find("input[name=payment_method]").attr("checked",!0).trigger("change")}),$(".payment-method").find("input[name=payment_method]:checked").trigger("change"),$("#payment-form").submit(function(){var t,e,i;return $("#payment-spinner").fadeIn(),$(".authentication.payment-page-authentication").length>0?($(".errored-field").removeClass("errored-field"),$(".error-message").remove(),i=$("input[name='user[terms]']:checked").length>0?1:0,e={user:{full_name:$("#user_full_name").val(),email:$("#user_email").val(),password:$("#user_password").val(),password_confirmation:$("#user_password_confirmation").val(),terms:i}},t=function(t){var e,i,n;if(!t.errors)return userLoggedIn(),$(".authentication").replaceWith('<p class="welcome-back">Welcome to EventStir, '+t.user.full_name+"!</p>"),send_stripe_request();$("#payment-spinner").hide(),n=t.errors;for(e in n)i=n[e],"terms"===e?$("label[for=user_terms]").addClass("errored-field").after('<span class="error-message smaller block">Terms must be accepted</span>'):$("#user_"+e).addClass("errored-field").after('<span class="error-message smaller block">'+e.capitalize()+" "+i.toSentence()+"</span>");return t.errors.first_name?$("#user_full_name").addClass("errored-field").after('<span class="error-message smaller block">Name '+t.errors.first_name.toSentence()+"</span>"):void 0},$.ajax({type:"POST",url:"/users.json",data:e,success:t,dataType:"json"}),!1):send_stripe_request()})})}.call(this),function(){$.fn.fieldError=function(){var t,e,i;return $(".quick-form-error").length>0||(t=$("section#hero"),i=t.offset().top+t.height()-5,e=$('<p class="quick-form-error"><span>Please enter all the required information</span></p>').css({position:"absolute",top:""+i+"px"}),t.after(e)),$(this).parent().addClass("errored-field"),$(this).focus(function(){return $(this).parent().removeClass("errored-field")})},$(document).ready(function(){var t;return $("#goal").each(function(){var t,e,i,n;return i=$(this),t=$('<input name="free" id="free" value="1" type="checkbox">'),t.change(function(){return $(this).is(":checked")?i.val("Free"):(i.val("$ "),i.focus())}),n=$('<label for="free">Free?</label>').append(t),e=$('<div class="free-option"></div>').append(n),e.css({top:$(this).offset().y,left:$(this).offset().x}),$(this).after(e.hide()),$(this).focus(function(){return e.show(),""===$(this).val()?$(this).val("$"):void 0}),$(this).blur(function(){var t;return t=$(this).val(),(""===t||"$"===$.trim(t))&&$(this).val(""),setTimeout(function(){return $(".free-option").hide()},100)})}),$("a.open-video").click(function(){return window.setup_lightbox(),$("html, body").animate({scrollTop:$("#intro").offset().top-50},1e3),$(this).fadeOut(500,function(){return $("#video").slideDown(1e3),$(".lt-ie9 #overlay").length>0?void 0:($("#overlay").fadeIn(1e3),$("#video").click(window.hide_lightbox))}),!1}),t=[["go camping","Yellowstone","July 27th","5 of my best friends"],["throw a bachelorette party","New York","next month","6 friends"],["go on a ski trip","Aspen","this December","10 buddies"],["have my favorite band play","Washington","next summer","500 fans"]],$("section#hero.default-hero").length>0&&window.setInterval(function(){var e;return e=parseInt($($("section#hero .slide").get(2)).data("slide-id")),$("section#hero .slide").last().fadeOut(3e3,function(){return $("section#hero").prepend($(this)),$(this).show()}),$("section#hero span").each(function(i){var n;return n=t[e][i],$(this).fadeOut(1500,function(){return $(this).text(n),$(this).fadeIn(1500)})})},11e3),$("section#hero #form form").bind("submit",function(t){var e,i,n,o,r;for(i=!0,$(".quick-form-error").remove(),r=["input#what","input#where","input#capacity","input#goal"],n=0,o=r.length;o>n;n++)e=r[n],""===$(this).find(e).val()&&($(this).find(e).fieldError(),i=!1);return i||t.stopImmediatePropagation(),i}),$(".logged-out-page form.requires-auth").submit(function(){return $.ajax("/login.js?allow_cancel=1",{dataType:"html",data:{return_to:""+$(this).attr("action")+"?"+$(this).serialize()},beforeSend:window.build_lightbox,complete:function(t){return show_lightbox(),$("#lightbox").html(t.responseText),window.resize_lightbox(350,285)}}),!1})})}.call(this),"undefined"==typeof RELANG)var RELANG={};var RLANG={html:"HTML",video:"Insert Video...",image:"Insert Image...",table:"Table",link:"Link",link_insert:"Insert Link ...",unlink:"Unlink",formatting:"Formatting",paragraph:"Paragraph",quote:"Quote",code:"Code",header1:"Header 1",header2:"Header 2",header3:"Header 3",header4:"Header 4",bold:"Bold",italic:"Italic",fontcolor:"Font Color",backcolor:"Back Color",unorderedlist:"Unordered List",orderedlist:"Ordered List",outdent:"Outdent",indent:"Indent",cancel:"Cancel",insert:"Insert",save:"Save",_delete:"Delete",insert_table:"Insert Table...",insert_row_above:"Add Row Above",insert_row_below:"Add Row Below",insert_column_left:"Add Column Left",insert_column_right:"Add Column Right",delete_column:"Delete Column",delete_row:"Delete Row",delete_table:"Delete Table",rows:"Rows",columns:"Columns",add_head:"Add Head",delete_head:"Delete Head",title:"Title",image_position:"Position",none:"None",left:"Left",right:"Right",image_web_link:"Image Web Link",text:"Text",mailto:"Email",web:"URL",video_html_code:"Video Embed Code",file:"Insert File...",upload:"Upload",download:"Download",choose:"Choose",or_choose:"Or choose",drop_file_here:"Drop file here",align_left:"Align Left",align_center:"Align Center",align_right:"Align Right",align_justify:"Justify",horizontalrule:"Insert Horizontal Rule",fullscreen:"Fullscreen",deleted:"Deleted",anchor:"Anchor"};!function(t){"use strict";jQuery.fn.redactor=function(i){return this.each(function(){var n=t(this),o=n.data("redactor");o||n.data("redactor",o=new e(this,i))})};var e=function(e,i){this.$el=t(e),"undefined"!=typeof i&&"undefined"!=typeof i.lang&&"en"!==i.lang&&"undefined"!=typeof RELANG[i.lang]&&(RLANG=RELANG[i.lang]),this.opts=t.extend({lang:"en",direction:"ltr",callback:!1,keyupCallback:!1,keydownCallback:!1,execCommandCallback:!1,path:!1,css:"style.css",focus:!1,resize:!0,autoresize:!1,fixed:!1,autoformat:!0,cleanUp:!0,removeStyles:!1,removeClasses:!1,convertDivs:!0,convertLinks:!0,xhtml:!1,handler:!1,autosave:!1,interval:60,imageGetJson:!1,imageUpload:!1,imageUploadCallback:!1,fileUpload:!1,fileUploadCallback:!1,observeImages:!0,visual:!0,fullscreen:!1,overlay:!0,buttonsCustom:{},buttonsAdd:[],buttons:["html","|","formatting","|","bold","italic","deleted","|","unorderedlist","orderedlist","outdent","indent","|","image","video","file","table","link","|","fontcolor","backcolor","|","alignleft","aligncenter","alignright","justify","|","horizontalrule","fullscreen"],colors:["#ffffff","#000000","#eeece1","#1f497d","#4f81bd","#c0504d","#9bbb59","#8064a2","#4bacc6","#f79646","#ffff00","#f2f2f2","#7f7f7f","#ddd9c3","#c6d9f0","#dbe5f1","#f2dcdb","#ebf1dd","#e5e0ec","#dbeef3","#fdeada","#fff2ca","#d8d8d8","#595959","#c4bd97","#8db3e2","#b8cce4","#e5b9b7","#d7e3bc","#ccc1d9","#b7dde8","#fbd5b5","#ffe694","#bfbfbf","#3f3f3f","#938953","#548dd4","#95b3d7","#d99694","#c3d69b","#b2a2c7","#b7dde8","#fac08f","#f2c314","#a5a5a5","#262626","#494429","#17365d","#366092","#953734","#76923c","#5f497a","#92cddc","#e36c09","#c09100","#7f7f7f","#0c0c0c","#1d1b10","#0f243e","#244061","#632423","#4f6128","#3f3151","#31859b","#974806","#7f6000"],allEmptyHtml:"<p><br /></p>",mozillaEmptyHtml:"<p>&nbsp;</p>",modal_file:String()+'<form id="redactorUploadFileForm" method="post" action="" enctype="multipart/form-data">'+"<label>Name (optional)</label>"+'<input type="text" id="redactor_filename" class="redactor_input" />'+'<div style="margin-top: 7px;">'+'<input type="file" id="redactor_file" name="file" />'+"</div>"+"</form>",modal_image_edit:String()+"<label>"+RLANG.title+"</label>"+'<input id="redactor_file_alt" class="redactor_input" />'+"<label>"+RLANG.link+"</label>"+'<input id="redactor_file_link" class="redactor_input" />'+"<label>"+RLANG.image_position+"</label>"+'<select id="redactor_form_image_align">'+'<option value="none">'+RLANG.none+"</option>"+'<option value="left">'+RLANG.left+"</option>"+'<option value="right">'+RLANG.right+"</option>"+"</select>"+'<div id="redactor_modal_footer">'+'<a href="javascript:void(null);" id="redactor_image_delete_btn" style="color: #000;">'+RLANG._delete+"</a>"+'<span class="redactor_btns_box">'+'<input type="button" name="save" id="redactorSaveBtn" value="'+RLANG.save+'" />'+'<a href="javascript:void(null);" id="redactor_btn_modal_close">'+RLANG.cancel+"</a>"+"</span>"+"</div>",modal_image:String()+'<div id="redactor_tabs">'+'<a href="javascript:void(null);" class="redactor_tabs_act">'+RLANG.upload+"</a>"+'<a href="javascript:void(null);">'+RLANG.choose+"</a>"+'<a href="javascript:void(null);">'+RLANG.link+"</a>"+"</div>"+'<form id="redactorInsertImageForm" method="post" action="" enctype="multipart/form-data">'+'<div id="redactor_tab1" class="redactor_tab">'+'<input type="file" id="redactor_file" name="file" />'+"</div>"+'<div id="redactor_tab2" class="redactor_tab" style="display: none;">'+'<div id="redactor_image_box"></div>'+"</div>"+"</form>"+'<div id="redactor_tab3" class="redactor_tab" style="display: none;">'+"<label>"+RLANG.image_web_link+"</label>"+'<input name="redactor_file_link" id="redactor_file_link" class="redactor_input"  />'+"</div>"+'<div id="redactor_modal_footer">'+'<span class="redactor_btns_box">'+'<input type="button" name="upload" id="redactor_upload_btn" value="'+RLANG.insert+'" />'+'<a href="javascript:void(null);" id="redactor_btn_modal_close">'+RLANG.cancel+"</a>"+"</span>"+"</div>",modal_link:String()+'<form id="redactorInsertLinkForm" method="post" action="">'+'<div id="redactor_tabs">'+'<a href="javascript:void(null);" class="redactor_tabs_act">URL</a>'+'<a href="javascript:void(null);">Email</a>'+'<a href="javascript:void(null);">'+RLANG.anchor+"</a>"+"</div>"+'<input type="hidden" id="redactor_tab_selected" value="1" />'+'<div class="redactor_tab" id="redactor_tab1">'+'<label>URL</label><input id="redactor_link_url" class="redactor_input"  />'+"<label>"+RLANG.text+'</label><input class="redactor_input redactor_link_text" id="redactor_link_url_text" />'+"</div>"+'<div class="redactor_tab" id="redactor_tab2" style="display: none;">'+'<label>Email</label><input id="redactor_link_mailto" class="redactor_input" />'+"<label>"+RLANG.text+'</label><input class="redactor_input redactor_link_text" id="redactor_link_mailto_text" />'+"</div>"+'<div class="redactor_tab" id="redactor_tab3" style="display: none;">'+"<label>"+RLANG.anchor+'</label><input class="redactor_input" id="redactor_link_anchor"  />'+"<label>"+RLANG.text+'</label><input class="redactor_input redactor_link_text" id="redactor_link_anchor_text" />'+"</div>"+"</form>"+'<div id="redactor_modal_footer">'+'<span class="redactor_btns_box">'+'<input type="button" id="redactor_insert_link_btn" value="'+RLANG.insert+'" />'+'<a href="javascript:void(null);" id="redactor_btn_modal_close">'+RLANG.cancel+"</a>"+"</span>"+"</div>",modal_table:String()+"<label>"+RLANG.rows+"</label>"+'<input size="5" value="2" id="redactor_table_rows" />'+"<label>"+RLANG.columns+"</label>"+'<input size="5" value="3" id="redactor_table_columns" />'+'<div id="redactor_modal_footer">'+'<span class="redactor_btns_box">'+'<input type="button" name="upload" id="redactor_insert_table_btn" value="'+RLANG.insert+'" />'+'<a href="javascript:void(null);" id="redactor_btn_modal_close">'+RLANG.cancel+"</a>"+"</span>"+"</div>",modal_video:String()+'<form id="redactorInsertVideoForm">'+"<label>"+RLANG.video_html_code+"</label>"+'<textarea id="redactor_insert_video_area" style="width: 99%; height: 160px;"></textarea>'+"</form>"+'<div id="redactor_modal_footer">'+'<span class="redactor_btns_box">'+'<input type="button" id="redactor_insert_video_btn" value="'+RLANG.insert+'" />'+'<a href="javascript:void(null);" id="redactor_btn_modal_close">'+RLANG.cancel+"</a>"+"</span>"+"</div>",toolbar:{html:{title:RLANG.html,func:"toggle"},formatting:{title:RLANG.formatting,func:"show",dropdown:{p:{title:RLANG.paragraph,exec:"formatblock"},blockquote:{title:RLANG.quote,exec:"formatblock",className:"redactor_format_blockquote"},pre:{title:RLANG.code,exec:"formatblock",className:"redactor_format_pre"},h1:{title:RLANG.header1,exec:"formatblock",className:"redactor_format_h1"},h2:{title:RLANG.header2,exec:"formatblock",className:"redactor_format_h2"},h3:{title:RLANG.header3,exec:"formatblock",className:"redactor_format_h3"},h4:{title:RLANG.header4,exec:"formatblock",className:"redactor_format_h4"}}},bold:{title:RLANG.bold,exec:"bold"},italic:{title:RLANG.italic,exec:"italic"},deleted:{title:RLANG.deleted,exec:"strikethrough"},unorderedlist:{title:"&bull; "+RLANG.unorderedlist,exec:"insertunorderedlist"},orderedlist:{title:"1. "+RLANG.orderedlist,exec:"insertorderedlist"},outdent:{title:"< "+RLANG.outdent,exec:"outdent"},indent:{title:"> "+RLANG.indent,exec:"indent"},image:{title:RLANG.image,func:"showImage"},video:{title:RLANG.video,func:"showVideo"},file:{title:RLANG.file,func:"showFile"},table:{title:RLANG.table,func:"show",dropdown:{insert_table:{title:RLANG.insert_table,func:"showTable"},separator_drop1:{name:"separator"},insert_row_above:{title:RLANG.insert_row_above,func:"insertRowAbove"},insert_row_below:{title:RLANG.insert_row_below,func:"insertRowBelow"},insert_column_left:{title:RLANG.insert_column_left,func:"insertColumnLeft"},insert_column_right:{title:RLANG.insert_column_right,func:"insertColumnRight"},separator_drop2:{name:"separator"},add_head:{title:RLANG.add_head,func:"addHead"},delete_head:{title:RLANG.delete_head,func:"deleteHead"},separator_drop3:{name:"separator"},delete_column:{title:RLANG.delete_column,func:"deleteColumn"},delete_row:{title:RLANG.delete_row,func:"deleteRow"},delete_table:{title:RLANG.delete_table,func:"deleteTable"}}},link:{title:RLANG.link,func:"show",dropdown:{link:{title:RLANG.link_insert,func:"showLink"},unlink:{title:RLANG.unlink,exec:"unlink"}}},fontcolor:{title:RLANG.fontcolor,func:"show"},backcolor:{title:RLANG.backcolor,func:"show"},alignleft:{exec:"JustifyLeft",title:RLANG.align_left},aligncenter:{exec:"JustifyCenter",title:RLANG.align_center},alignright:{exec:"JustifyRight",title:RLANG.align_right},justify:{exec:"justifyfull",title:RLANG.align_justify},horizontalrule:{exec:"inserthorizontalrule",title:RLANG.horizontalrule},fullscreen:{title:RLANG.fullscreen,func:"fullscreen"}}},i,this.$el.data()),this.dropdowns=[],this.init()};e.prototype={init:function(){this.getPath(),this.opts.toolbar!==!1&&(t.extend(this.opts.toolbar,this.opts.buttonsCustom),t.each(this.opts.buttonsAdd,t.proxy(function(t,e){this.opts.buttons.push(e)},this))),this.height=this.$el.css("height"),this.width=this.$el.css("width"),this.build();var e=this.$el.val();e=this.preformater(e),this.opts.autoformat&&(e=this.paragraphy(e)),this.$editor=this.enable(e),this.observeFocus(),this.opts.cleanUp===!0&&t(this.doc).bind("paste",t.proxy(function(){setTimeout(t.proxy(function(){var e=Math.floor(99999*Math.random()),i="";t.browser.mozilla&&(i="&nbsp;");var n=t('<span rel="pastemarkerend" id="pastemarkerend'+e+'">'+i+"</span>");this.insertNodeAtCaret(n.get(0)),this.pasteCleanUp(e)},this),100)},this)),t(this.doc).keyup(t.proxy(function(t){var e=t.keyCode||t.which;if("function"==typeof this.opts.keyupCallback&&this.opts.keyupCallback(this,t),this.opts.autoformat){if(8===e||46===e)return this.formatEmpty(t);if(13===e&&!t.shiftKey&&!t.ctrlKey&&!t.metaKey)return this.formatNewLine(t)}this.syncCode()},this)),this.buildToolbar(),this.opts.autoresize===!1?this.buildResizer():this.observeAutoResize(),this.shortcuts(),this.autoSave(),this.observeImages(),this.observeTables(),this.opts.fullscreen&&(this.opts.fullscreen=!1,this.fullscreen()),this.opts.focus&&this.focus(),this.opts.fixed&&(this.observeScroll(),t(document).scroll(t.proxy(this.observeScroll,this))),"function"==typeof this.opts.callback&&this.opts.callback(this)},shortcuts:function(){t(this.doc).keydown(t.proxy(function(e){var i=e.keyCode||e.which;return"function"==typeof this.opts.keydownCallback&&this.opts.keydownCallback(this,e),e.ctrlKey&&(90===i?this._shortcuts(e,"undo"):90===i&&e.shiftKey?this._shortcuts(e,"redo"):77===i?this._shortcuts(e,"removeFormat"):66===i?this._shortcuts(e,"bold"):73===i?this._shortcuts(e,"italic"):74===i?this._shortcuts(e,"insertunorderedlist"):75===i?this._shortcuts(e,"insertorderedlist"):76===i?this._shortcuts(e,"superscript"):72===i&&this._shortcuts(e,"subscript")),e.shiftKey||9!==i?e.shiftKey&&9===i&&this._shortcuts(e,"outdent"):this._shortcuts(e,"indent"),t.browser.webkit&&-1===navigator.userAgent.indexOf("Chrome")?this.safariShiftKeyEnter(e,i):void 0},this))},_shortcuts:function(t,e){t.preventDefault&&t.preventDefault(),this.execCommand(e,null)},getPath:function(){return this.opts.path!==!1?this.opts.path:(t("script").each(t.proxy(function(t,e){if(e.src){var i=new RegExp(/\/redactor(\.min)?\.js(\?.*)?/);e.src.match(i)&&(this.opts.path=e.src.replace(i,""))}},this)),void 0)},build:function(){this.$box=t('<div class="redactor_box"></div>'),this.$frame=t('<iframe frameborder="0" scrolling="auto" style="height: '+this.height+';" class="redactor_frame"></iframe>'),this.$el.css("width","100%").hide(),this.$box.insertAfter(this.$el).append(this.$frame).append(this.$el)},write:function(t){this.doc.open(),this.doc.write(t),this.doc.close()},enable:function(e){return this.doc=this.getDoc(this.$frame.get(0)),null!==this.doc?(this.write(this.setDoc(e)),t.browser.mozilla&&this.doc.execCommand("useCSS",!1,!0),t(this.doc).find("#page")):!1},setDoc:function(t){var e='<!DOCTYPE html>\n<html><head><link media="all" type="text/css" href="'+this.opts.path+"/css/"+this.opts.css+'" rel="stylesheet"></head>'+'<body><div id="page" contenteditable="true" dir="'+this.opts.direction+'">'+t+"</div></body></html>";return e},getDoc:function(t){return t.contentDocument?t.contentDocument:t.contentWindow&&t.contentWindow.document?t.contentWindow.document:t.document?t.document:null},focus:function(){this.$editor.focus()},syncCode:function(){var t=this.formatting(this.$editor.html());this.$el.val(t)},setCode:function(t){t=this.preformater(t),this.$editor.html(t).focus(),this.syncCode()},getCode:function(){var t=this.$editor?this.$editor.html():this.$el.val();return t=this.reformater(t)},insertHtml:function(t){this.execCommand("inserthtml",t),this.observeImages()},destroy:function(){var t=this.getCode();this.$box.after(this.$el),this.$box.remove(),this.$el.val(t).show();for(var e=0;e<this.dropdowns.length;e++)this.dropdowns[e].remove(),delete this.dropdowns[e]},handler:function(){t.ajax({url:this.opts.handler,type:"POST",data:"redactor="+escape(encodeURIComponent(this.getCode())),success:t.proxy(function(t){this.setCode(t),this.syncCode()},this)})},observeFocus:function(){t(this.doc).find("body").height()<t(this.$frame.get(0).contentWindow).height()&&t(this.doc).click(t.proxy(function(){this.$editor.focus()},this))},observeImages:function(){return this.opts.observeImages===!1?!1:(t.browser.mozilla&&this.doc.execCommand("enableObjectResizing",!1,"false"),t(this.doc).find("img").each(t.proxy(function(e,i){t.browser.msie&&t(i).attr("unselectable","on"),this.resizeImage(i)},this)),void 0)},observeTables:function(){t(this.doc).find("body").find("table").click(t.proxy(this.tableObserver,this))},observeScroll:function(){var e=t(document).scrollTop(),i=this.$box.offset().top;e>i?(this.fixed=!0,this.$toolbar.css({position:"fixed",width:"100%"})):(this.fixed=!1,this.$toolbar.css({position:"relative",width:"auto"}))},observeAutoResize:function(){this.$editor.css({"min-height":this.$el.height()+"px"}),t(this.doc).find("body").css({overflow:"hidden"}),this.setAutoSize(!1),t(this.doc).keyup(t.proxy(this.setAutoSize,this))},setAutoSize:function(t){var e=!1;t!==!1&&(e=t.keyCode||t.which);var i=this.$editor.outerHeight(!0);t!==!0||8!==e&&46!==e?this.$frame.height(i+30):this.$frame.height(i)},execCommand:function(e,i){if(this.opts.visual&&this.doc)try{t.browser.msie&&this.focus(),"inserthtml"===e&&t.browser.msie?this.doc.selection.createRange().pasteHTML(i):"formatblock"===e&&t.browser.msie?this.doc.execCommand(e,!1,"<"+i+">"):this.doc.execCommand(e,!1,i),this.syncCode(),this.focus(),"function"==typeof this.opts.execCommandCallback&&this.opts.execCommandCallback(this,e)}catch(n){}},formatNewLine:function(e){var i=this.getParentNode();if("DIV"!==i.nodeName||"page"!==i.id)return this.syncCode(),!0;e.preventDefault&&e.preventDefault();var n=t(this.getCurrentNode());if("DIV"===n.get(0).tagName&&(""===n.html()||"<br>"===n.html())){var o=t("<p>").append(n.clone().get(0).childNodes);return n.replaceWith(o),o.html("<br />"),this.setFocusNode(o.get(0)),this.syncCode(),!1}this.syncCode(),this.opts.convertLinks&&this.$editor.linkify()},safariShiftKeyEnter:function(e,i){if(e.shiftKey&&13===i){e.preventDefault();var n=t("<span><br /></span>");return this.insertNodeAtCaret(n.get(0)),this.setFocusNode(n.get(0)),this.syncCode(),!1}return!0},formatEmpty:function(e){var i=t.trim(this.$editor.html());if(t.browser.mozilla&&(i=i.replace(/<br>/gi,"")),""===i){e.preventDefault&&e.preventDefault();var n=this.opts.allEmptyHtml;t.browser.mozilla&&(n=this.opts.mozillaEmptyHtml);var o=t(n).get(0);return this.$editor.html(o),this.setFocusNode(o),this.syncCode(),!1}this.syncCode()},paragraphy:function(e){if(e=t.trim(e),""===e)return t.browser.mozilla?this.opts.mozillaEmptyHtml:this.opts.allEmptyHtml;this.opts.convertDivs&&(e=e.replace(/<div(.*?)>([\w\W]*?)<\/div>/gi,"<p>$2</p>"));var i=function(t,e,i){return t.replace(new RegExp(e,"g"),i)},n=function(t,n){return i(e,t,n)},o="(table|thead|tfoot|caption|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|select|form|blockquote|address|math|style|script|object|input|param|p|h[1-6])";return e+="\n",n("<br />\\s*<br />","\n\n"),n("(<"+o+"[^>]*>)","\n$1"),n("(</"+o+">)","$1\n\n"),n("\r\n|\r","\n"),n("\n\n+","\n\n"),n("\n?((.|\n)+?)$","<p>$1</p>\n"),n("<p>\\s*?</p>",""),n("<p>(<div[^>]*>\\s*)","$1<p>"),n("<p>([^<]+)\\s*?(</(div|address|form)[^>]*>)","<p>$1</p>$2"),n("<p>\\s*(</?"+o+"[^>]*>)\\s*</p>","$1"),n("<p>(<li.+?)</p>","$1"),n("<p>\\s*(</?"+o+"[^>]*>)","$1"),n("(</?"+o+"[^>]*>)\\s*</p>","$1"),n("(</?"+o+"[^>]*>)\\s*<br />","$1"),n("<br />(\\s*</?(p|li|div|dl|dd|dt|th|pre|td|ul|ol)[^>]*>)","$1"),-1!=e.indexOf("<pre")&&n("(<pre(.|\n)*?>)((.|\n)*?)</pre>",function(t,e,n,o){return i(e,"\\\\(['\"\\\\])","$1")+i(i(i(o,"<p>","\n"),"</p>|<br />",""),"\\\\(['\"\\\\])","$1")+"</pre>"}),n("\n</p>$","</p>")},preformater:function(t){return null!==t?(t=t.replace(/<br>/gi,"<br />"),t=t.replace(/<strong\b[^>]*>([\w\W]*?)<\/strong[^>]*>/gi,"<b>$1</b>"),t=t.replace(/<em\b[^>]*>([\w\W]*?)<\/em[^>]*>/gi,"<i>$1</i>"),t=t.replace(/<del\b[^>]*>([\w\W]*?)<\/del[^>]*>/gi,"<strike>$1</strike>")):t="",t},reformater:function(t){return t=t.replace(/<br>/gi,"<br />"),t=t.replace(/<b\b[^>]*>([\w\W]*?)<\/b[^>]*>/gi,"<strong>$1</strong>"),t=t.replace(/<i\b[^>]*>([\w\W]*?)<\/i[^>]*>/gi,"<em>$1</em>"),t=t.replace(/<strike\b[^>]*>([\w\W]*?)<\/strike[^>]*>/gi,"<del>$1</del>"),t=t.replace(/<span(.*?)style="font-weight: bold;">([\w\W]*?)<\/span>/gi,"<strong>$2</strong>"),t=t.replace(/<span(.*?)style="font-style: italic;">([\w\W]*?)<\/span>/gi,"<em>$2</em>"),t=t.replace(/<span(.*?)style="font-weight: bold; font-style: italic;">([\w\W]*?)<\/span>/gi,"<em><strong>$2</strong></em>"),t=t.replace(/<span(.*?)style="font-style: italic; font-weight: bold;">([\w\W]*?)<\/span>/gi,"<strong><em>$2</em></strong>")},stripTags:function(e){var i=["code","span","div","label","a","br","p","b","i","del","strike","img","video","audio","iframe","object","embed","param","blockquote","mark","cite","small","ul","ol","li","hr","dl","dt","dd","sup","sub","big","pre","code","figure","figcaption","strong","em","table","tr","td","th","tbody","thead","tfoot","h1","h2","h3","h4","h5","h6"],n=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;return e.replace(n,function(e,n){return t.inArray(n.toLowerCase(),i)>"-1"?e:""})},cleanStyles:function(e,i,n){var o=n.split("="),r=o[1].split(";"),s="";return t.each(r,function(i,n){if("undefined"==typeof n)return!0;if('"'==n||"'"==n)return!0;n=n.replace(/(^"|^')/,"").replace(/("$|'$)/,"").replace(/"(.*?)"/gi,""),n=t.trim(n);var o=n.split(":");"undefined"!=typeof o[1]&&-1===o[1].search("pt")&&-1===o[1].search("cm")&&"-1"!=t.inArray(t.trim(o[0]),e)&&(s+=n+"; ")}),i.replace(n,'style="'+s+'"')},pasteCleanUp:function(e){var i=this.$editor.html();i=i.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,""),i=this.formattingRemove(i),i=this.stripTags(i),this.opts.removeClasses?i=i.replace(/ class="([\w\W]*?)"/gi,""):(i=i.replace(/\s*class="TOC(.*?)"/gi,""),i=i.replace(/\s*class="Heading(.*?)"/gi,""),i=i.replace(/\s*class="Body(.*?)"/gi,""),i=i.replace(/\sclass="Nonformat"/gi,""),i=i.replace(/\sclass="Mso(.*?)"/gi,""),i=i.replace(/\sclass="Apple(.*?)"/gi,""),i=i.replace(/"Times New Roman"/gi,""));var n=["width","height","src","style","href","frameborder","class","id","rel","unselectable"],o=["color","background-color","font-style","margin","margin-top","margin-bottom","margin-left","margin-right","text-align","width","height","cursor","float"],r=i.match(/([\w\-.:]+)\s*=\s*("[^"]*"|'[^']*'|[\w\-.:]+)/gi);t.each(r,t.proxy(function(e,r){var s=r.split("=");"-1"==t.inArray(s[0],n)&&(i=i.replace(r,"")),this.opts.removeStyles===!1&&"style"==s[0]&&(i=this.cleanStyles(o,i,r))},this)),this.opts.removeStyles===!1?(i=i.replace(/background-color:(\s+)transparent;\s/gi,""),i=i.replace(/font-style:(\s+)normal;\s/gi,"")):i=i.replace(/ style="([\w\W]*?)"/gi,""),i=i.replace(/((\s{2,})?|\s)style=(""|'')/gi,""),i=i.replace(/(&nbsp;){1,}/gi,"&nbsp;"),i=i.replace(/<span(\s)?>(\s)?<\/span>/gi," "),i=i.replace(/\s{2,}/g," "),i=i.replace(/<span>([\w\W]*?)<\/span>/gi,"$1"),i=i.replace(/<span>([\w\W]*?)<\/span>/gi,"$1"),i=i.replace(/<span(\s)?>([\w\W]*?)<\/span>/gi,"$2"),i=this.formattingEmptyTags(i),i=this.formattingAddBefore(i),i=this.formattingAddAfter(i),i=this.formattingIndenting(i),i=i.replace(/<p><div>/gi,""),i=i.replace(/<p>\s+\n+<(.*?)/gi,"<$1"),i=i.replace(/<\/(.*?)>\s+\n+<\/p>/gi,"</$1>"),i=i.replace(/<p style="(.*?)">(\s)?<\/p>/gi,""),i=i.replace(/<p style="(.*?)"><\/p>/gi,""),i=i.replace(/<b\sid="internal-source-marker(.*?)">([\w\W]*?)<\/b>/gi,"$2"),i=i.replace(/; ">/gi,';">'),this.$editor.html(i);var s=t(this.doc.body).find("#pastemarkerend"+e).get(0);this.setFocusNode(s),this.syncCode(),setTimeout(t.proxy(function(){t(this.doc.body).find("span[rel=pastemarkerend]").remove(),this.opts.autoresize===!0&&this.setAutoSize(!1),this.observeImages(),this.observeTables()},this),100)},formattingRemove:function(t){return t=t.replace(/\s{2,}/g," "),t=t.replace(/\n/g," "),t=t.replace(/[\t]*/g,""),t=t.replace(/\n\s*\n/g,"\n"),t=t.replace(/^[\s\n]*/g,""),t=t.replace(/[\s\n]*$/g,""),t=t.replace(/>\s+</g,"><")},formattingIndenting:function(t){return t=t.replace(/<li/g,"	<li"),t=t.replace(/<tr/g,"	<tr"),t=t.replace(/<td/g,"		<td"),t=t.replace(/<\/tr>/g,"	</tr>")
},formattingEmptyTags:function(t){for(var e=["<pre></pre>","<blockquote>\\s*</blockquote>","<em>\\s*</em>","<ul></ul>","<ol></ol>","<li></li>","<table></table>","<tr></tr>","<span>\\s*<span>","<span>&nbsp;<span>","<b>\\s*</b>","<b>&nbsp;</b>","<p>\\s*</p>","<p>&nbsp;</p>","<p>\\s*<br>\\s*</p>","<div>\\s*</div>","<div>\\s*<br>\\s*</div>"],i=0;i<e.length;++i){var n=e[i];t=t.replace(new RegExp(n,"gi"),"")}return t},formattingAddBefore:function(t){for(var e="\r\n",i=["<p","<form","</ul>","</ol>","<fieldset","<legend","<object","<embed","<select","<option","<input","<textarea","<pre","<blockquote","<ul","<ol","<li","<dl","<dt","<dd","<table","<thead","<tbody","<caption","</caption>","<th","<tr","<td","<figure"],n=0;n<i.length;++n){var o=i[n];t=t.replace(new RegExp(o,"gi"),e+o)}return t},formattingAddAfter:function(t){for(var e="\r\n",i=["</p>","</div>","</h1>","</h2>","</h3>","</h4>","</h5>","</h6>","<br>","<br />","</dl>","</dt>","</dd>","</form>","</blockquote>","</pre>","</legend>","</fieldset>","</object>","</embed>","</textarea>","</select>","</option>","</table>","</thead>","</tbody>","</tr>","</td>","</th>","</figure>"],n=0;n<i.length;++n){var o=i[n];t=t.replace(new RegExp(o,"gi"),o+e)}return t},formatting:function(e){if(t.browser.msie){var i=e.match(/<(.*?)>/gi);t.each(i,function(t,i){e=e.replace(i,i.toLowerCase())}),e=e.replace(/style="(.*?)"/gi,function(t){return t.toLowerCase()}),e=e.replace(/ jQuery(.*?)=\"(.*?)\"/gi,"")}return e=e.replace(/<span([\w\W]*?)style="color:(.*?);"><span([\w\W]*?)style="background-color:(.*?);">([\w\W]*?)<\/span><\/span>/gi,'<span style="color: $2; background-color: $4;">$5</span>'),e=e.replace(/<span([\w\W]*?)style="background-color:(.*?);"><span([\w\W]*?)style="color:(.*?);">([\w\W]*?)<\/span><\/span>/gi,'<span style="color: $2; background-color: $4;">$5</span>'),e=e.replace(/<span([\w\W]*?)color="(.*?)">([\w\W]*?)<\/span\>/gi,'<span$1style="color: $2;">$3</span>'),e=e.replace(/<font([\w\W]*?)color="(.*?)">([\w\W]*?)<\/font\>/gi,'<span$1style="color: $2;">$3</span>'),e=e.replace(/<span style="(.*?)"\s+style="(.*?)"[\s]*>([\w\W]*?)<\/span\>/gi,'<span style="$1;$2">$3</span>'),e=e.replace(/<font([\w\W]*?)>([\w\W]*?)<\/font\>/gi,"<span$1>$2</span>"),e=e.replace(/<span>([\w\W]*?)<\/span>/gi,"$1"),this.opts.xhtml&&(e=e.replace(/<br>/gi,"<br />"),e=e.replace(/<br ?\/?>$/gi,""),e=e.replace(/^<br ?\/?>/gi,""),e=e.replace(/(<img [^>]+[^\/])>/gi,"$1 />")),e=e.replace(/<p><p>/g,"<p>"),e=e.replace(/<\/p><\/p>/g,"</p>"),e=e.replace(/<hr(.*?)>/g,"<hr />"),e=e.replace(/<p>&nbsp;/g,"<p>"),e=e.replace(/<p><ul>/g,"<ul>"),e=e.replace(/<p><ol>/g,"<ol>"),e=e.replace(/<\/ul><\/p>/g,"</ul>"),e=e.replace(/<\/ol><\/p>/g,"</ol>"),e=e.replace(/<p(.*?)>&nbsp;<\/p>/gi,""),e=this.formattingRemove(e),e=this.formattingEmptyTags(e),e=this.formattingAddBefore(e),e=this.formattingAddAfter(e),e=this.formattingIndenting(e)},toggle:function(){var e;this.opts.visual?(this.$frame.hide(),e=this.$editor.html(),e=t.trim(this.formatting(e)),this.$el.val(e).show().focus(),this.setBtnActive("html"),this.opts.visual=!1):(this.$el.hide(),this.$editor.html(this.$el.val()),this.$frame.show(),""===this.$editor.html()&&(e=t.browser.mozilla?this.opts.mozillaEmptyHtml:this.opts.allEmptyHtml,this.setCode(e)),this.focus(),this.setBtnInactive("html"),this.opts.visual=!0,this.observeImages(),this.observeTables(),this.opts.autoresize===!0&&this.setAutoSize(!1))},autoSave:function(){return this.opts.autosave===!1?!1:(setInterval(t.proxy(function(){t.post(this.opts.autosave,{data:this.getCode()})},this),1e3*this.opts.interval),void 0)},buildToolbar:function(){return this.opts.toolbar===!1?!1:(this.$toolbar=t("<ul>").addClass("redactor_toolbar"),this.$box.prepend(this.$toolbar),t.each(this.opts.buttons,t.proxy(function(e,i){if("|"!==i&&"undefined"!=typeof this.opts.toolbar[i]){var n=this.opts.toolbar[i];if(this.opts.fileUpload===!1&&"file"===i)return!0;var o=t("<li>");"fullscreen"===i&&t(o).addClass("redactor_toolbar_right");var r=this.buildButton(i,n);if("backcolor"===i||"fontcolor"===i||"undefined"!=typeof n.dropdown){var s=t('<div class="redactor_dropdown" style="display: none;">');s="backcolor"===i||"fontcolor"===i?this.buildColorPicker(s,i):this.buildDropdown(s,n.dropdown),this.dropdowns.push(s.appendTo(t(document.body))),this.hdlHideDropDown=t.proxy(function(t){this.hideDropDown(t,s,i)},this),this.hdlShowDropDown=t.proxy(function(t){this.showDropDown(t,s,i)},this),r.click(this.hdlShowDropDown)}this.$toolbar.append(t(o).append(r))}"|"===i&&this.$toolbar.append(t('<li class="redactor_separator"></li>'))},this)),t(document).click(this.hdlHideDropDown),t(this.doc).click(this.hdlHideDropDown),void 0)},buildButton:function(e,i){var n=t('<a href="javascript:void(null);" title="'+i.title+'" class="redactor_btn_'+e+'"><span>&nbsp;</span></a>');return"undefined"==typeof i.func?n.click(t.proxy(function(){this.execCommand(i.exec,e)},this)):"show"!==i.func&&n.click(t.proxy(function(t){this[i.func](t)},this)),"undefined"!=typeof i.callback&&n.click(t.proxy(function(t){i.callback(this,t,e)},this)),n},buildDropdown:function(e,i){return t.each(i,t.proxy(function(i,n){"undefined"==typeof n.className&&(n.className="");var o;"undefined"!=typeof n.name&&"separator"===n.name?o=t('<a class="redactor_separator_drop">'):(o=t('<a href="javascript:void(null);" class="'+n.className+'">'+n.title+"</a>"),"undefined"==typeof n.func?t(o).click(t.proxy(function(){this.execCommand(n.exec,i)},this)):t(o).click(t.proxy(function(t){this[n.func](t)},this))),t(e).append(o)},this)),e},buildColorPicker:function(e,i){var n;n="backcolor"===i?t.browser.msie?"BackColor":"hilitecolor":"forecolor",t(e).width(210);for(var o=this.opts.colors.length,r=0;o>r;++r){var s=this.opts.colors[r],a=t('<a rel="'+s+'" href="javascript:void(null);" class="redactor_color_link"></a>').css({backgroundColor:s});t(e).append(a);var l=this;t(a).click(function(){t.browser.mozilla?"hilitecolor"==n?(l.execCommand("useCSS",!1,!1),l.execCommand(n,t(this).attr("rel")),l.execCommand("useCSS",!1,!0)):(l.execCommand("styleWithCSS",!1,!1),l.execCommand(n,t(this).attr("rel")),l.execCommand("styleWithCSS",!1,!0)):l.execCommand(n,t(this).attr("rel"))})}var c=t('<a href="javascript:void(null);" class="redactor_color_none"></a>').html(RLANG.none);return"backcolor"===i?c.click(t.proxy(this.setBackgroundNone,this)):c.click(t.proxy(this.setColorNone,this)),t(e).append(c),e},setBackgroundNone:function(){t(this.getParentNode()).css("background-color","transparent"),this.syncCode()},setColorNone:function(){t(this.getParentNode()).attr("color","").css("color",""),this.syncCode()},showDropDown:function(e,i,n){if(this.getBtn(n).hasClass("dropact"))this.hideAllDropDown();else{this.hideAllDropDown(),this.setBtnActive(n),this.getBtn(n).addClass("dropact");var o=this.getBtn(n).offset().left;if(this.opts.fixed&&this.fixed)t(i).css({position:"fixed",left:o+"px",top:"30px"}).show();else{var r=this.$toolbar.offset().top+30;t(i).css({position:"absolute",left:o+"px",top:r+"px"}).show()}}},hideAllDropDown:function(){this.$toolbar.find("a.dropact").removeClass("act").removeClass("dropact"),t(".redactor_dropdown").hide()},hideDropDown:function(e,i){t(e.target).parent().hasClass("dropact")||(t(i).removeClass("act"),this.showedDropDown=!1,this.hideAllDropDown())},getSelection:function(){return this.$frame.get(0).contentWindow.getSelection?this.$frame.get(0).contentWindow.getSelection():this.$frame.get(0).contentWindow.document.selection?this.$frame.get(0).contentWindow.document.selection.createRange():void 0},getParentNode:function(){return window.getSelection?this.getSelection().getRangeAt(0).startContainer.parentNode:document.selection?this.getSelection().parentElement():void 0},getCurrentNode:function(){return window.getSelection?this.getSelection().getRangeAt(0).startContainer:document.selection?this.getSelection():void 0},setFocusNode:function(t,e){var i=this.doc.createRange(),n=this.getSelection();e=e?0:1,null!==n&&(i.selectNodeContents(t),n.addRange(i),n.collapse(t,e)),this.focus()},insertNodeAtCaret:function(t){if("undefined"!=typeof window.getSelection){var e=this.getSelection();if(e.rangeCount){var i=e.getRangeAt(0);i.collapse(!1),i.insertNode(t),i=i.cloneRange(),i.selectNodeContents(t),i.collapse(!1),e.removeAllRanges(),e.addRange(i)}}else if("undefined"!=typeof document.selection&&"Control"!==document.selection.type){var n=1===t.nodeType?t.outerHTML:t.data,o="marker_"+(""+Math.random()).slice(2);n+='<span id="'+o+'"></span>';var r=this.getSelection();r.collapse(!1),r.pasteHTML(n);var s=document.getElementById(o);r.moveToElementText(s),r.select(),s.parentNode.removeChild(s)}},getBtn:function(e){return t(this.$toolbar.find("a.redactor_btn_"+e))},setBtnActive:function(t){this.getBtn(t).addClass("act")},setBtnInactive:function(t){this.getBtn(t).removeClass("act")},changeBtnIcon:function(t,e){this.getBtn(t).addClass("redactor_btn_"+e)},removeBtnIcon:function(t,e){this.getBtn(t).removeClass("redactor_btn_"+e)},removeBtn:function(t){this.getBtn(t).remove()},addBtn:function(e,i){this.$toolbar.append(t("<li>").append(this.buildButton(e,i)))},fullscreen:function(){var e;this.opts.fullscreen===!1?(this.changeBtnIcon("fullscreen","normalscreen"),this.setBtnActive("fullscreen"),this.opts.fullscreen=!0,this.height=this.$frame.css("height"),this.width=this.$box.width()-2+"px",e=this.getCode(),this.tmpspan=t("<span></span>"),this.$box.addClass("redactor_box_fullscreen").after(this.tmpspan),t(document.body).prepend(this.$box).css("overflow","hidden"),this.$editor=this.enable(e),t(this.doc).click(t.proxy(this.hideAllDropDown,this)),this.observeFocus(),this.observeImages(),this.observeTables(),this.$box.find(".redactor_resizer").hide(),this.fullScreenResize(),t(window).resize(t.proxy(this.fullScreenResize,this)),t(document).scrollTop(0,0),this.focus()):(this.removeBtnIcon("fullscreen","normalscreen"),this.setBtnInactive("fullscreen"),this.opts.fullscreen=!1,t(window).unbind("resize",t.proxy(this.fullScreenResize,this)),t(document.body).css("overflow",""),e=this.getCode(),this.$box.removeClass("redactor_box_fullscreen").css("width","auto"),this.tmpspan.after(this.$box).remove(),this.$editor=this.enable(e),this.observeImages(),this.observeTables(),this.opts.autoresize&&this.observeAutoResize(),this.$box.find(".redactor_resizer").show(),t(this.doc).click(t.proxy(this.hideAllDropDown,this)),this.observeFocus(),this.syncCode(),this.$frame.css("height",this.height),this.$el.css("height",this.height),this.focus())},fullScreenResize:function(){if(this.opts.fullscreen===!1)return!1;var e=t(window).height()-42;this.$box.width(t(window).width()-2),this.$frame.height(e),this.$el.height(e)},buildResizer:function(){return this.opts.resize===!1?!1:(this.$resizer=t('<div class="redactor_resizer">&mdash;</div>'),this.$box.append(this.$resizer),this.$resizer.mousedown(t.proxy(this.initResize,this)),void 0)},initResize:function(e){e.preventDefault&&e.preventDefault(),this.splitter=e.target,this.opts.visual?(this.element_resize=this.$frame,this.element_resize.get(0).style.visibility="hidden",this.element_resize_parent=this.$el):(this.element_resize=this.$el,this.element_resize_parent=this.$frame),this.stopResizeHdl=t.proxy(this.stopResize,this),this.startResizeHdl=t.proxy(this.startResize,this),this.resizeHdl=t.proxy(this.resize,this),t(document).mousedown(this.startResizeHdl),t(document).mouseup(this.stopResizeHdl),t(this.splitter).mouseup(this.stopResizeHdl),this.null_point=!1,this.h_new=!1,this.h=this.element_resize.height()},startResize:function(){t(document).mousemove(this.resizeHdl)},resize:function(t){t.preventDefault&&t.preventDefault();var e=t.pageY;this.null_point===!1&&(this.null_point=e),this.h_new===!1&&(this.h_new=this.element_resize.height());var i=this.h_new+e-this.null_point-10;return 30>=i?!0:(i>=0&&(this.element_resize.get(0).style.height=i+"px",this.element_resize_parent.get(0).style.height=i+"px"),void 0)},stopResize:function(){t(document).unbind("mousemove",this.resizeHdl),t(document).unbind("mousedown",this.startResizeHdl),t(document).unbind("mouseup",this.stopResizeHdl),t(this.splitter).unbind("mouseup",this.stopResizeHdl),this.element_resize.get(0).style.visibility="visible"},resizeImage:function(e){var i,n,o=!1,r=!1,s=t(e).width()/t(e).height(),a=1,l=1,c=1,u=1;t(e).hover(function(){t(e).css("cursor","nw-resize")},function(){t(e).css("cursor","default"),o=!1}),t(e).mousedown(function(s){s.preventDefault&&s.preventDefault(),o=!0,r=!0,i=Math.round(s.pageX-t(e).eq(0).offset().left),n=Math.round(s.pageY-t(e).eq(0).offset().top)}),t(e).mouseup(t.proxy(function(){o=!1,this.syncCode(),this.opts.autoresize===!0&&this.setAutoSize(!1)},this)),t(e).click(t.proxy(function(t){r&&this.imageEdit(t)},this)),t(e).mousemove(function(d){if(o){r=!1,Math.round(d.pageX-t(this).eq(0).offset().left)-i;var h=Math.round(d.pageY-t(this).eq(0).offset().top)-n,p=t(e).height(),f=parseInt(p,10)+h,m=f*s;(1===l||"number"==typeof l&&l>m&&m>c)&&t(e).width(m),(1===a||"number"==typeof a&&a>f&&f>u)&&t(e).height(f),i=Math.round(d.pageX-t(this).eq(0).offset().left),n=Math.round(d.pageY-t(this).eq(0).offset().top)}})},showTable:function(){this.modalInit(RLANG.table,"table",300,t.proxy(function(){t("#redactor_insert_table_btn").click(t.proxy(this.insertTable,this))},this),function(){t("#redactor_table_rows").focus()})},insertTable:function(){for(var e=t("#redactor_table_rows").val(),i=t("#redactor_table_columns").val(),n=t("<div></div>"),o=Math.floor(99999*Math.random()),r=t('<table id="table'+o+'"><tbody></tbody></table>'),s=0;e>s;s++){for(var a=t("<tr></tr>"),l=0;i>l;l++){var c=t("<td>&nbsp;</td>");t(a).append(c)}t(r).append(a)}t(n).append(r);var u=t(n).html();u+=t.browser.msie?"<p></p>":"<p>&nbsp;</p>",this.execCommand("inserthtml",u),this.modalClose(),this.$table=t(this.doc).find("body").find("#table"+o),this.$table.click(t.proxy(this.tableObserver,this)),this.opts.autoresize===!0&&this.setAutoSize(!1)},tableObserver:function(e){this.$table=t(e.target).parents("table"),this.$table_tr=this.$table.find("tr"),this.$table_td=this.$table.find("td"),this.$table_td.removeClass("current"),this.$tbody=t(e.target).parents("tbody"),this.$thead=t(this.$table).find("thead"),this.$current_td=t(e.target),this.$current_td.addClass("current"),this.$current_tr=t(e.target).parents("tr")},deleteTable:function(){t(this.$table).remove(),this.$table=!1,this.syncCode()},deleteRow:function(){t(this.$current_tr).remove(),this.syncCode()},deleteColumn:function(){var e=t(this.$current_td).get(0).cellIndex;t(this.$table).find("tr").each(function(){t(this).find("td").eq(e).remove()}),this.syncCode()},addHead:function(){if(0!==t(this.$table).find("thead").size())this.deleteHead();else{var e=t(this.$table).find("tr").first().clone();e.find("td").html("&nbsp;"),this.$thead=t("<thead></thead>"),this.$thead.append(e),t(this.$table).prepend(this.$thead),this.syncCode()}},deleteHead:function(){t(this.$thead).remove(),this.$thead=!1,this.syncCode()},insertRowAbove:function(){this.insertRow("before")},insertRowBelow:function(){this.insertRow("after")},insertColumnLeft:function(){this.insertColumn("before")},insertColumnRight:function(){this.insertColumn("after")},insertRow:function(e){var i=t(this.$current_tr).clone();i.find("td").html("&nbsp;"),"after"===e?t(this.$current_tr).after(i):t(this.$current_tr).before(i),this.syncCode()},insertColumn:function(e){var i=0;this.$current_td.addClass("current"),this.$current_tr.find("td").each(function(e,n){t(n).hasClass("current")&&(i=e)}),this.$table_tr.each(function(n,o){var r=t(o).find("td").eq(i),s=r.clone();s.html("&nbsp;"),"after"===e?t(r).after(s):t(r).before(s)}),this.syncCode()},showVideo:function(){t.browser.msie&&this.markerIE(),this.modalInit(RLANG.video,"video",600,t.proxy(function(){t("#redactor_insert_video_btn").click(t.proxy(this.insertVideo,this))},this),function(){t("#redactor_insert_video_area").focus()})},insertVideo:function(){var e=t("#redactor_insert_video_area").val();e=this.stripTags(e),t.browser.msie?(t(this.doc.getElementById("span"+this.spanid)).after(e).remove(),this.syncCode()):this.execCommand("inserthtml",e),this.modalClose(),this.opts.autoresize===!0&&this.setAutoSize(!1)},imageEdit:function(e){var i=t(e.target),n=i.parent(),o=t.proxy(function(){t("#redactor_file_alt").val(i.attr("alt")),t("#redactor_image_edit_src").attr("href",i.attr("src")),t("#redactor_form_image_align").val(i.css("float")),"A"===t(n).get(0).tagName&&t("#redactor_file_link").val(t(n).attr("href")),t("#redactor_image_delete_btn").click(t.proxy(function(){this.imageDelete(i)},this)),t("#redactorSaveBtn").click(t.proxy(function(){this.imageSave(i)},this))},this);this.modalInit(RLANG.image,"image_edit",380,o)},imageDelete:function(e){t(e).remove(),this.modalClose(),this.syncCode(),this.opts.autoresize===!0&&this.setAutoSize(!1)},imageSave:function(e){var i=t(e).parent();t(e).attr("alt",t("#redactor_file_alt").val());var n=t("#redactor_form_image_align").val();"left"===n?t(e).css({"float":"left",margin:"0 10px 10px 0"}):"right"===n?t(e).css({"float":"right",margin:"0 0 10px 10px"}):t(e).css({"float":"none",margin:"0"});var o=t.trim(t("#redactor_file_link").val());""!==o?"A"!==t(i).get(0).tagName?t(e).replaceWith('<a href="'+o+'">'+this.outerHTML(e)+"</a>"):t(i).attr("href",o):"A"===t(i).get(0).tagName&&t(i).replaceWith(this.outerHTML(e)),this.modalClose(),this.observeImages(),this.syncCode()},showImage:function(){t.browser.msie&&this.markerIE();var e=t.proxy(function(){if(this.opts.imageGetJson!==!1?t.getJSON(this.opts.imageGetJson,t.proxy(function(e){t.each(e,t.proxy(function(e,i){var n=t('<img src="'+i.thumb+'" rel="'+i.image+'" />');t("#redactor_image_box").append(n),t(n).click(t.proxy(this.imageSetThumb,this))},this))},this)):t("#redactor_tabs a").eq(1).remove(),this.opts.imageUpload!==!1)this.isMobile()===!1&&0!==t("#redactor_file").size()&&t("#redactor_file").dragupload({url:this.opts.imageUpload,success:t.proxy(this.imageUploadCallback,this)}),this.uploadInit("redactor_file",{auto:!0,url:this.opts.imageUpload,success:t.proxy(this.imageUploadCallback,this)});else if(t(".redactor_tab").hide(),this.opts.imageGetJson===!1)t("#redactor_tabs").remove(),t("#redactor_tab3").show();else{var e=t("#redactor_tabs a");e.eq(0).remove(),e.eq(1).addClass("redactor_tabs_act"),t("#redactor_tab2").show()}t("#redactor_upload_btn").click(t.proxy(this.imageUploadCallbackLink,this))},this),i=t.proxy(function(){this.opts.imageUpload===!1&&this.opts.imageGetJson===!1&&t("#redactor_file_link").focus()},this);this.modalInit(RLANG.image,"image",570,e,i,!0)},imageSetThumb:function(e){this._imageSet('<img alt="" src="'+t(e.target).attr("rel")+'" />',!0)},imageUploadCallbackLink:function(){if(""!==t("#redactor_file_link").val()){var e='<img src="'+t("#redactor_file_link").val()+'" />';this._imageSet(e,!0)}else this.modalClose()},imageUploadCallback:function(t){this._imageSet(t)},_imageSet:function(e,i){var n="",o="";i!==!0?(o=t.parseJSON(e),n='<p><img src="'+o.filelink+'" /></p>'):n=e,this.focus(),t.browser.msie?(t(this.doc.getElementById("span"+this.spanid)).after(n).remove(),this.syncCode()):this.execCommand("inserthtml",n),i!==!0&&"function"==typeof this.opts.imageUploadCallback&&this.opts.imageUploadCallback(this,o),this.modalClose(),t(this.doc).find("img").load(t.proxy(function(){this.setAutoSize(!1)},this)),this.observeImages()},showLink:function(){var e=t.proxy(function(){var e=this.getSelection(),i="",n="";if(t.browser.msie){var o=this.getParentNode();if("A"===o.nodeName)this.insert_link_node=t(o),n=this.insert_link_node.text(),i=this.insert_link_node.attr("href");else{n=this.oldIE()?e.text:e.toString(),this.spanid=Math.floor(99999*Math.random());var r='<span id="span'+this.spanid+'">'+n+"</span>";""!==n&&(r='<span id="span'+this.spanid+'">'+n+"</span>"),this.execCommand("inserthtml",r)}}else e&&e.anchorNode&&"A"===e.anchorNode.parentNode.tagName?(i=e.anchorNode.parentNode.href,n=e.anchorNode.parentNode.text,""===e.toString()&&(this.insert_link_node=e.anchorNode.parentNode)):(n=e.toString(),i="");t(".redactor_link_text").val(n);var s=i.replace(top.location.href,"");0===i.search("mailto:")?(this.setModalTab(2),t("#redactor_tab_selected").val(2),t("#redactor_link_mailto").val(i.replace("mailto:",""))):0===s.search(/^#/gi)?(this.setModalTab(3),t("#redactor_tab_selected").val(3),t("#redactor_link_anchor").val(s.replace(/^#/gi,""))):t("#redactor_link_url").val(i),t("#redactor_insert_link_btn").click(t.proxy(this.insertLink,this))},this),i=function(){t("#redactor_link_url").focus()};this.modalInit(RLANG.link,"link",460,e,i)},insertLink:function(){var e=t("#redactor_tab_selected").val(),i="",n="";"1"===e?(i=t("#redactor_link_url").val(),n=t("#redactor_link_url_text").val()):"2"===e?(i="mailto:"+t("#redactor_link_mailto").val(),n=t("#redactor_link_mailto_text").val()):"3"===e&&(i="#"+t("#redactor_link_anchor").val(),n=t("#redactor_link_anchor_text").val()),this._insertLink('<a href="'+i+'">'+n+"</a> ",t.trim(n),i)},_insertLink:function(e,i,n){""!=i&&(this.insert_link_node?(t(this.insert_link_node).text(i),t(this.insert_link_node).attr("href",n),this.syncCode()):t.browser.msie?(t(this.doc.getElementById("span"+this.spanid)).replaceWith(e),this.syncCode()):this.execCommand("inserthtml",e)),this.modalClose()},showFile:function(){t.browser.msie&&this.markerIE();var e=t.proxy(function(){var e=this.getSelection(),i="";i=this.oldIE()?e.text:e.toString(),t("#redactor_filename").val(i),this.isMobile()===!1&&t("#redactor_file").dragupload({url:this.opts.fileUpload,success:t.proxy(function(t){this.fileUploadCallback(t)},this)}),this.uploadInit("redactor_file",{auto:!0,url:this.opts.fileUpload,success:t.proxy(function(t){this.fileUploadCallback(t)},this)})},this);this.modalInit(RLANG.file,"file",500,e)},fileUploadCallback:function(e){var i=t.parseJSON(e),n=t("#redactor_filename").val();""===n&&(n=i.filename);var o='<a href="'+i.filelink+'">'+n+"</a>";t.browser.webkit&&window.chrome&&(o+="&nbsp;"),t.browser.msie?(""!==n?t(this.doc.getElementById("span"+this.spanid)).replaceWith(o):t(this.doc.getElementById("span"+this.spanid)).after(o).remove(),this.syncCode()):this.execCommand("inserthtml",o),"function"==typeof this.opts.fileUploadCallback&&this.opts.fileUploadCallback(this,i),this.modalClose()},modalInit:function(e,i,n,o,r,s){if(0===t("#redactor_modal_overlay").size()&&(this.overlay=t('<div id="redactor_modal_overlay" style="display: none;"></div>'),t("body").prepend(this.overlay)),this.opts.overlay&&(t("#redactor_modal_overlay").show(),t("#redactor_modal_overlay").click(t.proxy(this.modalClose,this))),0===t("#redactor_modal").size()&&(this.modal=t('<div id="redactor_modal" style="display: none;"><div id="redactor_modal_close">&times;</div><div id="redactor_modal_header"></div><div id="redactor_modal_inner"></div></div>'),t("body").append(this.modal)),t("#redactor_modal_close").click(t.proxy(this.modalClose,this)),this.hdlModalClose=t.proxy(function(t){27===t.keyCode&&this.modalClose()},this),t(document).keyup(this.hdlModalClose),t(this.doc).keyup(this.hdlModalClose),t("#redactor_modal_inner").html(this.opts["modal_"+i]),t("#redactor_modal_header").html(e),0!==t("#redactor_tabs").size()){var a=this;t("#redactor_tabs a").each(function(e,i){e++,t(i).click(function(){if(t("#redactor_tabs a").removeClass("redactor_tabs_act"),t(this).addClass("redactor_tabs_act"),t(".redactor_tab").hide(),t("#redactor_tab"+e).show(),t("#redactor_tab_selected").val(e),a.isMobile()===!1){var i=t("#redactor_modal").outerHeight();t("#redactor_modal").css("margin-top","-"+(i+10)/2+"px")}})})}t("#redactor_btn_modal_close").click(t.proxy(this.modalClose,this)),"function"==typeof o&&o();var l=t("#redactor_modal").outerHeight();this.isMobile()===!1?t("#redactor_modal").css({position:"fixed",top:"50%",left:"50%",width:n+"px",height:"auto",marginTop:"-"+(l+10)/2+"px",marginLeft:"-"+(n+60)/2+"px"}).fadeIn("fast"):(t("#redactor_modal").css({position:"absolute",width:"96%",height:"auto",top:"20px",left:"0",marginTop:"0px",marginLeft:"2%"}).show(),this.scrolltop()),"function"==typeof r&&r(),s===!0&&t("#redactor_image_box").height(300).css("overflow","auto")},modalClose:function(){t("#redactor_modal_close").unbind("click",this.modalClose),t("#redactor_modal").fadeOut("fast",t.proxy(function(){t("#redactor_modal_inner").html(""),this.opts.overlay&&(t("#redactor_modal_overlay").hide(),t("#redactor_modal_overlay").unbind("click",this.modalClose)),t(document).unbind("keyup",this.hdlModalClose),t(this.doc).unbind("keyup",this.hdlModalClose)},this))},setModalTab:function(e){t(".redactor_tab").hide();var i=t("#redactor_tabs a");i.removeClass("redactor_tabs_act"),i.eq(e-1).addClass("redactor_tabs_act"),t("#redactor_tab"+e).show()},uploadInit:function(e,i){this.uploadOptions={url:!1,success:!1,start:!1,trigger:!1,auto:!1,input:!1},t.extend(this.uploadOptions,i),0!==t("#"+e).size()&&"INPUT"===t("#"+e).get(0).tagName?(this.uploadOptions.input=t("#"+e),this.element=t(t("#"+e).get(0).form)):this.element=t("#"+e),this.element_action=this.element.attr("action"),this.uploadOptions.auto?t(this.uploadOptions.input).change(t.proxy(function(){this.element.submit(function(){return!1}),this.uploadSubmit()},this)):this.uploadOptions.trigger&&t("#"+this.uploadOptions.trigger).click(t.proxy(this.uploadSubmit,this))},uploadSubmit:function(){this.uploadForm(this.element,this.uploadFrame())},uploadFrame:function(){this.id="f"+Math.floor(99999*Math.random());var e=document.createElement("div"),i='<iframe style="display:none" src="about:blank" id="'+this.id+'" name="'+this.id+'"></iframe>';return e.innerHTML=i,document.body.appendChild(e),this.uploadOptions.start&&this.uploadOptions.start(),t("#"+this.id).load(t.proxy(this.uploadLoaded,this)),this.id},uploadForm:function(e,i){if(this.uploadOptions.input){var n="redactorUploadForm"+this.id,o="redactorUploadFile"+this.id;this.form=t('<form  action="'+this.uploadOptions.url+'" method="POST" target="'+i+'" name="'+n+'" id="'+n+'" enctype="multipart/form-data"></form>');var r=this.uploadOptions.input,s=t(r).clone();t(r).attr("id",o),t(r).before(s),t(r).appendTo(this.form),t(this.form).css("position","absolute"),t(this.form).css("top","-2000px"),t(this.form).css("left","-2000px"),t(this.form).appendTo("body"),this.form.submit()}else e.attr("target",i),e.attr("method","POST"),e.attr("enctype","multipart/form-data"),e.attr("action",this.uploadOptions.url),this.element.submit()},uploadLoaded:function(){var e,i=t("#"+this.id);if(e=i.contentDocument?i.contentDocument:i.contentWindow?i.contentWindow.document:window.frames[this.id].document,"about:blank"===e.location.href)return!0;if(this.uploadOptions.success){var n=e.body.innerHTML,o=n.match(/\{.*\}/)[0];this.uploadOptions.success(o)}this.element.attr("action",this.element_action),this.element.attr("target","")},markerIE:function(){this.spanid=Math.floor(99999*Math.random()),this.execCommand("inserthtml",'<span id="span'+this.spanid+'"></span>')},oldIE:function(){return t.browser.msie&&parseInt(t.browser.version,10)<9?!0:!1},outerHTML:function(e){return t("<p>").append(t(e).eq(0).clone()).html()},normalize:function(t){return parseInt(t.replace("px",""),10)},isMobile:function(){return/(iPhone|iPod|iPad|BlackBerry|Android)/.test(navigator.userAgent)?!0:!1},scrolltop:function(){t("html,body").animate({scrollTop:0},500)}},t.fn.getDoc=function(){return t(this.data("redactor").doc)},t.fn.getFrame=function(){return this.data("redactor").$frame},t.fn.getEditor=function(){return this.data("redactor").$editor},t.fn.getCode=function(){return this.data("redactor").getCode()},t.fn.getText=function(){return this.data("redactor").$editor.text()},t.fn.setCode=function(t){this.data("redactor").setCode(t)},t.fn.insertHtml=function(t){this.data("redactor").insertHtml(t)},t.fn.destroyEditor=function(){this.data("redactor").destroy(),this.removeData("redactor")},t.fn.setFocus=function(){this.data("redactor").focus()},t.fn.execCommand=function(t,e){this.data("redactor").execCommand(t,e)}}(jQuery),/*
	Plugin Drag and drop Upload v1.0.1
	http://imperavi.com/ 
	Copyright 2012, Imperavi Ltd.
*/
function(t){"use strict";function e(e,i){this.opts=t.extend({url:!1,success:!1,preview:!1,text:RLANG.drop_file_here,atext:RLANG.or_choose},i),this.$el=t(e)}t.fn.dragupload=function(t){return this.each(function(){var i=new e(this,t);i.init()})},e.prototype={init:function(){if(!t.browser.opera&&!t.browser.msie){this.droparea=t('<div class="redactor_droparea"></div>'),this.dropareabox=t('<div class="redactor_dropareabox">'+this.opts.text+"</div>"),this.dropalternative=t('<div class="redactor_dropalternative">'+this.opts.atext+"</div>"),this.droparea.append(this.dropareabox),this.$el.before(this.droparea),this.$el.before(this.dropalternative),this.dropareabox.bind("dragover",t.proxy(function(){return this.ondrag()},this)),this.dropareabox.bind("dragleave",t.proxy(function(){return this.ondragleave()},this));var e=t.proxy(function(t){var e=parseInt(100*(t.loaded/t.total),10);this.dropareabox.text("Loading "+e+"%")},this),i=jQuery.ajaxSettings.xhr();i.upload&&i.upload.addEventListener("progress",e,!1);var n=function(){return i};this.dropareabox.get(0).ondrop=t.proxy(function(e){e.preventDefault(),this.dropareabox.removeClass("hover").addClass("drop");var i=e.dataTransfer.files[0],o=new FormData;o.append("file",i),t.ajax({dataType:"html",url:this.opts.url,data:o,xhr:n,cache:!1,contentType:!1,processData:!1,type:"POST",success:t.proxy(function(t){this.opts.success!==!1&&this.opts.success(t),this.opts.preview===!0&&this.dropareabox.html(t)},this)})},this)}},ondrag:function(){return this.dropareabox.addClass("hover"),!1},ondragleave:function(){return this.dropareabox.removeClass("hover"),!1}}}(jQuery),function(t){"use strict";var e=/(^|&lt;|\s)(www\..+?\..+?)(\s|&gt;|$)/g,i=/(^|&lt;|\s)(((https?|ftp):\/\/|mailto:).+?)(\s|&gt;|$)/g,n=function(){for(var o=this.childNodes,r=o.length;r--;){var s=o[r];if(3===s.nodeType){var a=s.nodeValue;a&&(a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(e,'$1<a href="http://$2">$2</a>$3').replace(i,'$1<a href="$2">$2</a>$5'),t(s).after(a).remove())}else 1!==s.nodeType||/^(a|button|textarea)$/i.test(s.tagName)||n.call(s)}};t.fn.linkify=function(){this.each(n)}}(jQuery),function(){window.fbAsyncInit=function(){var t,e,i,n,o;return t=$("meta[property=fb\\:app_id]").prop("content"),FB.init({appId:t,cookie:!0}),e=function(){return $.get("/sessions/status",function(t){return $(".account").html(t)})},n=function(t){var e,i,n;return t.id?($("#confirmation-number").text("Confirmation #: "+(t.promo_code?t.promo_code.code:"N/A")),e=$("#all-steps-cont").css("left"),i=e.split("px")[0]-1160,n=$(this).parents(".step"),slideLeft(i,n,$("#step3")),n.addClass("transparent")):void 0},o=function(t){return $.get("/events/"+t.event.id+"/status",function(t){var e,i,n;return $("#step3 .vote").html(t),e=$("#all-steps-cont").css("left"),i=e.split("px")[0]-1160,n=$(this).parents(".step"),slideLeft(i,n,$("#step3")),n.addClass("transparent")})},i={"default":function(t){return t.authResponse?$.ajax("/auth/facebook/callback",function(){return e()}):void 0},signup_top:function(t){return t.authResponse?$.ajax("/auth/facebook/callback",{dataType:"json",success:function(t){return t.confirm?$.ajax("/users/confirm?remote=true&pass_format=json",{success:function(t){return $(".signup-form-top").html(t)}}):e()}}):void 0},attend:function(t){var i=this;return t.authResponse?$.ajax("/auth/facebook/callback?return_to=/events/"+$(this).data("event-id")+"/join.json",{success:function(t){return e(),t.confirm?$.ajax("/users/confirm?remote=1&pass_format=json",{success:function(t){return $(".signup-form").html(t),$("form.confirm-form").bind("ajax:success",function(t,e){return e.errors?void 0:$.ajax("/events/"+$(i).data("event-id")+"/join.json",{success:function(t){return t.event["free?"]===!0?o(t):n(t)}})})}}):t.id?t.event["free?"]===!0?o(t):n(t):void 0}}):void 0},like:function(t){var i=this;return t.authResponse?$.ajax({url:"/auth/facebook/callback",dataType:"json",success:function(){return e(),$.ajax({url:""+$(i).data("like-path")+".js",dataType:"script"})}}):void 0},static_login:function(t){return t.authResponse?window.location="/auth/facebook/callback?return_to="+window.location:void 0}},$(document).on("click",".facebook-login-link, body.logged-out .like, a.add-fb-auth",function(t){var e;return e=$(this).data("auth-type")||"default",FB.login(i[e].bind(this),{scope:"email,offline_access,publish_actions,publish_stream"}),t.preventDefault(),!0})}}.call(this),function(){window.userLoggedIn=function(){return checkLoginStatus(),$(".logged-out-page").removeClass("logged-out-page").addClass("logged-in-page")},window.checkLoginStatus=function(){return $.get("/sessions/status",function(t){return $("li.log-in").html(t),$(".dropdown").dropDownMenu()})},jQuery(function(){var t,e;return t=function(){return $.get("/sessions/status",function(t){return $(".account").html(t)})},e=function(t){return $.get("/events/"+t.event.id+"/status",function(t){var e,i,n;return $("#step3 .vote").html(t),e=$("#all-steps-cont").css("left"),i=e.split("px")[0]-1160,n=$(this).parents(".step"),slideLeft(i,n,$("#step3")),n.addClass("transparent")})},$(".signup-form form").submit(function(){var t;return $(".errored-field").removeClass("errored-field"),t=!0,$(this).find("input[data-required]").each(function(){return""===$(this).val()?(t=!1,$(this).addClass("errored-field")):void 0}),t}),$(".signup-form-top form").bind("ajax:success",function(e,i){var n,o,r;return i.user?t():i.errors?(n=function(){var t,e;t=i.errors,e=[];for(o in t)r=t[o],$(".signup-form-attend form input#user_"+o).addClass("errored-field"),e.push(""+o+" "+r[0]);return e}(),alert("No se ha podido inscribirse: "+n.join(", ")+".")):void 0}),$(".signup-form-attend form").bind("ajax:success",function(i,n){var o,r,s;return n.user?(t(),$.ajax("/events/"+$(".signup-form-attend form").data("event-id")+"/join.json",{success:function(t){var i,n,o;return t.id?t.event["free?"]===!0?e(t):($("#confirmation-number").text("Confirmation #: "+(t.promo_code?t.promo_code.code:"N/A")),i=$("#all-steps-cont").css("left"),n=i.split("px")[0]-1160,o=$(this).parents(".step"),slideLeft(n,o,$("#step3")),o.addClass("transparent")):void 0}})):n.errors?(o=function(){var t,e;t=n.errors,e=[];for(r in t)s=t[r],$(".signup-form-attend form input#user_"+r).addClass("errored-field"),e.push(""+r+" "+s[0]);return e}(),alert("No se ha podido inscribirse: "+o.join(", ")+".")):void 0})})}.call(this),/*! Video.js v4.4.0 Copyright 2014 Brightcove, Inc. https://github.com/videojs/video.js/blob/master/LICENSE */
function(){function m(){return function(){}}function p(t){return function(){return this[t]}}function r(t){return function(){return t}}function u(t,e,i){if("string"==typeof t){if(0===t.indexOf("#")&&(t=t.slice(1)),u.va[t])return u.va[t];t=u.u(t)}if(!t||!t.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return t.player||new u.Player(t,e,i)}function D(t){t.t("vjs-lock-showing")}function E(t,e,i,n){return i!==b?(t.a.style[e]=-1!==(""+i).indexOf("%")||-1!==(""+i).indexOf("px")?i:"auto"===i?"":i+"px",n||t.j("resize"),t):t.a?(i=t.a.style[e],n=i.indexOf("px"),-1!==n?parseInt(i.slice(0,n),10):parseInt(t.a["offset"+u.Y(e)],10)):0}function F(t,e){var i,n,o,r;return i=t.a,n=u.bd(i),r=o=i.offsetWidth,i=t.handle,t.g.Dd?(r=n.top,n=e.changedTouches?e.changedTouches[0].pageY:e.pageY,i&&(i=i.u().offsetHeight,r+=i/2,o-=i),Math.max(0,Math.min(1,(r-n+o)/o))):(o=n.left,n=e.changedTouches?e.changedTouches[0].pageX:e.pageX,i&&(i=i.u().offsetWidth,o+=i/2,r-=i),Math.max(0,Math.min(1,(n-o)/r)))}function ca(t,e){t.X(e),e.d("click",u.bind(t,function(){D(this)}))}function H(t){t.na=f,t.ua.n("vjs-lock-showing"),t.a.setAttribute("aria-pressed",f),t.K&&0<t.K.length&&t.K[0].u().focus()}function G(t){t.na=l,D(t.ua),t.a.setAttribute("aria-pressed",l)}function da(t){var e={sources:[],tracks:[]};if(u.k.B(e,u.wb(t)),t.hasChildNodes()){var i,n,o,r;for(t=t.childNodes,o=0,r=t.length;r>o;o++)i=t[o],n=i.nodeName.toLowerCase(),"source"===n?e.sources.push(u.wb(i)):"track"===n&&e.tracks.push(u.wb(i))}return e}function I(t,e,i){t.i&&(t.$=l,t.i.dispose(),t.Db&&(t.Db=l,clearInterval(t.Sa)),t.Eb&&J(t),t.i=l),"Html5"!==e&&t.L&&(u.l.fc(t.L),t.L=h),t.xa=e,t.$=l;var n=u.k.B({source:i,parentEl:t.a},t.g[e.toLowerCase()]);i&&(i.src==t.v.src&&0<t.v.currentTime&&(n.startTime=t.v.currentTime),t.v.src=i.src),t.i=new window.videojs[e](t,n),t.i.H(function(){if(this.c.Wa(),!this.m.progressEvents){var t=this.c;t.Db=f,t.Sa=setInterval(u.bind(t,function(){this.v.mb<this.buffered().end(0)?this.j("progress"):1==this.bufferedPercent()&&(clearInterval(this.Sa),this.j("progress"))}),500),t.i.T("progress",function(){this.m.progressEvents=f;var t=this.c;t.Db=l,clearInterval(t.Sa)})}this.m.timeupdateEvents||(t=this.c,t.Eb=f,t.d("play",t.Ac),t.d("pause",t.wa),t.i.T("timeupdate",function(){this.m.timeupdateEvents=f,J(this.c)}))})}function J(t){t.Eb=l,t.wa(),t.o("play",t.Ac),t.o("pause",t.wa)}function L(t,e,i){if(t.i&&!t.i.$)t.i.H(function(){this[e](i)});else try{t.i[e](i)}catch(n){throw u.log(n),n}}function K(t,e){if(t.i&&t.i.$)try{return t.i[e]()}catch(i){throw t.i[e]===b?u.log("Video.js: "+e+" method not defined for "+t.xa+" playback technology.",i):"TypeError"==i.name?(u.log("Video.js: "+e+" unavailable on "+t.xa+" playback technology element.",i),t.i.$=l):u.log(i),i}}function M(t){t.ed=l,u.o(document,"keydown",t.ic),document.documentElement.style.overflow=t.Yc,u.t(document.body,"vjs-full-window"),t.j("exitFullWindow")}function ea(){var t=u.media.Xa[i];return function(){throw Error('The "'+t+"\" method is not available on the playback technology's API")}}function fa(){var t=S[U],e=t.charAt(0).toUpperCase()+t.slice(1);R["set"+e]=function(e){return this.a.vjs_setProperty(t,e)}}function V(t){R[t]=function(){return this.a.vjs_getProperty(t)}}function W(t,e,i){for(var n,o,r=t.ya,s=0,a=r.length;a>s;s++)n=r[s],n.id()===e?(n.show(),o=n):i&&n.G()==i&&0<n.mode()&&n.disable();(e=o?o.G():i?i:l)&&t.j(e+"trackchange")}function X(t){0===t.ha&&t.load(),0===t.ga&&(t.c.d("timeupdate",u.bind(t,t.update,t.Q)),t.c.d("ended",u.bind(t,t.reset,t.Q)),("captions"===t.A||"subtitles"===t.A)&&t.c.fa("textTrackDisplay").X(t))}function Y(t){var e=t.split(":");t=0;var i,n,o;return 3==e.length?(i=e[0],n=e[1],e=e[2]):(i=0,n=e[0],e=e[1]),e=e.split(/\s+/),e=e.splice(0,1)[0],e=e.split(/\.|,/),o=parseFloat(e[1]),e=e[0],t+=3600*parseFloat(i),t+=60*parseFloat(n),t+=parseFloat(e),o&&(t+=o/1e3),t}function $(t,e){var i=t.split("."),n=ga;!(i[0]in n)&&n.execScript&&n.execScript("var "+i[0]);for(var o;i.length&&(o=i.shift());)i.length||e===b?n=n[o]?n[o]:n[o]={}:n[o]=e}var b=void 0,f=!0,h=null,l=!1,t;document.createElement("video"),document.createElement("audio"),document.createElement("track");var videojs=u;window.Wd=window.Xd=u,u.Qb="4.4",u.Dc="https:"==document.location.protocol?"https://":"http://",u.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}},notSupportedMessage:'Sorry, no compatible source and playback technology were found for this video. Try using another browser like <a href="http://bit.ly/ccMUEC">Chrome</a> or download the latest <a href="http://adobe.ly/mwfN1">Adobe Flash Player</a>.'},"GENERATED_CDN_VSN"!==u.Qb&&(videojs.options.flash.swf=u.Dc+"vjs.zencdn.net/"+u.Qb+"/video-js.swf"),u.va={},"function"==typeof define&&define.amd?define([],function(){return videojs}):"object"==typeof exports&&"object"==typeof module&&(module.Ld=videojs),u.ka=u.CoreObject=m(),u.ka.extend=function(t){var e,i;t=t||{},e=t.init||t.h||this.prototype.init||this.prototype.h||m(),i=function(){e.apply(this,arguments)},i.prototype=u.k.create(this.prototype),i.prototype.constructor=i,i.extend=u.ka.extend,i.create=u.ka.create;for(var n in t)t.hasOwnProperty(n)&&(i.prototype[n]=t[n]);return i},u.ka.create=function(){var t=u.k.create(this.prototype);return this.apply(t,arguments),t},u.d=function(t,e,i){var n=u.getData(t);n.z||(n.z={}),n.z[e]||(n.z[e]=[]),i.s||(i.s=u.s++),n.z[e].push(i),n.U||(n.disabled=l,n.U=function(e){if(!n.disabled){e=u.hc(e);var i=n.z[e.type];if(i)for(var i=i.slice(0),o=0,r=i.length;r>o&&!e.oc();o++)i[o].call(t,e)}}),1==n.z[e].length&&(document.addEventListener?t.addEventListener(e,n.U,l):document.attachEvent&&t.attachEvent("on"+e,n.U))},u.o=function(t,e,i){if(u.lc(t)){var n=u.getData(t);if(n.z)if(e){var o=n.z[e];if(o){if(i){if(i.s)for(n=0;n<o.length;n++)o[n].s===i.s&&o.splice(n--,1)}else n.z[e]=[];u.dc(t,e)}}else for(o in n.z)e=o,n.z[e]=[],u.dc(t,e)}},u.dc=function(t,e){var i=u.getData(t);0===i.z[e].length&&(delete i.z[e],document.removeEventListener?t.removeEventListener(e,i.U,l):document.detachEvent&&t.detachEvent("on"+e,i.U)),u.Ab(i.z)&&(delete i.z,delete i.U,delete i.disabled),u.Ab(i)&&u.sc(t)},u.hc=function(t){function e(){return f}function i(){return l}if(!t||!t.Bb){var n=t||window.event;t={};for(var o in n)"layerX"!==o&&"layerY"!==o&&"keyboardEvent.keyLocation"!==o&&("returnValue"==o&&n.preventDefault||(t[o]=n[o]));if(t.target||(t.target=t.srcElement||document),t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement,t.preventDefault=function(){n.preventDefault&&n.preventDefault(),t.returnValue=l,t.zb=e},t.zb=i,t.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),t.cancelBubble=f,t.Bb=e},t.Bb=i,t.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),t.oc=e,t.stopPropagation()},t.oc=i,t.clientX!=h){o=document.documentElement;var r=document.body;t.pageX=t.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),t.pageY=t.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!=h&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t},u.j=function(t,e){var i=u.lc(t)?u.getData(t):{},n=t.parentNode||t.ownerDocument;return"string"==typeof e&&(e={type:e,target:t}),e=u.hc(e),i.U&&i.U.call(t,e),n&&!e.Bb()&&e.bubbles!==l?u.j(n,e):n||e.zb()||(i=u.getData(e.target),!e.target[e.type])||(i.disabled=f,"function"==typeof e.target[e.type]&&e.target[e.type](),i.disabled=l),!e.zb()},u.T=function(t,e,i){function n(){u.o(t,e,n),i.apply(this,arguments)}n.s=i.s=i.s||u.s++,u.d(t,e,n)};var v=Object.prototype.hasOwnProperty;u.e=function(t,e){var i,n;i=document.createElement(t||"div");for(n in e)v.call(e,n)&&(-1!==n.indexOf("aria-")||"role"==n?i.setAttribute(n,e[n]):i[n]=e[n]);return i},u.Y=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},u.k={},u.k.create=Object.create||function(t){function e(){}return e.prototype=t,new e},u.k.ra=function(t,e,i){for(var n in t)v.call(t,n)&&e.call(i||this,n,t[n])},u.k.B=function(t,e){if(!e)return t;for(var i in e)v.call(e,i)&&(t[i]=e[i]);return t},u.k.Vc=function(t,e){var i,n,o;t=u.k.copy(t);for(i in e)v.call(e,i)&&(n=t[i],o=e[i],t[i]=u.k.Ma(n)&&u.k.Ma(o)?u.k.Vc(n,o):e[i]);return t},u.k.copy=function(t){return u.k.B({},t)},u.k.Ma=function(t){return!!t&&"object"==typeof t&&"[object Object]"===t.toString()&&t.constructor===Object},u.bind=function(t,e,i){function n(){return e.apply(t,arguments)}return e.s||(e.s=u.s++),n.s=i?i+"_"+e.s:e.s,n},u.pa={},u.s=1,u.expando="vdata"+(new Date).getTime(),u.getData=function(t){var e=t[u.expando];return e||(e=t[u.expando]=u.s++,u.pa[e]={}),u.pa[e]},u.lc=function(t){return t=t[u.expando],!(!t||u.Ab(u.pa[t]))},u.sc=function(t){var e=t[u.expando];if(e){delete u.pa[e];try{delete t[u.expando]}catch(i){t.removeAttribute?t.removeAttribute(u.expando):t[u.expando]=h}}},u.Ab=function(t){for(var e in t)if(t[e]!==h)return l;return f},u.n=function(t,e){-1==(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className=""===t.className?e:t.className+" "+e)},u.t=function(t,e){var i,n;if(-1!=t.className.indexOf(e)){for(i=t.className.split(" "),n=i.length-1;n>=0;n--)i[n]===e&&i.splice(n,1);t.className=i.join(" ")}},u.ea=u.e("video"),u.I=navigator.userAgent,u.Jc=/iPhone/i.test(u.I),u.Ic=/iPad/i.test(u.I),u.Kc=/iPod/i.test(u.I),u.Hc=u.Jc||u.Ic||u.Kc;var aa=u,w,x=u.I.match(/OS (\d+)_/i);w=x&&x[1]?x[1]:b,aa.Hd=w,u.Gc=/Android/i.test(u.I);var ba=u,y,z=u.I.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),A,B;z?(A=z[1]&&parseFloat(z[1]),B=z[2]&&parseFloat(z[2]),y=A&&B?parseFloat(z[1]+"."+z[2]):A?A:h):y=h,ba.Ec=y,u.Lc=u.Gc&&/webkit/i.test(u.I)&&2.3>u.Ec,u.Tb=/Firefox/i.test(u.I),u.Id=/Chrome/i.test(u.I),u.Zb=!!("ontouchstart"in window||window.Fc&&document instanceof window.Fc),u.wb=function(t){var e,i,n,o;if(e={},t&&t.attributes&&0<t.attributes.length){i=t.attributes;for(var r=i.length-1;r>=0;r--)n=i[r].name,o=i[r].value,("boolean"==typeof t[n]||-1!==",autoplay,controls,loop,muted,default,".indexOf(","+n+","))&&(o=o!==h?f:l),e[n]=o}return e},u.Nd=function(t,e){var i="";return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(i=t["client"+e.substr(0,1).toUpperCase()+e.substr(1)]+"px"),i},u.yb=function(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},u.Nb={},u.u=function(t){return 0===t.indexOf("#")&&(t=t.slice(1)),document.getElementById(t)},u.ta=function(t,e){e=e||t;var i=Math.floor(t%60),n=Math.floor(t/60%60),o=Math.floor(t/3600),r=Math.floor(e/60%60),s=Math.floor(e/3600);return(isNaN(t)||1/0===t)&&(o=n=i="-"),o=o>0||s>0?o+":":"",o+(((o||r>=10)&&10>n?"0"+n:n)+":")+(10>i?"0"+i:i)},u.Rc=function(){document.body.focus(),document.onselectstart=r(l)},u.Cd=function(){document.onselectstart=r(f)},u.trim=function(t){return(t+"").replace(/^\s+|\s+$/g,"")},u.round=function(t,e){return e||(e=0),Math.round(t*Math.pow(10,e))/Math.pow(10,e)},u.sb=function(t,e){return{length:1,start:function(){return t},end:function(){return e}}},u.get=function(t,e,i){var n,o;"undefined"==typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(i){}throw Error("This browser does not support XMLHttpRequest.")}),o=new XMLHttpRequest;try{o.open("GET",t)}catch(r){i(r)}n=0===t.indexOf("file:")||0===window.location.href.indexOf("file:")&&-1===t.indexOf("http"),o.onreadystatechange=function(){4===o.readyState&&(200===o.status||n&&0===o.status?e(o.responseText):i&&i())};try{o.send()}catch(s){i&&i(s)}},u.ud=function(t){try{var e=window.localStorage||l;e&&(e.volume=t)}catch(i){22==i.code||1014==i.code?u.log("LocalStorage Full (VideoJS)",i):18==i.code?u.log("LocalStorage not allowed (VideoJS)",i):u.log("LocalStorage Error (VideoJS)",i)}},u.jc=function(t){return t.match(/^https?:\/\//)||(t=u.e("div",{innerHTML:'<a href="'+t+'">x</a>'}).firstChild.href),t},u.log=function(){u.log.history=u.log.history||[],u.log.history.push(arguments),window.console&&window.console.log(Array.prototype.slice.call(arguments))},u.bd=function(t){var e,i;return t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),e?(t=document.documentElement,i=document.body,{left:e.left+(window.pageXOffset||i.scrollLeft)-(t.clientLeft||i.clientLeft||0),top:e.top+(window.pageYOffset||i.scrollTop)-(t.clientTop||i.clientTop||0)}):{left:0,top:0}},u.ja={},u.ja.Fb=function(t,e){var i,n,o;t=u.k.copy(t);for(i in e)e.hasOwnProperty(i)&&(n=t[i],o=e[i],t[i]=u.k.Ma(n)&&u.k.Ma(o)?u.ja.Fb(n,o):e[i]);return t},u.b=u.ka.extend({h:function(t,e,i){if(this.c=t,this.g=u.k.copy(this.g),e=this.options(e),this.Q=e.id||(e.el&&e.el.id?e.el.id:t.id()+"_component_"+u.s++),this.jd=e.name||h,this.a=e.el||this.e(),this.J=[],this.Ia={},this.Ja={},this.mc(),this.H(i),e.tc!==l){var n,o;n=u.bind(this.C(),this.C().reportUserActivity),this.d("touchstart",function(){n(),clearInterval(o),o=setInterval(n,250)}),t=function(){n(),clearInterval(o)},this.d("touchmove",n),this.d("touchend",t),this.d("touchcancel",t)}}}),t=u.b.prototype,t.dispose=function(){if(this.j({type:"dispose",bubbles:l}),this.J)for(var t=this.J.length-1;t>=0;t--)this.J[t].dispose&&this.J[t].dispose();this.Ja=this.Ia=this.J=h,this.o(),this.a.parentNode&&this.a.parentNode.removeChild(this.a),u.sc(this.a),this.a=h},t.c=f,t.C=p("c"),t.options=function(t){return t===b?this.g:this.g=u.ja.Fb(this.g,t)},t.e=function(t,e){return u.e(t,e)},t.u=p("a"),t.Ka=function(){return this.F||this.a},t.id=p("Q"),t.name=p("jd"),t.children=p("J"),t.dd=function(t){return this.Ia[t]},t.fa=function(t){return this.Ja[t]},t.X=function(t,e){var i,n;return"string"==typeof t?(n=t,e=e||{},i=e.componentClass||u.Y(n),e.name=n,i=new window.videojs[i](this.c||this,e)):i=t,this.J.push(i),"function"==typeof i.id&&(this.Ia[i.id()]=i),(n=n||i.name&&i.name())&&(this.Ja[n]=i),"function"==typeof i.el&&i.el()&&this.Ka().appendChild(i.el()),i},t.removeChild=function(t){if("string"==typeof t&&(t=this.fa(t)),t&&this.J){for(var e=l,i=this.J.length-1;i>=0;i--)if(this.J[i]===t){e=f,this.J.splice(i,1);break}e&&(this.Ia[t.id]=h,this.Ja[t.name]=h,(e=t.u())&&e.parentNode===this.Ka()&&this.Ka().removeChild(t.u()))}},t.mc=function(){var t=this.g;if(t&&t.children){var e=this;u.k.ra(t.children,function(t,i){i!==l&&!i.loadEvent&&(e[t]=e.X(t,i))})}},t.P=r(""),t.d=function(t,e){return u.d(this.a,t,u.bind(this,e)),this},t.o=function(t,e){return u.o(this.a,t,e),this},t.T=function(t,e){return u.T(this.a,t,u.bind(this,e)),this},t.j=function(t,e){return u.j(this.a,t,e),this},t.H=function(t){return t&&(this.$?t.call(this):(this.Ta===b&&(this.Ta=[]),this.Ta.push(t))),this},t.Wa=function(){this.$=f;var t=this.Ta;if(t&&0<t.length){for(var e=0,i=t.length;i>e;e++)t[e].call(this);this.Ta=[],this.j("ready")}},t.n=function(t){return u.n(this.a,t),this},t.t=function(t){return u.t(this.a,t),this},t.show=function(){return this.a.style.display="block",this},t.D=function(){return this.a.style.display="none",this},t.disable=function(){this.D(),this.show=m()},t.width=function(t,e){return E(this,"width",t,e)},t.height=function(t,e){return E(this,"height",t,e)},t.Xc=function(t,e){return this.width(t,f).height(e)},u.q=u.b.extend({h:function(t,e){u.b.call(this,t,e);var i=l;this.d("touchstart",function(t){t.preventDefault(),i=f}),this.d("touchmove",function(){i=l});var n=this;this.d("touchend",function(t){i&&n.p(t),t.preventDefault()}),this.d("click",this.p),this.d("focus",this.Pa),this.d("blur",this.Oa)}}),t=u.q.prototype,t.e=function(t,e){return e=u.k.B({className:this.P(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+(this.oa||"Need Text")+"</span></div>",role:"button","aria-live":"polite",tabIndex:0},e),u.b.prototype.e.call(this,t,e)},t.P=function(){return"vjs-control "+u.b.prototype.P.call(this)},t.p=m(),t.Pa=function(){u.d(document,"keyup",u.bind(this,this.aa))},t.aa=function(t){(32==t.which||13==t.which)&&(t.preventDefault(),this.p())},t.Oa=function(){u.o(document,"keyup",u.bind(this,this.aa))},u.N=u.b.extend({h:function(t,e){u.b.call(this,t,e),this.Qc=this.fa(this.g.barName),this.handle=this.fa(this.g.handleName),t.d(this.qc,u.bind(this,this.update)),this.d("mousedown",this.Qa),this.d("touchstart",this.Qa),this.d("focus",this.Pa),this.d("blur",this.Oa),this.d("click",this.p),this.c.d("controlsvisible",u.bind(this,this.update)),t.H(u.bind(this,this.update)),this.O={}}}),t=u.N.prototype,t.e=function(t,e){return e=e||{},e.className+=" vjs-slider",e=u.k.B({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},e),u.b.prototype.e.call(this,t,e)},t.Qa=function(t){t.preventDefault(),u.Rc(),this.O.move=u.bind(this,this.Hb),this.O.end=u.bind(this,this.Ib),u.d(document,"mousemove",this.O.move),u.d(document,"mouseup",this.O.end),u.d(document,"touchmove",this.O.move),u.d(document,"touchend",this.O.end),this.Hb(t)},t.Ib=function(){u.Cd(),u.o(document,"mousemove",this.O.move,l),u.o(document,"mouseup",this.O.end,l),u.o(document,"touchmove",this.O.move,l),u.o(document,"touchend",this.O.end,l),this.update()},t.update=function(){if(this.a){var t,e=this.xb(),i=this.handle,n=this.Qc;if(isNaN(e)&&(e=0),t=e,i){t=this.a.offsetWidth;var o=i.u().offsetWidth;t=o?o/t:0,e*=1-t,t=e+t/2,i.u().style.left=u.round(100*e,2)+"%"}n.u().style.width=u.round(100*t,2)+"%"}},t.Pa=function(){u.d(document,"keyup",u.bind(this,this.aa))},t.aa=function(t){37==t.which?(t.preventDefault(),this.wc()):39==t.which&&(t.preventDefault(),this.xc())},t.Oa=function(){u.o(document,"keyup",u.bind(this,this.aa))},t.p=function(t){t.stopImmediatePropagation(),t.preventDefault()},u.V=u.b.extend(),u.V.prototype.defaultValue=0,u.V.prototype.e=function(t,e){return e=e||{},e.className+=" vjs-slider-handle",e=u.k.B({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},e),u.b.prototype.e.call(this,"div",e)},u.la=u.b.extend(),u.la.prototype.e=function(){var t=this.options().Tc||"ul";return this.F=u.e(t,{className:"vjs-menu-content"}),t=u.b.prototype.e.call(this,"div",{append:this.F,className:"vjs-menu"}),t.appendChild(this.F),u.d(t,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),t},u.M=u.q.extend({h:function(t,e){u.q.call(this,t,e),this.selected(e.selected)}}),u.M.prototype.e=function(t,e){return u.q.prototype.e.call(this,"li",u.k.B({className:"vjs-menu-item",innerHTML:this.g.label},e))},u.M.prototype.p=function(){this.selected(f)},u.M.prototype.selected=function(t){t?(this.n("vjs-selected"),this.a.setAttribute("aria-selected",f)):(this.t("vjs-selected"),this.a.setAttribute("aria-selected",l))},u.R=u.q.extend({h:function(t,e){u.q.call(this,t,e),this.ua=this.La(),this.X(this.ua),this.K&&0===this.K.length&&this.D(),this.d("keyup",this.aa),this.a.setAttribute("aria-haspopup",f),this.a.setAttribute("role","button")}}),t=u.R.prototype,t.na=l,t.La=function(){var t=new u.la(this.c);if(this.options().title&&t.u().appendChild(u.e("li",{className:"vjs-menu-title",innerHTML:u.Y(this.A),Ad:-1})),this.K=this.createItems())for(var e=0;e<this.K.length;e++)ca(t,this.K[e]);return t},t.qa=m(),t.P=function(){return this.className+" vjs-menu-button "+u.q.prototype.P.call(this)},t.Pa=m(),t.Oa=m(),t.p=function(){this.T("mouseout",u.bind(this,function(){D(this.ua),this.a.blur()})),this.na?G(this):H(this)},t.aa=function(t){t.preventDefault(),32==t.which||13==t.which?this.na?G(this):H(this):27==t.which&&this.na&&G(this)},u.Player=u.b.extend({h:function(t,e,i){this.L=t,t.id=t.id||"vjs_video_"+u.s++,e=u.k.B(da(t),e),this.v={},this.rc=e.poster,this.rb=e.controls,t.controls=l,e.tc=l,u.b.call(this,this,e,i),this.controls()?this.n("vjs-controls-enabled"):this.n("vjs-controls-disabled"),this.T("play",function(t){u.j(this.a,{type:"firstplay",target:this.a})||(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())}),this.d("ended",this.kd),this.d("play",this.Kb),this.d("firstplay",this.ld),this.d("pause",this.Jb),this.d("progress",this.nd),this.d("durationchange",this.pc),this.d("error",this.Gb),this.d("fullscreenchange",this.md),u.va[this.Q]=this,e.plugins&&u.k.ra(e.plugins,function(t,e){this[t](e)},this);var n,o,r,s;n=u.bind(this,this.reportUserActivity),this.d("mousedown",function(){n(),clearInterval(o),o=setInterval(n,250)}),this.d("mousemove",n),this.d("mouseup",function(){n(),clearInterval(o)}),this.d("keydown",n),this.d("keyup",n),r=setInterval(u.bind(this,function(){this.ia&&(this.ia=l,this.userActive(f),clearTimeout(s),s=setTimeout(u.bind(this,function(){this.ia||this.userActive(l)}),2e3))}),250),this.d("dispose",function(){clearInterval(r),clearTimeout(s)})}}),t=u.Player.prototype,t.g=u.options,t.dispose=function(){this.j("dispose"),this.o("dispose"),u.va[this.Q]=h,this.L&&this.L.player&&(this.L.player=h),this.a&&this.a.player&&(this.a.player=h),clearInterval(this.Sa),this.wa(),this.i&&this.i.dispose(),u.b.prototype.dispose.call(this)},t.e=function(){var t=this.a=u.b.prototype.e.call(this,"div"),e=this.L;if(e.removeAttribute("width"),e.removeAttribute("height"),e.hasChildNodes()){var i,n,o,r,s;for(i=e.childNodes,n=i.length,s=[];n--;)o=i[n],r=o.nodeName.toLowerCase(),"track"===r&&s.push(o);for(i=0;i<s.length;i++)e.removeChild(s[i])}return t.id=e.id,t.className=e.className,e.id+="_html5_api",e.className="vjs-tech",e.player=t.player=this,this.n("vjs-paused"),this.width(this.g.width,f),this.height(this.g.height,f),e.parentNode&&e.parentNode.insertBefore(t,e),u.yb(e,t),t},t.Ac=function(){this.ec&&this.wa(),this.ec=setInterval(u.bind(this,function(){this.j("timeupdate")}),250)},t.wa=function(){clearInterval(this.ec)},t.Kb=function(){u.t(this.a,"vjs-paused"),u.n(this.a,"vjs-playing")},t.ld=function(){this.g.starttime&&this.currentTime(this.g.starttime),this.n("vjs-has-started")},t.Jb=function(){u.t(this.a,"vjs-playing"),u.n(this.a,"vjs-paused")},t.nd=function(){1==this.bufferedPercent()&&this.j("loadedalldata")},t.kd=function(){this.g.loop&&(this.currentTime(0),this.play())},t.pc=function(){var t=K(this,"duration");t&&this.duration(t)},t.md=function(){this.isFullScreen()?this.n("vjs-fullscreen"):this.t("vjs-fullscreen")},t.Gb=function(t){u.log("Video Error",t)},t.play=function(){return L(this,"play"),this},t.pause=function(){return L(this,"pause"),this},t.paused=function(){return K(this,"paused")===l?l:f},t.currentTime=function(t){return t!==b?(L(this,"setCurrentTime",t),this.Eb&&this.j("timeupdate"),this):this.v.currentTime=K(this,"currentTime")||0},t.duration=function(t){return t!==b?(this.v.duration=parseFloat(t),this):(this.v.duration===b&&this.pc(),this.v.duration||0)},t.buffered=function(){var t=K(this,"buffered"),e=t.length-1,i=this.v.mb=this.v.mb||0;return t&&e>=0&&t.end(e)!==i&&(i=t.end(e),this.v.mb=i),u.sb(0,i)},t.bufferedPercent=function(){return this.duration()?this.buffered().end(0)/this.duration():0},t.volume=function(t){return t!==b?(t=Math.max(0,Math.min(1,parseFloat(t))),this.v.volume=t,L(this,"setVolume",t),u.ud(t),this):(t=parseFloat(K(this,"volume")),isNaN(t)?1:t)},t.muted=function(t){return t!==b?(L(this,"setMuted",t),this):K(this,"muted")||l},t.Va=function(){return K(this,"supportsFullScreen")||l},t.nc=l,t.isFullScreen=function(t){return t!==b?(this.nc=t,this):this.nc},t.requestFullScreen=function(){var t=u.Nb.requestFullScreen;return this.isFullScreen(f),t?(u.d(document,t.ub,u.bind(this,function(){this.isFullScreen(document[t.isFullScreen]),this.isFullScreen()===l&&u.o(document,t.ub,arguments.callee),this.j("fullscreenchange")})),this.a[t.uc]()):this.i.Va()?L(this,"enterFullScreen"):(this.ed=f,this.Yc=document.documentElement.style.overflow,u.d(document,"keydown",u.bind(this,this.ic)),document.documentElement.style.overflow="hidden",u.n(document.body,"vjs-full-window"),this.j("enterFullWindow"),this.j("fullscreenchange")),this},t.cancelFullScreen=function(){var t=u.Nb.requestFullScreen;return this.isFullScreen(l),t?document[t.ob]():this.i.Va()?L(this,"exitFullScreen"):(M(this),this.j("fullscreenchange")),this},t.ic=function(t){27===t.keyCode&&(this.isFullScreen()===f?this.cancelFullScreen():M(this))},t.src=function(t){if(t instanceof Array){var e;t:{e=t;for(var i=0,n=this.g.techOrder;i<n.length;i++){var o=u.Y(n[i]),r=window.videojs[o];if(r.isSupported())for(var s=0,a=e;s<a.length;s++){var c=a[s];if(r.canPlaySource(c)){e={source:c,i:o};break t}}}e=l}e?(t=e.source,e=e.i,e==this.xa?this.src(t):I(this,e,t)):this.a.appendChild(u.e("p",{innerHTML:this.options().notSupportedMessage}))}else t instanceof Object?window.videojs[this.xa].canPlaySource(t)?this.src(t.src):this.src([t]):(this.v.src=t,this.$?(L(this,"src",t),"auto"==this.g.preload&&this.load(),this.g.autoplay&&this.play()):this.H(function(){this.src(t)}));return this},t.load=function(){return L(this,"load"),this},t.currentSrc=function(){return K(this,"currentSrc")||this.v.src||""},t.Ra=function(t){return t!==b?(L(this,"setPreload",t),this.g.preload=t,this):K(this,"preload")},t.autoplay=function(t){return t!==b?(L(this,"setAutoplay",t),this.g.autoplay=t,this):K(this,"autoplay")},t.loop=function(t){return t!==b?(L(this,"setLoop",t),this.g.loop=t,this):K(this,"loop")},t.poster=function(t){return t===b?this.rc:(this.rc=t,L(this,"setPoster",t),this.j("posterchange"),void 0)},t.controls=function(t){return t!==b?(t=!!t,this.rb!==t&&((this.rb=t)?(this.t("vjs-controls-disabled"),this.n("vjs-controls-enabled"),this.j("controlsenabled")):(this.t("vjs-controls-enabled"),this.n("vjs-controls-disabled"),this.j("controlsdisabled"))),this):this.rb},u.Player.prototype.Pb,t=u.Player.prototype,t.usingNativeControls=function(t){return t!==b?(t=!!t,this.Pb!==t&&((this.Pb=t)?(this.n("vjs-using-native-controls"),this.j("usingnativecontrols")):(this.t("vjs-using-native-controls"),this.j("usingcustomcontrols"))),this):this.Pb},t.error=function(){return K(this,"error")},t.ended=function(){return K(this,"ended")},t.seeking=function(){return K(this,"seeking")},t.ia=f,t.reportUserActivity=function(){this.ia=f},t.Ob=f,t.userActive=function(t){return t!==b?(t=!!t,t!==this.Ob&&((this.Ob=t)?(this.ia=f,this.t("vjs-user-inactive"),this.n("vjs-user-active"),this.j("useractive")):(this.ia=l,this.i.T("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.t("vjs-user-active"),this.n("vjs-user-inactive"),this.j("userinactive"))),this):this.Ob};var N,O,P;P=document.createElement("div"),O={},P.Jd!==b?(O.uc="requestFullscreen",O.ob="exitFullscreen",O.ub="fullscreenchange",O.isFullScreen="fullScreen"):(document.mozCancelFullScreen?(N="moz",O.isFullScreen=N+"FullScreen"):(N="webkit",O.isFullScreen=N+"IsFullScreen"),P[N+"RequestFullScreen"]&&(O.uc=N+"RequestFullScreen",O.ob=N+"CancelFullScreen"),O.ub=N+"fullscreenchange"),document[O.ob]&&(u.Nb.requestFullScreen=O),u.Ca=u.b.extend(),u.Ca.prototype.g={Pd:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{}}},u.Ca.prototype.e=function(){return u.e("div",{className:"vjs-control-bar"})},u.Wb=u.q.extend({h:function(t,e){u.q.call(this,t,e),t.d("play",u.bind(this,this.Kb)),t.d("pause",u.bind(this,this.Jb))}}),t=u.Wb.prototype,t.oa="Play",t.P=function(){return"vjs-play-control "+u.q.prototype.P.call(this)},t.p=function(){this.c.paused()?this.c.play():this.c.pause()},t.Kb=function(){u.t(this.a,"vjs-paused"),u.n(this.a,"vjs-playing"),this.a.children[0].children[0].innerHTML="Pause"},t.Jb=function(){u.t(this.a,"vjs-playing"),u.n(this.a,"vjs-paused"),this.a.children[0].children[0].innerHTML="Play"},u.$a=u.b.extend({h:function(t,e){u.b.call(this,t,e),t.d("timeupdate",u.bind(this,this.ca))}}),u.$a.prototype.e=function(){var t=u.b.prototype.e.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.F=u.e("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"}),t.appendChild(this.F),t},u.$a.prototype.ca=function(){var t=this.c.Ua?this.c.v.currentTime:this.c.currentTime();this.F.innerHTML='<span class="vjs-control-text">Current Time </span>'+u.ta(t,this.c.duration())},u.ab=u.b.extend({h:function(t,e){u.b.call(this,t,e),t.d("timeupdate",u.bind(this,this.ca))}}),u.ab.prototype.e=function(){var t=u.b.prototype.e.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.F=u.e("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>0:00',"aria-live":"off"}),t.appendChild(this.F),t},u.ab.prototype.ca=function(){var t=this.c.duration();t&&(this.F.innerHTML='<span class="vjs-control-text">Duration Time </span>'+u.ta(t))},u.ac=u.b.extend({h:function(t,e){u.b.call(this,t,e)}}),u.ac.prototype.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},u.gb=u.b.extend({h:function(t,e){u.b.call(this,t,e),t.d("timeupdate",u.bind(this,this.ca))}}),u.gb.prototype.e=function(){var t=u.b.prototype.e.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.F=u.e("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>-0:00',"aria-live":"off"}),t.appendChild(this.F),t},u.gb.prototype.ca=function(){this.c.duration()&&(this.F.innerHTML='<span class="vjs-control-text">Remaining Time </span>-'+u.ta(this.c.duration()-this.c.currentTime()))},u.Da=u.q.extend({h:function(t,e){u.q.call(this,t,e)}}),u.Da.prototype.oa="Fullscreen",u.Da.prototype.P=function(){return"vjs-fullscreen-control "+u.q.prototype.P.call(this)},u.Da.prototype.p=function(){this.c.isFullScreen()?(this.c.cancelFullScreen(),this.a.children[0].children[0].innerHTML="Fullscreen"):(this.c.requestFullScreen(),this.a.children[0].children[0].innerHTML="Non-Fullscreen")},u.fb=u.b.extend({h:function(t,e){u.b.call(this,t,e)}}),u.fb.prototype.g={children:{seekBar:{}}},u.fb.prototype.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-progress-control vjs-control"})},u.Xb=u.N.extend({h:function(t,e){u.N.call(this,t,e),t.d("timeupdate",u.bind(this,this.za)),t.H(u.bind(this,this.za))}}),t=u.Xb.prototype,t.g={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},t.qc="timeupdate",t.e=function(){return u.N.prototype.e.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},t.za=function(){var t=this.c.Ua?this.c.v.currentTime:this.c.currentTime();this.a.setAttribute("aria-valuenow",u.round(100*this.xb(),2)),this.a.setAttribute("aria-valuetext",u.ta(t,this.c.duration()))},t.xb=function(){return this.c.currentTime()/this.c.duration()},t.Qa=function(t){u.N.prototype.Qa.call(this,t),this.c.Ua=f,this.Ed=!this.c.paused(),this.c.pause()},t.Hb=function(t){t=F(this,t)*this.c.duration(),t==this.c.duration()&&(t-=.1),this.c.currentTime(t)},t.Ib=function(t){u.N.prototype.Ib.call(this,t),this.c.Ua=l,this.Ed&&this.c.play()},t.xc=function(){this.c.currentTime(this.c.currentTime()+5)},t.wc=function(){this.c.currentTime(this.c.currentTime()-5)},u.cb=u.b.extend({h:function(t,e){u.b.call(this,t,e),t.d("progress",u.bind(this,this.update))}}),u.cb.prototype.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})},u.cb.prototype.update=function(){this.a.style&&(this.a.style.width=u.round(100*this.c.bufferedPercent(),2)+"%")},u.Vb=u.b.extend({h:function(t,e){u.b.call(this,t,e)}}),u.Vb.prototype.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})},u.Fa=u.V.extend({h:function(t,e){u.V.call(this,t,e),t.d("timeupdate",u.bind(this,this.ca))}}),u.Fa.prototype.defaultValue="00:00",u.Fa.prototype.e=function(){return u.V.prototype.e.call(this,"div",{className:"vjs-seek-handle","aria-live":"off"})},u.Fa.prototype.ca=function(){var t=this.c.Ua?this.c.v.currentTime:this.c.currentTime();this.a.innerHTML='<span class="vjs-control-text">'+u.ta(t,this.c.duration())+"</span>"},u.ib=u.b.extend({h:function(t,e){u.b.call(this,t,e),t.i&&t.i.m&&t.i.m.volumeControl===l&&this.n("vjs-hidden"),t.d("loadstart",u.bind(this,function(){t.i.m&&t.i.m.volumeControl===l?this.n("vjs-hidden"):this.t("vjs-hidden")}))}}),u.ib.prototype.g={children:{volumeBar:{}}},u.ib.prototype.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-volume-control vjs-control"})},u.hb=u.N.extend({h:function(t,e){u.N.call(this,t,e),t.d("volumechange",u.bind(this,this.za)),t.H(u.bind(this,this.za)),setTimeout(u.bind(this,this.update),0)
}}),t=u.hb.prototype,t.za=function(){this.a.setAttribute("aria-valuenow",u.round(100*this.c.volume(),2)),this.a.setAttribute("aria-valuetext",u.round(100*this.c.volume(),2)+"%")},t.g={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},t.qc="volumechange",t.e=function(){return u.N.prototype.e.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},t.Hb=function(t){this.c.muted()&&this.c.muted(l),this.c.volume(F(this,t))},t.xb=function(){return this.c.muted()?0:this.c.volume()},t.xc=function(){this.c.volume(this.c.volume()+.1)},t.wc=function(){this.c.volume(this.c.volume()-.1)},u.bc=u.b.extend({h:function(t,e){u.b.call(this,t,e)}}),u.bc.prototype.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},u.jb=u.V.extend(),u.jb.prototype.defaultValue="00:00",u.jb.prototype.e=function(){return u.V.prototype.e.call(this,"div",{className:"vjs-volume-handle"})},u.da=u.q.extend({h:function(t,e){u.q.call(this,t,e),t.d("volumechange",u.bind(this,this.update)),t.i&&t.i.m&&t.i.m.volumeControl===l&&this.n("vjs-hidden"),t.d("loadstart",u.bind(this,function(){t.i.m&&t.i.m.volumeControl===l?this.n("vjs-hidden"):this.t("vjs-hidden")}))}}),u.da.prototype.e=function(){return u.q.prototype.e.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},u.da.prototype.p=function(){this.c.muted(this.c.muted()?l:f)},u.da.prototype.update=function(){var t=this.c.volume(),e=3;for(0===t||this.c.muted()?e=0:.33>t?e=1:.67>t&&(e=2),this.c.muted()?"Unmute"!=this.a.children[0].children[0].innerHTML&&(this.a.children[0].children[0].innerHTML="Unmute"):"Mute"!=this.a.children[0].children[0].innerHTML&&(this.a.children[0].children[0].innerHTML="Mute"),t=0;4>t;t++)u.t(this.a,"vjs-vol-"+t);u.n(this.a,"vjs-vol-"+e)},u.ma=u.R.extend({h:function(t,e){u.R.call(this,t,e),t.d("volumechange",u.bind(this,this.update)),t.i&&t.i.m&&t.i.m.Bc===l&&this.n("vjs-hidden"),t.d("loadstart",u.bind(this,function(){t.i.m&&t.i.m.Bc===l?this.n("vjs-hidden"):this.t("vjs-hidden")})),this.n("vjs-menu-button")}}),u.ma.prototype.La=function(){var t=new u.la(this.c,{Tc:"div"}),e=new u.hb(this.c,u.k.B({Dd:f},this.g.Yd));return t.X(e),t},u.ma.prototype.p=function(){u.da.prototype.p.call(this),u.R.prototype.p.call(this)},u.ma.prototype.e=function(){return u.q.prototype.e.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},u.ma.prototype.update=u.da.prototype.update,u.Ea=u.q.extend({h:function(t,e){u.q.call(this,t,e),t.poster()&&this.src(t.poster()),(!t.poster()||!t.controls())&&this.D(),t.d("posterchange",u.bind(this,function(){this.src(t.poster())})),t.d("play",u.bind(this,this.D))}});var Q="backgroundSize"in u.ea.style;u.Ea.prototype.e=function(){var t=u.e("div",{className:"vjs-poster",tabIndex:-1});return Q||t.appendChild(u.e("img")),t},u.Ea.prototype.src=function(t){var e=this.u();t!==b&&(Q?e.style.backgroundImage='url("'+t+'")':e.firstChild.src=t)},u.Ea.prototype.p=function(){this.C().controls()&&this.c.play()},u.Ub=u.b.extend({h:function(t,e){u.b.call(this,t,e),t.d("canplay",u.bind(this,this.D)),t.d("canplaythrough",u.bind(this,this.D)),t.d("playing",u.bind(this,this.D)),t.d("seeked",u.bind(this,this.D)),t.d("seeking",u.bind(this,this.show)),t.d("seeked",u.bind(this,this.D)),t.d("error",u.bind(this,this.show)),t.d("waiting",u.bind(this,this.show))}}),u.Ub.prototype.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-loading-spinner"})},u.Ya=u.q.extend(),u.Ya.prototype.e=function(){return u.q.prototype.e.call(this,"div",{className:"vjs-big-play-button",innerHTML:'<span aria-hidden="true"></span>',"aria-label":"play video"})},u.Ya.prototype.p=function(){this.c.play()},u.r=u.b.extend({h:function(t,e,i){e=e||{},e.tc=l,u.b.call(this,t,e,i);var n,o;o=this,n=this.C(),t=function(){if(n.controls()&&!n.usingNativeControls()){var t;o.d("mousedown",o.p),o.d("touchstart",function(e){e.preventDefault(),t=this.c.userActive()}),o.d("touchmove",function(){t&&this.C().reportUserActivity()});var e,i,r,s;e=0,o.d("touchstart",function(){e=(new Date).getTime(),r=f}),s=function(){r=l},o.d("touchmove",s),o.d("touchleave",s),o.d("touchcancel",s),o.d("touchend",function(){r===f&&(i=(new Date).getTime()-e,250>i&&this.j("tap"))}),o.d("tap",o.od)}},e=u.bind(o,o.rd),this.H(t),n.d("controlsenabled",t),n.d("controlsdisabled",e)}}),u.r.prototype.rd=function(){this.o("tap"),this.o("touchstart"),this.o("touchmove"),this.o("touchleave"),this.o("touchcancel"),this.o("touchend"),this.o("click"),this.o("mousedown")},u.r.prototype.p=function(t){0===t.button&&this.C().controls()&&(this.C().paused()?this.C().play():this.C().pause())},u.r.prototype.od=function(){this.C().userActive(!this.C().userActive())},u.r.prototype.m={volumeControl:f,fullscreenResize:l,progressEvents:l,timeupdateEvents:l},u.media={},u.media.Xa="play pause paused currentTime setCurrentTime duration buffered volume setVolume muted setMuted width height supportsFullScreen enterFullScreen src load currentSrc preload setPreload autoplay setAutoplay loop setLoop error networkState readyState seeking initialTime startOffsetTime played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks defaultPlaybackRate playbackRate mediaGroup controller controls defaultMuted".split(" ");for(var i=u.media.Xa.length-1;i>=0;i--)u.r.prototype[u.media.Xa[i]]=ea();u.l=u.r.extend({h:function(t,e,i){for(this.m.volumeControl=u.l.Sc(),this.m.movingMediaElementInDOM=!u.Hc,this.m.fullscreenResize=f,u.r.call(this,t,e,i),i=u.l.bb.length-1;i>=0;i--)u.d(this.a,u.l.bb[i],u.bind(this.c,this.$c));if((e=e.source)&&this.a.currentSrc===e.src&&0<this.a.networkState?t.j("loadstart"):e&&(this.a.src=e.src),u.Zb&&t.options().nativeControlsForTouch!==l){var n,o,r,s;n=this,o=this.C(),e=o.controls(),n.a.controls=!!e,r=function(){n.a.controls=f},s=function(){n.a.controls=l},o.d("controlsenabled",r),o.d("controlsdisabled",s),e=function(){o.o("controlsenabled",r),o.o("controlsdisabled",s)},n.d("dispose",e),o.d("usingcustomcontrols",e),o.usingNativeControls(f)}t.H(function(){this.L&&this.g.autoplay&&this.paused()&&(delete this.L.poster,this.play())}),this.Wa()}}),t=u.l.prototype,t.dispose=function(){u.r.prototype.dispose.call(this)},t.e=function(){var t,e=this.c,i=e.L;i&&this.m.movingMediaElementInDOM!==l||(i?(t=i.cloneNode(l),u.l.fc(i),i=t,e.L=h):i=u.e("video",{id:e.id()+"_html5_api",className:"vjs-tech"}),i.player=e,u.yb(i,e.u())),t=["autoplay","preload","loop","muted"];for(var n=t.length-1;n>=0;n--){var o=t[n];e.g[o]!==h&&(i[o]=e.g[o])}return i},t.$c=function(t){this.j(t),t.stopPropagation()},t.play=function(){this.a.play()},t.pause=function(){this.a.pause()},t.paused=function(){return this.a.paused},t.currentTime=function(){return this.a.currentTime},t.td=function(t){try{this.a.currentTime=t}catch(e){u.log(e,"Video is not ready. (Video.js)")}},t.duration=function(){return this.a.duration||0},t.buffered=function(){return this.a.buffered},t.volume=function(){return this.a.volume},t.yd=function(t){this.a.volume=t},t.muted=function(){return this.a.muted},t.wd=function(t){this.a.muted=t},t.width=function(){return this.a.offsetWidth},t.height=function(){return this.a.offsetHeight},t.Va=function(){return"function"!=typeof this.a.webkitEnterFullScreen||!/Android/.test(u.I)&&/Chrome|Mac OS X 10.5/.test(u.I)?l:f},t.gc=function(){var t=this.a;t.paused&&t.networkState<=t.Gd?(this.a.play(),setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},t.ad=function(){this.a.webkitExitFullScreen()},t.src=function(t){this.a.src=t},t.load=function(){this.a.load()},t.currentSrc=function(){return this.a.currentSrc},t.poster=function(){return this.a.poster},t.Ra=function(){return this.a.Ra},t.xd=function(t){this.a.Ra=t},t.autoplay=function(){return this.a.autoplay},t.sd=function(t){this.a.autoplay=t},t.controls=function(){return this.a.controls},t.loop=function(){return this.a.loop},t.vd=function(t){this.a.loop=t},t.error=function(){return this.a.error},t.seeking=function(){return this.a.seeking},t.ended=function(){return this.a.ended},u.l.isSupported=function(){return!!u.ea.canPlayType},u.l.nb=function(t){try{return!!u.ea.canPlayType(t.type)}catch(e){return""}},u.l.Sc=function(){var t=u.ea.volume;return u.ea.volume=t/2+.1,t!==u.ea.volume},u.l.bb="loadstart suspend abort error emptied stalled loadedmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate progress play pause ratechange volumechange".split(" "),u.l.fc=function(t){if(t){for(t.player=h,t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&t.load()}},u.Lc&&(document.createElement("video").constructor.prototype.canPlayType=function(t){return t&&-1!=t.toLowerCase().indexOf("video/mp4")?"maybe":""}),u.f=u.r.extend({h:function(t,e,i){u.r.call(this,t,e,i);var n=e.source;i=e.parentEl;var o=this.a=u.e("div",{id:t.id()+"_temp_flash"}),r=t.id()+"_flash_api";t=t.g;var s,a=u.k.B({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:t.autoplay,preload:t.Ra,loop:t.loop,muted:t.muted},e.flashVars),c=u.k.B({wmode:"opaque",bgcolor:"#000000"},e.params),d=u.k.B({id:r,name:r,"class":"vjs-tech"},e.attributes);if(n&&(n.type&&u.f.gd(n.type)?(t=u.f.yc(n.src),a.rtmpConnection=encodeURIComponent(t.qb),a.rtmpStream=encodeURIComponent(t.Mb)):a.src=encodeURIComponent(u.jc(n.src))),this.setCurrentTime=function(t){s=t,this.a.vjs_setProperty("currentTime",t)},this.currentTime=function(){return this.seeking()?s:this.a.vjs_getProperty("currentTime")},u.yb(o,i),e.startTime&&this.H(function(){this.load(),this.play(),this.currentTime(e.startTime)}),u.Tb&&this.H(function(){u.d(this.u(),"mousemove",u.bind(this,function(){this.C().j({type:"mousemove",bubbles:l})}))}),e.iFrameMode!==f||u.Tb)u.f.Zc(e.swf,o,a,c,d);else{var h=u.e("iframe",{id:r+"_iframe",name:r+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});a.readyFunction="ready",a.eventProxyFunction="events",a.errorEventProxyFunction="errors",u.d(h,"load",u.bind(this,function(){var t,i=h.contentWindow;t=h.contentDocument?h.contentDocument:h.contentWindow.document,t.write(u.f.kc(e.swf,a,c,d)),i.player=this.c,i.ready=u.bind(this.c,function(e){var i=this.i;i.a=t.getElementById(e),u.f.pb(i)}),i.events=u.bind(this.c,function(t,e){this&&"flash"===this.xa&&this.j(e)}),i.errors=u.bind(this.c,function(t,e){u.log("Flash Error",e)})})),o.parentNode.replaceChild(h,o)}}}),t=u.f.prototype,t.dispose=function(){u.r.prototype.dispose.call(this)},t.play=function(){this.a.vjs_play()},t.pause=function(){this.a.vjs_pause()},t.src=function(t){if(u.f.fd(t)?(t=u.f.yc(t),this.Td(t.qb),this.Ud(t.Mb)):(t=u.jc(t),this.a.vjs_src(t)),this.c.autoplay()){var e=this;setTimeout(function(){e.play()},0)}},t.currentSrc=function(){var t=this.a.vjs_getProperty("currentSrc");if(t==h){var e=this.Rd(),i=this.Sd();e&&i&&(t=u.f.zd(e,i))}return t},t.load=function(){this.a.vjs_load()},t.poster=function(){this.a.vjs_getProperty("poster")},t.buffered=function(){return u.sb(0,this.a.vjs_getProperty("buffered"))},t.Va=r(l),t.gc=r(l);var R=u.f.prototype,S="rtmpConnection rtmpStream preload defaultPlaybackRate playbackRate autoplay loop mediaGroup controller controls volume muted defaultMuted".split(" "),T="error currentSrc networkState readyState seeking initialTime duration startOffsetTime paused played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks".split(" "),U;for(U=0;U<S.length;U++)V(S[U]),fa();for(U=0;U<T.length;U++)V(T[U]);if(u.f.isSupported=function(){return 10<=u.f.version()[0]},u.f.nb=function(t){return t.type?(t=t.type.replace(/;.*/,"").toLowerCase(),t in u.f.cd||t in u.f.zc?"maybe":void 0):""},u.f.cd={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},u.f.zc={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},u.f.onReady=function(t){t=u.u(t);var e=t.player||t.parentNode.player,i=e.i;t.player=e,i.a=t,u.f.pb(i)},u.f.pb=function(t){t.u().vjs_getProperty?t.Wa():setTimeout(function(){u.f.pb(t)},50)},u.f.onEvent=function(t,e){u.u(t).player.j(e)},u.f.onError=function(t,e){u.u(t).player.j("error"),u.log("Flash Error",e,t)},u.f.version=function(){var t="0,0,0";try{t=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(i){}}return t.split(",")},u.f.Zc=function(t,e,i,n,o){t=u.f.kc(t,i,n,o),t=u.e("div",{innerHTML:t}).childNodes[0],i=e.parentNode,e.parentNode.replaceChild(t,e);var r=i.childNodes[0];setTimeout(function(){r.style.display="block"},1e3)},u.f.kc=function(t,e,i,n){var o="",r="",s="";return e&&u.k.ra(e,function(t,e){o+=t+"="+e+"&amp;"}),i=u.k.B({movie:t,flashvars:o,allowScriptAccess:"always",allowNetworking:"all"},i),u.k.ra(i,function(t,e){r+='<param name="'+t+'" value="'+e+'" />'}),n=u.k.B({data:t,width:"100%",height:"100%"},n),u.k.ra(n,function(t,e){s+=t+'="'+e+'" '}),'<object type="application/x-shockwave-flash"'+s+">"+r+"</object>"},u.f.zd=function(t,e){return t+"&"+e},u.f.yc=function(t){var e={qb:"",Mb:""};if(!t)return e;var i,n=t.indexOf("&");return-1!==n?i=n+1:(n=i=t.lastIndexOf("/")+1,0===n&&(n=i=t.length)),e.qb=t.substring(0,n),e.Mb=t.substring(i,t.length),e},u.f.gd=function(t){return t in u.f.zc},u.f.Nc=/^rtmp[set]?:\/\//i,u.f.fd=function(t){return u.f.Nc.test(t)},u.Mc=u.b.extend({h:function(t,e,i){if(u.b.call(this,t,e,i),t.g.sources&&0!==t.g.sources.length)t.src(t.g.sources);else for(e=0,i=t.g.techOrder;e<i.length;e++){var n=u.Y(i[e]),o=window.videojs[n];if(o&&o.isSupported()){I(t,n);break}}}}),u.Player.prototype.textTracks=function(){return this.ya=this.ya||[]},u.w=u.b.extend({h:function(t,e){u.b.call(this,t,e),this.Q=e.id||"vjs_"+e.kind+"_"+e.language+"_"+u.s++,this.vc=e.src,this.Wc=e["default"]||e.dflt,this.Bd=e.title,this.Od=e.srclang,this.hd=e.label,this.Z=[],this.kb=[],this.ga=this.ha=0,this.c.d("fullscreenchange",u.bind(this,this.Pc))}}),t=u.w.prototype,t.G=p("A"),t.src=p("vc"),t.tb=p("Wc"),t.title=p("Bd"),t.label=p("hd"),t.Uc=p("Z"),t.Oc=p("kb"),t.readyState=p("ha"),t.mode=p("ga"),t.Pc=function(){this.a.style.fontSize=this.c.isFullScreen()?140*(screen.width/this.c.width())+"%":""},t.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-"+this.A+" vjs-text-track"})},t.show=function(){X(this),this.ga=2,u.b.prototype.show.call(this)},t.D=function(){X(this),this.ga=1,u.b.prototype.D.call(this)},t.disable=function(){2==this.ga&&this.D(),this.c.o("timeupdate",u.bind(this,this.update,this.Q)),this.c.o("ended",u.bind(this,this.reset,this.Q)),this.reset(),this.c.fa("textTrackDisplay").removeChild(this),this.ga=0},t.load=function(){0===this.ha&&(this.ha=1,u.get(this.vc,u.bind(this,this.pd),u.bind(this,this.Gb)))},t.Gb=function(t){this.error=t,this.ha=3,this.j("error")},t.pd=function(t){var e,i;t=t.split("\n");for(var n="",o=1,r=t.length;r>o;o++)if(n=u.trim(t[o])){for(-1==n.indexOf("-->")?(e=n,n=u.trim(t[++o])):e=this.Z.length,e={id:e,index:this.Z.length},i=n.split(" --> "),e.startTime=Y(i[0]),e.sa=Y(i[1]),i=[];t[++o]&&(n=u.trim(t[o]));)i.push(n);e.text=i.join("<br/>"),this.Z.push(e)}this.ha=2,this.j("loaded")},t.update=function(){if(0<this.Z.length){var t=this.c.currentTime();if(this.Lb===b||t<this.Lb||this.Na<=t){var e,i,n,o,r=this.Z,s=this.c.duration(),a=0,c=l,u=[];for(t>=this.Na||this.Na===b?o=this.vb!==b?this.vb:0:(c=f,o=this.Cb!==b?this.Cb:r.length-1);;){if(n=r[o],n.sa<=t)a=Math.max(a,n.sa),n.Ha&&(n.Ha=l);else if(t<n.startTime){if(s=Math.min(s,n.startTime),n.Ha&&(n.Ha=l),!c)break}else c?(u.splice(0,0,n),i===b&&(i=o),e=o):(u.push(n),e===b&&(e=o),i=o),s=Math.min(s,n.sa),a=Math.max(a,n.startTime),n.Ha=f;if(c){if(0===o)break;o--}else{if(o===r.length-1)break;o++}}for(this.kb=u,this.Na=s,this.Lb=a,this.vb=e,this.Cb=i,t=this.kb,r="",s=0,a=t.length;a>s;s++)r+='<span class="vjs-tt-cue">'+t[s].text+"</span>";this.a.innerHTML=r,this.j("cuechange")}}},t.reset=function(){this.Na=0,this.Lb=this.c.duration(),this.Cb=this.vb=0},u.Rb=u.w.extend(),u.Rb.prototype.A="captions",u.Yb=u.w.extend(),u.Yb.prototype.A="subtitles",u.Sb=u.w.extend(),u.Sb.prototype.A="chapters",u.$b=u.b.extend({h:function(t,e,i){if(u.b.call(this,t,e,i),t.g.tracks&&0<t.g.tracks.length){e=this.c,t=t.g.tracks;var n;for(i=0;i<t.length;i++){n=t[i];var o=e,r=n.kind,s=n.label,a=n.language,l=n;n=o.ya=o.ya||[],l=l||{},l.kind=r,l.label=s,l.language=a,r=u.Y(r||"subtitles"),o=new window.videojs[r+"Track"](o,l),n.push(o)}}}}),u.$b.prototype.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-text-track-display"})},u.W=u.M.extend({h:function(t,e){var i=this.ba=e.track;e.label=i.label(),e.selected=i.tb(),u.M.call(this,t,e),this.c.d(i.G()+"trackchange",u.bind(this,this.update))}}),u.W.prototype.p=function(){u.M.prototype.p.call(this),W(this.c,this.ba.Q,this.ba.G())},u.W.prototype.update=function(){this.selected(2==this.ba.mode())},u.eb=u.W.extend({h:function(t,e){e.track={G:function(){return e.kind},C:t,label:function(){return e.kind+" off"},tb:r(l),mode:r(l)},u.W.call(this,t,e),this.selected(f)}}),u.eb.prototype.p=function(){u.W.prototype.p.call(this),W(this.c,this.ba.Q,this.ba.G())},u.eb.prototype.update=function(){for(var t,e=this.c.textTracks(),i=0,n=e.length,o=f;n>i;i++)t=e[i],t.G()==this.ba.G()&&2==t.mode()&&(o=l);this.selected(o)},u.S=u.R.extend({h:function(t,e){u.R.call(this,t,e),1>=this.K.length&&this.D()}}),u.S.prototype.qa=function(){var t,e=[];e.push(new u.eb(this.c,{kind:this.A}));for(var i=0;i<this.c.textTracks().length;i++)t=this.c.textTracks()[i],t.G()===this.A&&e.push(new u.W(this.c,{track:t}));return e},u.Aa=u.S.extend({h:function(t,e,i){u.S.call(this,t,e,i),this.a.setAttribute("aria-label","Captions Menu")}}),u.Aa.prototype.A="captions",u.Aa.prototype.oa="Captions",u.Aa.prototype.className="vjs-captions-button",u.Ga=u.S.extend({h:function(t,e,i){u.S.call(this,t,e,i),this.a.setAttribute("aria-label","Subtitles Menu")}}),u.Ga.prototype.A="subtitles",u.Ga.prototype.oa="Subtitles",u.Ga.prototype.className="vjs-subtitles-button",u.Ba=u.S.extend({h:function(t,e,i){u.S.call(this,t,e,i),this.a.setAttribute("aria-label","Chapters Menu")}}),t=u.Ba.prototype,t.A="chapters",t.oa="Chapters",t.className="vjs-chapters-button",t.qa=function(){for(var t,e=[],i=0;i<this.c.textTracks().length;i++)t=this.c.textTracks()[i],t.G()===this.A&&e.push(new u.W(this.c,{track:t}));return e},t.La=function(){for(var t,e,i=this.c.textTracks(),n=0,o=i.length,r=this.K=[];o>n;n++)if(t=i[n],t.G()==this.A&&t.tb()){if(2>t.readyState())return this.Kd=t,t.d("loaded",u.bind(this,this.La)),void 0;e=t;break}if(i=this.ua=new u.la(this.c),i.a.appendChild(u.e("li",{className:"vjs-menu-title",innerHTML:u.Y(this.A),Ad:-1})),e){t=e.Z;for(var s,n=0,o=t.length;o>n;n++)s=t[n],s=new u.Za(this.c,{track:e,cue:s}),r.push(s),i.X(s)}return 0<this.K.length&&this.show(),i},u.Za=u.M.extend({h:function(t,e){var i=this.ba=e.track,n=this.cue=e.cue,o=t.currentTime();e.label=n.text,e.selected=n.startTime<=o&&o<n.sa,u.M.call(this,t,e),i.d("cuechange",u.bind(this,this.update))}}),u.Za.prototype.p=function(){u.M.prototype.p.call(this),this.c.currentTime(this.cue.startTime),this.update(this.cue.startTime)},u.Za.prototype.update=function(){var t=this.cue,e=this.c.currentTime();this.selected(t.startTime<=e&&e<t.sa)},u.k.B(u.Ca.prototype.g.children,{subtitlesButton:{},captionsButton:{},chaptersButton:{}}),"undefined"!=typeof window.JSON&&"function"===window.JSON.parse)u.JSON=window.JSON;else{u.JSON={};var Z=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;u.JSON.parse=function(a,c){function d(t,e){var i,n,o=t[e];if(o&&"object"==typeof o)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n=d(o,i),n!==b?o[i]=n:delete o[i]);return c.call(t,e,o)}var e;if(a=String(a),Z.lastIndex=0,Z.test(a)&&(a=a.replace(Z,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"==typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}u.cc=function(){var t,e,i=document.getElementsByTagName("video");if(i&&0<i.length)for(var n=0,o=i.length;o>n;n++){if(!(e=i[n])||!e.getAttribute){u.lb();break}e.player===b&&(t=e.getAttribute("data-setup"),t!==h&&(t=u.JSON.parse(t||"{}"),videojs(e,t)))}else u.Cc||u.lb()},u.lb=function(){setTimeout(u.cc,1)},"complete"===document.readyState?u.Cc=f:u.T(window,"load",function(){u.Cc=f}),u.lb(),u.qd=function(t,e){u.Player.prototype[t]=e};var ga=this;ga.Fd=f,$("videojs",u),$("_V_",u),$("videojs.options",u.options),$("videojs.players",u.va),$("videojs.TOUCH_ENABLED",u.Zb),$("videojs.cache",u.pa),$("videojs.Component",u.b),u.b.prototype.player=u.b.prototype.C,u.b.prototype.options=u.b.prototype.options,u.b.prototype.init=u.b.prototype.h,u.b.prototype.dispose=u.b.prototype.dispose,u.b.prototype.createEl=u.b.prototype.e,u.b.prototype.contentEl=u.b.prototype.Ka,u.b.prototype.el=u.b.prototype.u,u.b.prototype.addChild=u.b.prototype.X,u.b.prototype.getChild=u.b.prototype.fa,u.b.prototype.getChildById=u.b.prototype.dd,u.b.prototype.children=u.b.prototype.children,u.b.prototype.initChildren=u.b.prototype.mc,u.b.prototype.removeChild=u.b.prototype.removeChild,u.b.prototype.on=u.b.prototype.d,u.b.prototype.off=u.b.prototype.o,u.b.prototype.one=u.b.prototype.T,u.b.prototype.trigger=u.b.prototype.j,u.b.prototype.triggerReady=u.b.prototype.Wa,u.b.prototype.show=u.b.prototype.show,u.b.prototype.hide=u.b.prototype.D,u.b.prototype.width=u.b.prototype.width,u.b.prototype.height=u.b.prototype.height,u.b.prototype.dimensions=u.b.prototype.Xc,u.b.prototype.ready=u.b.prototype.H,u.b.prototype.addClass=u.b.prototype.n,u.b.prototype.removeClass=u.b.prototype.t,u.b.prototype.buildCSSClass=u.b.prototype.P,u.Player.prototype.ended=u.Player.prototype.ended,$("videojs.MediaLoader",u.Mc),$("videojs.TextTrackDisplay",u.$b),$("videojs.ControlBar",u.Ca),$("videojs.Button",u.q),$("videojs.PlayToggle",u.Wb),$("videojs.FullscreenToggle",u.Da),$("videojs.BigPlayButton",u.Ya),$("videojs.LoadingSpinner",u.Ub),$("videojs.CurrentTimeDisplay",u.$a),$("videojs.DurationDisplay",u.ab),$("videojs.TimeDivider",u.ac),$("videojs.RemainingTimeDisplay",u.gb),$("videojs.Slider",u.N),$("videojs.ProgressControl",u.fb),$("videojs.SeekBar",u.Xb),$("videojs.LoadProgressBar",u.cb),$("videojs.PlayProgressBar",u.Vb),$("videojs.SeekHandle",u.Fa),$("videojs.VolumeControl",u.ib),$("videojs.VolumeBar",u.hb),$("videojs.VolumeLevel",u.bc),$("videojs.VolumeMenuButton",u.ma),$("videojs.VolumeHandle",u.jb),$("videojs.MuteToggle",u.da),$("videojs.PosterImage",u.Ea),$("videojs.Menu",u.la),$("videojs.MenuItem",u.M),$("videojs.MenuButton",u.R),u.R.prototype.createItems=u.R.prototype.qa,u.S.prototype.createItems=u.S.prototype.qa,u.Ba.prototype.createItems=u.Ba.prototype.qa,$("videojs.SubtitlesButton",u.Ga),$("videojs.CaptionsButton",u.Aa),$("videojs.ChaptersButton",u.Ba),$("videojs.MediaTechController",u.r),u.r.prototype.features=u.r.prototype.m,u.r.prototype.m.volumeControl=u.r.prototype.m.Bc,u.r.prototype.m.fullscreenResize=u.r.prototype.m.Md,u.r.prototype.m.progressEvents=u.r.prototype.m.Qd,u.r.prototype.m.timeupdateEvents=u.r.prototype.m.Vd,$("videojs.Html5",u.l),u.l.Events=u.l.bb,u.l.isSupported=u.l.isSupported,u.l.canPlaySource=u.l.nb,u.l.prototype.setCurrentTime=u.l.prototype.td,u.l.prototype.setVolume=u.l.prototype.yd,u.l.prototype.setMuted=u.l.prototype.wd,u.l.prototype.setPreload=u.l.prototype.xd,u.l.prototype.setAutoplay=u.l.prototype.sd,u.l.prototype.setLoop=u.l.prototype.vd,u.l.prototype.enterFullScreen=u.l.prototype.gc,u.l.prototype.exitFullScreen=u.l.prototype.ad,$("videojs.Flash",u.f),u.f.isSupported=u.f.isSupported,u.f.canPlaySource=u.f.nb,u.f.onReady=u.f.onReady,$("videojs.TextTrack",u.w),u.w.prototype.label=u.w.prototype.label,u.w.prototype.kind=u.w.prototype.G,u.w.prototype.mode=u.w.prototype.mode,u.w.prototype.cues=u.w.prototype.Uc,u.w.prototype.activeCues=u.w.prototype.Oc,$("videojs.CaptionsTrack",u.Rb),$("videojs.SubtitlesTrack",u.Yb),$("videojs.ChaptersTrack",u.Sb),$("videojs.autoSetup",u.cc),$("videojs.plugin",u.qd),$("videojs.createTimeRange",u.sb),$("videojs.util",u.ja),u.ja.mergeOptions=u.ja.Fb}(),$(document).ready(function(){$("body").prepend('<div id="loading"></div>'),$("textarea.wysiwyg").redactor({css:"../wysiwyg.css",resize:!1,path:"http://eventstir.dev/assets",buttons:["bold","italic","|","link","|","unorderedlist","orderedlist"]}),$("#footer").hide(),$("body a.oembed").oembed(null,{maxWidth:435,maxHeight:310}),$("body.mobile a.oembed").each(function(){width=$(this).parents(".box").width(),$(this).oembed(null,{maxWidth:width,maxHeight:260})})}),function(t){function e(t,e){var i,n=t.apiendpoint,o="",r=t.callbackparameter||"callback";n+=n.indexOf("?")<=0?"?":"&",null!=t.maxWidth&&null==t.params.maxwidth&&(t.params.maxwidth=t.maxWidth),null!=t.maxHeight&&null==t.params.maxheight&&(t.params.maxheight=t.maxHeight);for(i in t.params)i!=t.callbackparameter&&null!=t.params[i]&&(o+="&"+escape(i)+"="+t.params[i]);return n+="format=json&url="+escape(e)+o+"&"+r+"=?"}function i(i,n,o){var r=e(o,n),s=t.extend({url:r,type:"get",dataType:"json",success:function(e){var o=t.extend({},e);switch(o.type){case"photo":o.code=t.fn.oembed.getPhotoCode(n,o);break;case"video":o.code=t.fn.oembed.getVideoCode(n,o);break;case"rich":o.code=t.fn.oembed.getRichCode(n,o);break;default:o.code=t.fn.oembed.getGenericCode(n,o)}a.beforeEmbed.call(i,o),a.onEmbed.call(i,o),a.afterEmbed.call(i,o)},error:a.onError.call(i,n,o)},a.ajaxOptions||{});t.ajax(s)}function n(){l=[];var e,i,n,r=[];if(s(a.allowedProviders))l=t.fn.oembed.providers;else{for(i=0;i<t.fn.oembed.providers.length;i++)t.inArray(t.fn.oembed.providers[i].name,a.allowedProviders)>=0&&l.push(t.fn.oembed.providers[i]);a.greedy=!1}if(!s(a.disallowedProviders)){for(i=0;i<l.length;i++)t.inArray(l[i].name,a.disallowedProviders)<0&&r.push(l[i]);l=r,a.greedy=!1}for(s(a.customProviders)||t.each(a.customProviders,function(e,i){i instanceof t.fn.oembed.OEmbedProvider?l.push(n):(n=new t.fn.oembed.OEmbedProvider,n.fromJSON(i)&&l.push(n))}),e=o(a.defaultOEmbedProvider),1==a.greedy&&l.push(e),i=0;i<l.length;i++)null==l[i].apiendpoint&&(l[i].apiendpoint=e.apiendpoint)}function o(e){var i="http://oohembed.com/oohembed/";return"embed.ly"==e&&(i="http://api.embed.ly/v1/api/oembed?"),new t.fn.oembed.OEmbedProvider(e,null,null,i,"callback")}function r(t){if(null==t)return null;var e,i={};for(e in t)null!=e&&(i[e.toLowerCase()]=t[e]);return i}function s(e){return"undefined"==typeof e?!0:null==e?!0:t.isArray(e)&&0==e.length?!0:!1}t.fn.oembed=function(e,o,s){return a=t.extend(!0,t.fn.oembed.defaults,o),n(),this.each(function(){var n,o=t(this),l=null!=e?e:o.attr("href");return a.onEmbed=s?s:function(e){t.fn.oembed.insertCode(this,a.embedMethod,e)},null!=l&&(n=t.fn.oembed.getOEmbedProvider(l),null!=n?(n.params=r(a[n.name])||{},n.maxWidth=a.maxWidth,n.maxHeight=a.maxHeight,i(o,l,n)):a.onProviderNotFound.call(o,l)),o})};var a,l=[];t.fn.oembed.defaults={maxWidth:null,maxHeight:null,embedMethod:"replace",defaultOEmbedProvider:"none",allowedProviders:null,disallowedProviders:null,customProviders:null,defaultProvider:null,greedy:!0,onProviderNotFound:function(){},beforeEmbed:function(){},afterEmbed:function(){},onEmbed:function(){},onError:function(){},ajaxOptions:{}},t.fn.oembed.insertCode=function(e,i,n){if(null!=n)switch(i){case"auto":null!=e.attr("href")?t.fn.oembed.insertCode(e,"append",n):t.fn.oembed.insertCode(e,"replace",n);break;case"replace":e.replaceWith(n.code);break;case"fill":e.html(n.code);break;case"append":var o=e.next();null!=o&&o.hasClass("oembed-container")||(o=e.after('<div class="oembed-container"></div>').next(".oembed-container"),null!=n&&null!=n.provider_name&&o.toggleClass("oembed-container-"+n.provider_name)),o.html(n.code)}},t.fn.oembed.getPhotoCode=function(t,e){var i,n=e.title?e.title:"";return n+=e.author_name?" - "+e.author_name:"",n+=e.provider_name?" - "+e.provider_name:"",i='<div><a href="'+t+"\" target='_blank'><img src=\""+e.url+'" alt="'+n+'"/></a></div>',e.html&&(i+="<div>"+e.html+"</div>"),i},t.fn.oembed.getVideoCode=function(t,e){var i=e.html;return i},t.fn.oembed.getRichCode=function(t,e){var i=e.html;return i},t.fn.oembed.getGenericCode=function(t,e){var i=null!=e.title?e.title:t,n='<a href="'+t+'">'+i+"</a>";return e.html&&(n+="<div>"+e.html+"</div>"),n},t.fn.oembed.isProviderAvailable=function(t){var e=getOEmbedProvider(t);return null!=e},t.fn.oembed.getOEmbedProvider=function(t){for(var e=0;e<l.length;e++)if(l[e].matches(t))return l[e];return null},t.fn.oembed.OEmbedProvider=function(e,i,n,o,r){function a(e){return s(e)?["."]:t.isArray(e)?e:e.split(";")}this.name=e,this.type=i,this.urlschemes=a(n),this.apiendpoint=o,this.callbackparameter=r,this.maxWidth=500,this.maxHeight=400;var l,c,u;this.matches=function(t){for(l=0;l<this.urlschemes.length;l++)if(u=new RegExp(this.urlschemes[l],"i"),null!=t.match(u))return!0;return!1},this.fromJSON=function(t){for(c in t)this[c]="urlschemes"!=c?t[c]:a(t[c]);return!0}},t.fn.oembed.providers=[new t.fn.oembed.OEmbedProvider("youtube","video",["youtube\\.com/watch.+v=[\\w-]+&?"]),new t.fn.oembed.OEmbedProvider("flickr","photo",["flickr\\.com/photos/[-.\\w@]+/\\d+/?"],"http://flickr.com/services/oembed","jsoncallback"),new t.fn.oembed.OEmbedProvider("viddler","video",["viddler.com"]),new t.fn.oembed.OEmbedProvider("blip","video",["blip\\.tv/.+"],"http://blip.tv/oembed/"),new t.fn.oembed.OEmbedProvider("hulu","video",["hulu\\.com/watch/.*"],"http://www.hulu.com/api/oembed.json"),new t.fn.oembed.OEmbedProvider("vimeo","video",["http://www.vimeo.com/groups/.*/videos/.*","http://www.vimeo.com/.*","http://vimeo.com/groups/.*/videos/.*","http://vimeo.com/.*"],"http://vimeo.com/api/oembed.json"),new t.fn.oembed.OEmbedProvider("dailymotion","video",["dailymotion\\.com/.+"]),new t.fn.oembed.OEmbedProvider("scribd","rich",["scribd\\.com/.+"]),new t.fn.oembed.OEmbedProvider("slideshare","rich",["slideshare.net"],"http://www.slideshare.net/api/oembed/1"),new t.fn.oembed.OEmbedProvider("photobucket","photo",["photobucket\\.com/(albums|groups)/.*"],"http://photobucket.com/oembed/")]}(jQuery);